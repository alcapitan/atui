"use strict";const atuiKernel_Version="0.4.2";document.querySelectorAll(".atuiKernel_LicensingAtui").forEach(a=>{a.setAttribute("href","https://github.com/alcapitan/atui/"),a.setAttribute("target","_blank"),a.textContent=`This website is powered by ATUI v${atuiKernel_Version}.`});function atuiKernel_PrintAtuiLicensing(){console.info(`This website is powered by ATUI v${atuiKernel_Version} (https://github.com/alcapitan/atui).`)}atuiKernel_PrintAtuiLicensing();function atuiKernel_ToolsFindElement(a,b){let c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;return 1===a.querySelectorAll(b).length?[a.querySelector(b)]:1<a.querySelectorAll(b).length?Array.from(a.querySelectorAll(b)):Array.from(document.querySelectorAll(b)).includes(a)?[a]:Array.from(document.querySelectorAll(c)).includes(a)?(console.error(`No "${b}" element was found in "${c}".`),[]):null===a.parentNode?(console.error(`No "${b}" element was found in the webpage.`),[]):atuiKernel_ToolsFindElement(a.parentNode,b,c)}async function verifyLink(a){const b=await fetch(a);return!!b.ok}function convertTime(a){var b=Math.floor;const c=b(a/3600);let d=b(a%3600/60),e=b(a%60);return 10>e&&(e="0"+e),c?(10>d&&(d="0"+d),c+":"+d+":"+e):d+":"+e}function atuiKernel_ClipboardCopy(a){navigator.clipboard.writeText(a)}function atuiKernel_ClipboardPaste(){return navigator.clipboard.readText()}function atuiKernel_ShareTool(a,b,c){navigator.share({title:a,text:b,url:c})}function atuiKernel_StorageSet(a,b,c){var d=Math.floor;function e(a,b){const c=b.match(/^(\d+)([dhm])$/);if(!c)throw new Error("Invalid duration format. Use Xd, Xh, or Xm (X being a positive integer).");const d=parseInt(c[1]),e=c[2];if(isNaN(d)||0>=d)throw new Error("The quantity of time must be a positive integer.");const f=new Date(a.getTime());switch(e){case"d":f.setDate(f.getDate()+d);break;case"h":f.setTime(f.getTime()+1e3*(60*(60*d)));break;case"m":f.setTime(f.getTime()+1e3*(60*d));break;default:throw new Error("Invalid time unit. Use 'd' (= days), 'h' (= hours), or 'm' (= minutes).")}return f}let f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:"30d";switch(c){case"local":try{return localStorage.setItem(a,JSON.stringify(b)),!0}catch(a){return console.error("Error when handling localStorage :",a),!1}case"session":try{return sessionStorage.setItem(a,JSON.stringify(b)),!0}catch(a){return console.error("Error when handling sessionStorage :",a),!1}case"cookie":try{let c=`${encodeURIComponent(a)}=${encodeURIComponent(JSON.stringify(b))}`;const g=e(new Date,f),h=d((g-new Date)/1e3);return c+=`;max-age=${h}`,document.cookie=c,!0}catch(a){return console.error("Error when handling cookies :",a),!1}default:return console.error("This storage tool unavailable (check spelling) :",c),!1}}function atuiKernel_StorageGet(a,b){function c(a){try{return JSON.parse(a)}catch(b){return"undefined"===a?void 0:a}}switch(b){case"local":try{const b=localStorage.getItem(a);return null===b?null:c(b)}catch(a){return console.error("Error when handling localStorage :",a),null}case"session":try{const b=sessionStorage.getItem(a);return null===b?null:c(b)}catch(a){return console.error("Error when handling sessionStorage :",a),null}case"cookie":try{const b=document.cookie.split(";");for(const d of b){const[b,e]=d.split("=");if(decodeURIComponent(b.trim())===a){const a=decodeURIComponent(e.trim());return c(a)}}return null}catch(a){return console.error("Error when handling cookies :",a),null}default:return console.error("This storage tool unavailable (check spelling) :",b),null}}function atuiKernel_StorageRemove(a,b){switch(b){case"local":try{return localStorage.removeItem(a),!0}catch(a){return console.error("Error when handling localStorage :",a),!1}case"session":try{return sessionStorage.removeItem(a),!0}catch(a){return console.error("Error when handling sessionStorage :",a),!1}case"cookie":try{return document.cookie=`${encodeURIComponent(a)}=; expires=Thu, 01 Jan 1970 00:00:00 GMT;`,!0}catch(a){return console.error("Error when handling cookies :",a),!1}default:return console.error("This storage tool unavailable (check spelling) :",b),!1}}function atuiKernel_ColormodeIsDark(){return"dark"===document.documentElement.getAttribute("data-atui-colormode")}function atuiKernel_ColormodeToggle(){document.querySelectorAll(".atuiKernel_ColormodeButton").forEach(a=>{atuiKernel_ColormodeIsDark()?(document.documentElement.setAttribute("data-atui-colormode","light"),a.classList.replace("ti-moon","ti-sun")):(document.documentElement.setAttribute("data-atui-colormode","dark"),a.classList.replace("ti-sun","ti-moon"))}),atuiKernel_StorageSet("atuiKernel_ColormodeIsDark",atuiKernel_ColormodeIsDark(),"local")}function atuiKernel_ColormodeStartup(){const a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;if(a)return atuiKernel_ColormodeToggle(),console.info("Dark mode enabled according to the system preferences."),!0;const b=atuiKernel_StorageGet("atuiKernel_ColormodeIsDark","local");return b&&(atuiKernel_ColormodeToggle(),console.info("Dark mode enabled according to the memory.")),!1}atuiKernel_ColormodeStartup(),document.querySelectorAll(".atuiKernel_ColormodeButton").forEach(a=>{a.addEventListener("click",()=>{atuiKernel_ColormodeToggle()})});function atuiKernel_ColoraccentMetatag(){let a=document.querySelector("meta[name=\"data-atui-colormode\"]");a||(a=document.createElement("meta"),a.setAttribute("name","theme-color"),document.head.appendChild(a)),a.setAttribute("content",`hsl(${getComputedStyle(document.documentElement).getPropertyValue("--atuiKernel_Color-A40")})`)}function atuiKernel_PopupSetup(a){function b(b){g.contains(b.target)||a.contains(b.target)||d(g)}function c(){f(a,g,h)}function d(a){document.removeEventListener("scroll",c),window.removeEventListener("resize",c),document.removeEventListener("click",b),a.style.visibility="hidden"}function e(a){a.style.visibility="visible"}function f(a,b,c){b.style.left="0",b.style.top="0";const d={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},e=a.getBoundingClientRect(),f=b.getBoundingClientRect(),g="rtl"===getComputedStyle(a).direction,h=g?0>e.left-f.width:e.left+f.width>d.width,i=e.top+f.height>d.height,j={left:0,top:0};j.left="centered"===c.type||"centered-hor"===c.type?(d.width-f.width)/2:h&&!g||!h&&g?e.right-f.left-f.width-5:e.left-f.left+5,j.top="centered"===c.type||"centered-ver"===c.type?(d.height-f.height)/2:i?e.top-f.top-f.height+5:e.bottom-f.top-5,b.style.left=j.left+"px",b.style.top=j.top+"px"}const g=atuiKernel_ToolsFindElement(a,a.getAttribute("data-vk-popup-assign"))[0],h={type:"default",triggerEvent:"mouseover",outEvent:"click"};g.classList.contains("atuiKernel_PopupGlobalpanel")&&(h.type="centered-hor"),a.classList.contains("optionRightclick")&&(h.triggerEvent="contextmenu"),a.addEventListener(h.triggerEvent,i=>{"contextmenu"===h.triggerEvent&&i.preventDefault(),document.querySelectorAll(".atuiKernel_PopupContextmenu, .atuiKernel_PopupTooltip, .atuiKernel_PopupGlobalpanel").forEach(a=>{d(a)}),f(a,g,h),e(g),document.addEventListener("scroll",c),window.addEventListener("resize",c),document.addEventListener(h.outEvent,a=>{b(a)})})}document.querySelectorAll("[data-vk-popup-assign]").forEach(a=>{atuiKernel_PopupSetup(a)});function atuiKernel_NotificationPush(a){function b(){const b=new Notification(a.title,{body:a.text||"",icon:a.image?a.image:a.icon?`https://cdn.jsdelivr.net/npm/@tabler/icons/icons/${a.icon}.svg`:""});b.onclick=b=>{a.link&&""!==a.link&&(b.preventDefault(),window.open(a.link))}}function c(){const b=document.createElement("div");b.classList.add("atuiKernel_Notification"),"atui-mini"===a.type&&b.classList.add("optionMini");const c=document.createElement("header");let d;(a.image||a.icon)&&(a.image?(d=document.createElement("img"),d.setAttribute("src",a.image)):a.icon&&(d=document.createElement("i"),d.classList.add("ti",`ti-${a.icon}`)),c.appendChild(d));const e=document.createElement("p");if(e.textContent="atui-mini"===a.type?a.text:a.title,c.appendChild(e),b.appendChild(c),"atui-mini"!==a.type){const c=document.createElement("section"),d=document.createElement("p");d.innerHTML=a.text,c.appendChild(d),b.appendChild(c)}const f=document.createElement("footer");a.buttons.forEach(a=>{const c=document.createElement("div");c.classList.add("atuiKernel_Button","optionAccent"),a.option&&""!==a.option&&c.classList.add(`option${a.option}`);const d=document.createElement("p");d.textContent=a.text,c.appendChild(d),c.addEventListener("click",()=>{a.action(),b.remove()}),f.appendChild(c)}),b.appendChild(f);let g=document.querySelector(".atuiKernel_NotificationContainer");if(g||(g=document.createElement("div"),g.classList.add("atuiKernel_NotificationContainer"),document.body.appendChild(g)),g.insertBefore(b,g.firstChild),!1!==a.close){let c=!1;b.addEventListener("mouseenter",()=>{c=!0}),b.addEventListener("mouseleave",()=>{c=!1}),setTimeout(()=>{c?b.addEventListener("mouseleave",()=>{setTimeout(()=>{b.remove()},2e3)}):b.remove()},a.close||5e3)}}(async function(){return!("granted"!==Notification.permission)||(await Notification.requestPermission(),"granted"===Notification.permission)})().then(d=>{if(!d)return console.error("Notification cannot be displayed because permission has been denied.");if((!a.title||""===a.title)&&"atui-mini"!==a.type)return console.error("Notification should have a title.");if("system"===a.type)b();else if(!a.type.startsWith("atui"))console.error(`Notification type ${a.type} doesn't exist.`);else if(c(),!("sound"in a)){const a=new Audio(atuiKernel_NotificationSound);a.play()}else if(a.sound){const b=new Audio(a.sound);b.play()}})}let atuiKernel_NotificationSound="atui/kernel/assets/notification.mp3";const atuiKernel_HeaderFixCarousel=()=>{document.querySelectorAll(".atuiKernel_Header.optionCarousel").forEach(a=>{const b=atuiKernel_ToolsFindElement(a,".atuiKernel_Carousel",".atuiKernel_BodyContent")[0],c=atuiKernel_ToolsFindElement(b,".atuiKernel_CarouselSlides > div > div",".atuiKernel_Carousel"),d=b.querySelector(".atuiKernel_CarouselControls");b.style.minHeight=2*a.offsetHeight+"px",c.forEach(b=>{b.style.paddingBlockStart=a.offsetHeight+20+"px"}),d.style.marginBlockStart=a.offsetHeight+"px"})};atuiKernel_HeaderFixCarousel(),window.addEventListener("resize",atuiKernel_HeaderFixCarousel),document.querySelectorAll(".atuiKernel_Carousel").forEach(a=>{const b=a.querySelector(".atuiKernel_CarouselSlides"),c=a.querySelector(".atuiKernel_CarouselControls"),d=c?.querySelector(".atuiKernel_CarouselControlsLeft"),e=c?.querySelector(".atuiKernel_CarouselControlsRight");d?.addEventListener("click",()=>{b.scrollBy({left:-b.offsetWidth,behavior:"smooth"})}),e?.addEventListener("click",()=>{b.scrollBy({left:b.offsetWidth,behavior:"smooth"})})});function atuiKernel_ModalShow(a){const b=document.getElementById(a);b.classList.add("optionShow"),document.addEventListener("click",function(a){a.target===b&&b.classList.remove("optionShow")})}document.querySelectorAll(".atuiKernel_SectionTabs").forEach(a=>{const b=a.querySelector(".atuiKernel_SectionTabsHeader"),c=b.querySelectorAll("a"),d=a.querySelector(".atuiKernel_SectionTabsContent"),e=d.querySelectorAll("div");c.forEach(a=>{a.addEventListener("click",()=>{c.forEach(a=>{a.classList.remove("optionActive")}),e.forEach(a=>{a.classList.remove("optionActive")}),a.classList.add("optionActive"),document.getElementById(a.getAttribute("data-tabs-assign")).classList.add("optionActive")})})}),document.querySelectorAll(".atuiKernel_SectionAccordion").forEach(a=>{const b=a.querySelector("header"),c=b.querySelector("i"),d=a.querySelector("section");b.addEventListener("click",()=>{"none"===window.getComputedStyle(d).display?(d.style.display="block",c.style.transform="rotate(180deg)"):"block"===window.getComputedStyle(d).display?(d.style.display="none",c.style.transform="rotate(0deg)"):console.error("An unexpected error has occurred.")})}),document.querySelectorAll(".atuiKernel_Scrolltop").forEach(a=>{a.addEventListener("click",()=>{window.scrollTo({top:0})}),window.addEventListener("scroll",()=>{window.scrollY>window.innerHeight?a.classList.add("optionActive"):a.classList.remove("optionActive")})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdHVpS2VybmVsX1ZlcnNpb24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwibGluayIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiYXR1aUtlcm5lbF9QcmludEF0dWlMaWNlbnNpbmciLCJjb25zb2xlIiwiaW5mbyIsImF0dWlLZXJuZWxfVG9vbHNGaW5kRWxlbWVudCIsImVsZW1lbnQiLCJxdWVyeSIsInN0b3AiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJxdWVyeVNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwiaW5jbHVkZXMiLCJlcnJvciIsInBhcmVudE5vZGUiLCJ2ZXJpZnlMaW5rIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiY29udmVydFRpbWUiLCJ0aW1lIiwiYiIsIk1hdGgiLCJmbG9vciIsImhvdXJzIiwibWlucyIsInNlY3MiLCJhdHVpS2VybmVsX0NsaXBib2FyZENvcHkiLCJ0ZXh0IiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwiYXR1aUtlcm5lbF9DbGlwYm9hcmRQYXN0ZSIsInJlYWRUZXh0IiwiYXR1aUtlcm5lbF9TaGFyZVRvb2wiLCJ0aXRsZSIsInNoYXJlIiwiYXR1aUtlcm5lbF9TdG9yYWdlU2V0Iiwia2V5IiwidmFsdWUiLCJ0b29sIiwiZCIsImFkZER1cmF0aW9uVG9EYXRlIiwiZGF0ZSIsImR1cmF0aW9uIiwibWF0Y2giLCJFcnJvciIsInF1YW50aXR5IiwicGFyc2VJbnQiLCJ1bml0IiwiaXNOYU4iLCJkYXRlQ29weSIsIkRhdGUiLCJnZXRUaW1lIiwic2V0RGF0ZSIsImdldERhdGUiLCJzZXRUaW1lIiwibGlmZXRpbWUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInNlc3Npb25TdG9yYWdlIiwiY29va2llIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZXhwaXJhdGlvbkRhdGUiLCJtYXhBZ2VJblNlY29uZHMiLCJhdHVpS2VybmVsX1N0b3JhZ2VHZXQiLCJjb252ZXJ0VG9Mb2dpY2FsVHlwZSIsInBhcnNlIiwiZGF0YSIsImdldEl0ZW0iLCJjb29raWVzIiwic3BsaXQiLCJjb29raWVOYW1lIiwiY29va2llVmFsdWUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ0cmltIiwiYXR1aUtlcm5lbF9TdG9yYWdlUmVtb3ZlIiwicmVtb3ZlSXRlbSIsImF0dWlLZXJuZWxfQ29sb3Jtb2RlSXNEYXJrIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwiYXR1aUtlcm5lbF9Db2xvcm1vZGVUb2dnbGUiLCJidXR0b24iLCJjbGFzc0xpc3QiLCJyZXBsYWNlIiwiYXR1aUtlcm5lbF9Db2xvcm1vZGVTdGFydHVwIiwic3lzdGVtU3RhdHVzIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJsb2NhbFN0YXR1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHVpS2VybmVsX0NvbG9yYWNjZW50TWV0YXRhZyIsIm1ldGFUYWciLCJjcmVhdGVFbGVtZW50IiwiaGVhZCIsImFwcGVuZENoaWxkIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJhdHVpS2VybmVsX1BvcHVwU2V0dXAiLCJsaXN0ZW5lciIsImRldGVjdE91dHNpZGVDbGljayIsImV2ZW50IiwicG9wdXAiLCJjb250YWlucyIsInRhcmdldCIsImF0dWlLZXJuZWxfUG9wdXBIaWRlIiwiYXR1aUtlcm5lbF9Qb3B1cFJlbG9hZCIsImF0dWlLZXJuZWxfUG9wdXBQb3NpdGlvbiIsIm9wdGlvbnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiYXR1aUtlcm5lbF9Qb3B1cERpc3BsYXkiLCJsZWZ0IiwidG9wIiwid2luZG93RGltZW5zaW9ucyIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJsaXN0ZW5lclBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicG9wdXBQb3NpdGlvbiIsImlzTGlzdGVuZXJSVEwiLCJkaXJlY3Rpb24iLCJvdmVyZmxvd0lubGluZSIsIm92ZXJmbG93Qm90dG9tIiwiY2FsY3VsYXRlZFBvc2l0aW9uIiwidHlwZSIsInJpZ2h0IiwiYm90dG9tIiwidHJpZ2dlckV2ZW50Iiwib3V0RXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImF0dWlLZXJuZWxfTm90aWZpY2F0aW9uUHVzaCIsInN5c3RlbVB1c2giLCJub3RpZmljYXRpb24iLCJOb3RpZmljYXRpb24iLCJib2R5IiwiaWNvbiIsImltYWdlIiwib25jbGljayIsIm9wZW4iLCJpbnRlcm5QdXNoIiwiYWRkIiwiaGVhZGVyIiwic2VjdGlvbiIsImNvbnRlbnQiLCJpbm5lckhUTUwiLCJmb290ZXIiLCJidXR0b25zIiwiYnV0dG9uRWxlbWVudCIsIm9wdGlvbiIsImJ1dHRvblRleHRFbGVtZW50IiwiYWN0aW9uIiwicmVtb3ZlIiwiY29udGFpbmVyIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImNsb3NlIiwibW91c2VPdmVyIiwic2V0VGltZW91dCIsInBlcm1pc3Npb24iLCJyZXF1ZXN0UGVybWlzc2lvbiIsInRoZW4iLCJzdGFydHNXaXRoIiwic291bmQiLCJBdWRpbyIsImF0dWlLZXJuZWxfTm90aWZpY2F0aW9uU291bmQiLCJwbGF5IiwiYXR1aUtlcm5lbF9IZWFkZXJGaXhDYXJvdXNlbCIsImNhcm91c2VsIiwiY2Fyb3VzZWxDb250ZW50IiwiY2Fyb3VzZWxDb250cm9scyIsIm1pbkhlaWdodCIsIm9mZnNldEhlaWdodCIsInBhZGRpbmdCbG9ja1N0YXJ0IiwibWFyZ2luQmxvY2tTdGFydCIsInNsaWRlc0NvbnRhaW5lciIsImNvbnRyb2xzIiwiY29udHJvbHNMZWZ0IiwiY29udHJvbHNSaWdodCIsInNjcm9sbEJ5Iiwib2Zmc2V0V2lkdGgiLCJiZWhhdmlvciIsImF0dWlLZXJuZWxfTW9kYWxTaG93IiwibW9kYWxJZCIsIm1vZGFsQmFja2dyb3VuZCIsImdldEVsZW1lbnRCeUlkIiwidGFic0NvbnRhaW5lciIsInRhYnNIZWFkZXIiLCJ0YWJzSGVhZGVyTGlua3MiLCJ0YWJzQ29udGVudCIsInRhYnNDb250ZW50VGV4dHMiLCJ0YWIiLCJhY2NvcmRpb24iLCJkaXNwbGF5IiwidHJhbnNmb3JtIiwic2Nyb2xsVG8iLCJzY3JvbGxZIiwiaW5uZXJIZWlnaHQiXSwic291cmNlcyI6WyIuLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEFUVUkgdjAuNC4yIChodHRwczovL2dpdGh1Yi5jb20vYWxjYXBpdGFuL2F0dWkpXG4gKiBUaGlzIGNvZGUgaXMgcmVsZWFzZWQgdW5kZXIgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbGNhcGl0YW4vYXR1aS9ibG9iL2Rldi9MSUNFTlNFLm1kKVxuICovXG5cbi8qIExpY2Vuc2luZyAqL1xuXG5jb25zdCBhdHVpS2VybmVsX1ZlcnNpb24gPSBcIjAuNC4yXCI7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXR1aUtlcm5lbF9MaWNlbnNpbmdBdHVpXCIpLmZvckVhY2goKGxpbmspID0+IHtcbiAgICBsaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCJodHRwczovL2dpdGh1Yi5jb20vYWxjYXBpdGFuL2F0dWkvXCIpO1xuICAgIGxpbmsuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuICAgIGxpbmsudGV4dENvbnRlbnQgPSBgVGhpcyB3ZWJzaXRlIGlzIHBvd2VyZWQgYnkgQVRVSSB2JHthdHVpS2VybmVsX1ZlcnNpb259LmA7XG59KTtcblxuZnVuY3Rpb24gYXR1aUtlcm5lbF9QcmludEF0dWlMaWNlbnNpbmcoKSB7XG4gICAgY29uc29sZS5pbmZvKGBUaGlzIHdlYnNpdGUgaXMgcG93ZXJlZCBieSBBVFVJIHYke2F0dWlLZXJuZWxfVmVyc2lvbn0gKGh0dHBzOi8vZ2l0aHViLmNvbS9hbGNhcGl0YW4vYXR1aSkuYCk7XG59XG5hdHVpS2VybmVsX1ByaW50QXR1aUxpY2Vuc2luZygpO1xuXG4vKiBGaW5kIGFzc29jaWF0ZWQgZWxlbWVudCAqL1xuXG5mdW5jdGlvbiBhdHVpS2VybmVsX1Rvb2xzRmluZEVsZW1lbnQoZWxlbWVudCwgcXVlcnksIHN0b3AgPSBudWxsKSB7XG4gICAgLyoqXG4gICAgICogISBUaGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIGl0IHdpbGwgYmUgcmVwbGFjZWQgYnkgbmF0aXZlIGphdmFzY3JpcHQgZnVuY3Rpb24gY2xvc2VzdCgpLlxuICAgICAqL1xuICAgIGlmIChlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBJZiBlbGVtZW50IGhhcyBxdWVyeS5cbiAgICAgICAgcmV0dXJuIFtlbGVtZW50LnF1ZXJ5U2VsZWN0b3IocXVlcnkpXTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChxdWVyeSkubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBJZiBlbGVtZW50IGhhcyBzZXZlcmFsIHF1ZXJpZXMuXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChxdWVyeSkpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSkuaW5jbHVkZXMoZWxlbWVudCkpIHtcbiAgICAgICAgLy8gSWYgZWxlbWVudCBpcyBxdWVyeS5cbiAgICAgICAgcmV0dXJuIFtlbGVtZW50XTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzdG9wKSkuaW5jbHVkZXMoZWxlbWVudCkpIHtcbiAgICAgICAgLy8gSWYgZWxlbWVudCBpcyBzdG9wLlxuICAgICAgICBjb25zb2xlLmVycm9yKGBObyBcIiR7cXVlcnl9XCIgZWxlbWVudCB3YXMgZm91bmQgaW4gXCIke3N0b3B9XCIuYCk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBJZiBlbGVtZW50IGlzIHJvb3QuXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYE5vIFwiJHtxdWVyeX1cIiBlbGVtZW50IHdhcyBmb3VuZCBpbiB0aGUgd2VicGFnZS5gKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoZSBwYXJlbnQgb2YgZWxlbWVudCBtYXkgaGF2ZSBxdWVyeS5cbiAgICAgICAgcmV0dXJuIGF0dWlLZXJuZWxfVG9vbHNGaW5kRWxlbWVudChlbGVtZW50LnBhcmVudE5vZGUsIHF1ZXJ5LCBzdG9wKTtcbiAgICB9XG59XG5cbi8qIFZlcmlmeSBsaW5rICovXG5cbmFzeW5jIGZ1bmN0aW9uIHZlcmlmeUxpbmsodXJsKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vKiBDb252ZXJ0IHRpbWUgZGF0YSB0byBiZSByZWFkYWJsZSBieSBodW1hbnMgKi9cblxuZnVuY3Rpb24gY29udmVydFRpbWUodGltZSkge1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcih0aW1lIC8gMzYwMCk7XG4gICAgbGV0IG1pbnMgPSBNYXRoLmZsb29yKCh0aW1lICUgMzYwMCkgLyA2MCk7XG4gICAgbGV0IHNlY3MgPSBNYXRoLmZsb29yKHRpbWUgJSA2MCk7XG4gICAgaWYgKHNlY3MgPCAxMCkge1xuICAgICAgICBzZWNzID0gXCIwXCIgKyBzZWNzO1xuICAgIH1cbiAgICBpZiAoaG91cnMpIHtcbiAgICAgICAgaWYgKG1pbnMgPCAxMCkge1xuICAgICAgICAgICAgbWlucyA9IFwiMFwiICsgbWlucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG91cnMgKyBcIjpcIiArIG1pbnMgKyBcIjpcIiArIHNlY3M7IC8vIGhoOm1tOnNzXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1pbnMgKyBcIjpcIiArIHNlY3M7IC8vIG1tOnNzXG4gICAgfVxufVxuXG4vKiBDbGlwYm9hcmQgdG9vbHMgKi9cblxuZnVuY3Rpb24gYXR1aUtlcm5lbF9DbGlwYm9hcmRDb3B5KHRleHQpIHtcbiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcbn1cblxuZnVuY3Rpb24gYXR1aUtlcm5lbF9DbGlwYm9hcmRQYXN0ZSgpIHtcbiAgICByZXR1cm4gbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpO1xufVxuXG4vKiBTaGFyZSB0b29sICovXG5cbmZ1bmN0aW9uIGF0dWlLZXJuZWxfU2hhcmVUb29sKHRpdGxlLCB0ZXh0LCB1cmwpIHtcbiAgICBuYXZpZ2F0b3Iuc2hhcmUoe1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgdGV4dCxcbiAgICAgICAgdXJsLFxuICAgIH0pO1xufVxuXG4vKiBEYXRhIHN0b3JhZ2UgKi9cblxuLyoqXG4gKiBDcmVhdGUgb3IgdXBkYXRlIGRhdGEgc3RvcmVkIGluIHRoZSB1c2VyJ3MgZGV2aWNlICh3aXRoIGxvY2FsU3RvcmFnZSwgc2Vzc2lvblN0b3JhZ2UsIG9yIGNvb2tpZXMpLlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgdG8gaWRlbnRpZnkgdGhlIGRhdGEuXG4gKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIGRhdGEgdG8gYmUgc2F2ZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9vbCAtIFRoZSBzdG9yYWdlIHRvb2wgdG8gdXNlOiBcImxvY2FsXCIgKG1lYW5zIGxvY2FsU3RvcmFnZSksIFwic2Vzc2lvblwiIChtZWFucyBzZXNzaW9uU3RvcmFnZSksIG9yIFwiY29va2llXCIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2xpZmV0aW1lPVwiMzBkXCJdIC0gVGhlIGRhdGEncyBsaWZldGltZSAob25seSBmb3IgXCJjb29raWVcIiBzdG9yYWdlKSAoXCIzN21cIiBtZWFucyAzNyBtaW51dGVzLCBcIjRoXCIgbWVhbnMgNCBob3VycyBhbmQgXCI4ZFwiIG1lYW5zIDggZGF5cykuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBkYXRhIHdhcyBzYXZlZCBzdWNjZXNzZnVsbHksIG90aGVyd2lzZSBmYWxzZS5cbiAqL1xuZnVuY3Rpb24gYXR1aUtlcm5lbF9TdG9yYWdlU2V0KGtleSwgdmFsdWUsIHRvb2wsIGxpZmV0aW1lID0gXCIzMGRcIikge1xuICAgIGZ1bmN0aW9uIGFkZER1cmF0aW9uVG9EYXRlKGRhdGUsIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL14oXFxkKykoW2RobV0pJC87XG4gICAgICAgIGNvbnN0IG1hdGNoID0gZHVyYXRpb24ubWF0Y2gocmVnZXgpO1xuXG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZHVyYXRpb24gZm9ybWF0LiBVc2UgWGQsIFhoLCBvciBYbSAoWCBiZWluZyBhIHBvc2l0aXZlIGludGVnZXIpLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xuICAgICAgICBjb25zdCB1bml0ID0gbWF0Y2hbMl07XG5cbiAgICAgICAgaWYgKGlzTmFOKHF1YW50aXR5KSB8fCBxdWFudGl0eSA8PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcXVhbnRpdHkgb2YgdGltZSBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkYXRlQ29weSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcblxuICAgICAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJkXCI6IC8vIERheXNcbiAgICAgICAgICAgICAgICBkYXRlQ29weS5zZXREYXRlKGRhdGVDb3B5LmdldERhdGUoKSArIHF1YW50aXR5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJoXCI6IC8vIEhvdXJzXG4gICAgICAgICAgICAgICAgZGF0ZUNvcHkuc2V0VGltZShkYXRlQ29weS5nZXRUaW1lKCkgKyBxdWFudGl0eSAqIDYwICogNjAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtXCI6IC8vIE1pbnV0ZXNcbiAgICAgICAgICAgICAgICBkYXRlQ29weS5zZXRUaW1lKGRhdGVDb3B5LmdldFRpbWUoKSArIHF1YW50aXR5ICogNjAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0aW1lIHVuaXQuIFVzZSAnZCcgKD0gZGF5cyksICdoJyAoPSBob3VycyksIG9yICdtJyAoPSBtaW51dGVzKS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0ZUNvcHk7XG4gICAgfVxuXG4gICAgc3dpdGNoICh0b29sKSB7XG4gICAgICAgIGNhc2UgXCJsb2NhbFwiOlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGVuIGhhbmRsaW5nIGxvY2FsU3RvcmFnZSA6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igd2hlbiBoYW5kbGluZyBzZXNzaW9uU3RvcmFnZSA6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJjb29raWVcIjpcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvb2tpZSA9IGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT0ke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwaXJhdGlvbkRhdGUgPSBhZGREdXJhdGlvblRvRGF0ZShuZXcgRGF0ZSgpLCBsaWZldGltZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4QWdlSW5TZWNvbmRzID0gTWF0aC5mbG9vcigoZXhwaXJhdGlvbkRhdGUgLSBuZXcgRGF0ZSgpKSAvIDEwMDApO1xuICAgICAgICAgICAgICAgIGNvb2tpZSArPSBgO21heC1hZ2U9JHttYXhBZ2VJblNlY29uZHN9YDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGVuIGhhbmRsaW5nIGNvb2tpZXMgOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoaXMgc3RvcmFnZSB0b29sIHVuYXZhaWxhYmxlIChjaGVjayBzcGVsbGluZykgOlwiLCB0b29sKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0cmlldmVzIGRhdGEgc3RvcmVkIGluIHRoZSB1c2VyJ3MgZGV2aWNlICh3aXRoIGxvY2FsU3RvcmFnZSwgc2Vzc2lvblN0b3JhZ2UsIG9yIGNvb2tpZXMpLlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgdG8gaWRlbnRpZnkgdGhlIGRhdGEgdG8gcmV0cmlldmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9vbCAtIFRoZSBzdG9yYWdlIHRvb2wgdG8gdXNlOiBcImxvY2FsXCIgKG1lYW5zIGxvY2FsU3RvcmFnZSksIFwic2Vzc2lvblwiIChtZWFucyBzZXNzaW9uU3RvcmFnZSksIG9yIFwiY29va2llXCIuXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJldHJpZXZlZCBkYXRhIG9yIG51bGwgaWYgbm8gZGF0YSBpcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gYXR1aUtlcm5lbF9TdG9yYWdlR2V0KGtleSwgdG9vbCkge1xuICAgIGZ1bmN0aW9uIGNvbnZlcnRUb0xvZ2ljYWxUeXBlKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7IC8vIElmIHRoZSB2YWx1ZSBpcyBhIGRpY3Rpb25hcnksIGFuIGFycmF5LCBhIGJvb2xlYW4sIGEgbnVtYmVyLCBvciBudWxsXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IFwidW5kZWZpbmVkXCIgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodG9vbCkge1xuICAgICAgICBjYXNlIFwibG9jYWxcIjpcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBjb252ZXJ0VG9Mb2dpY2FsVHlwZShkYXRhKSA6IG51bGw7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGVuIGhhbmRsaW5nIGxvY2FsU3RvcmFnZSA6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGNvbnZlcnRUb0xvZ2ljYWxUeXBlKGRhdGEpIDogbnVsbDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdoZW4gaGFuZGxpbmcgc2Vzc2lvblN0b3JhZ2UgOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJjb29raWVcIjpcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb29raWUgb2YgY29va2llcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbY29va2llTmFtZSwgY29va2llVmFsdWVdID0gY29va2llLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZVVSSUNvbXBvbmVudChjb29raWVOYW1lLnRyaW0oKSkgPT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRlY29kZVVSSUNvbXBvbmVudChjb29raWVWYWx1ZS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRUb0xvZ2ljYWxUeXBlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBJZiBubyBjb29raWUgZm91bmRcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdoZW4gaGFuZGxpbmcgY29va2llcyA6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGlzIHN0b3JhZ2UgdG9vbCB1bmF2YWlsYWJsZSAoY2hlY2sgc3BlbGxpbmcpIDpcIiwgdG9vbCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBkYXRhIHN0b3JlZCBpbiB0aGUgdXNlcidzIGRldmljZSAod2l0aCBsb2NhbFN0b3JhZ2UsIHNlc3Npb25TdG9yYWdlLCBvciBjb29raWVzKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IHRvIGlkZW50aWZ5IHRoZSBkYXRhIHRvIHJlbW92ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0b29sIC0gVGhlIHN0b3JhZ2UgdG9vbCB0byB1c2U6IFwibG9jYWxcIiAobWVhbnMgbG9jYWxTdG9yYWdlKSwgXCJzZXNzaW9uXCIgKG1lYW5zIHNlc3Npb25TdG9yYWdlKSwgb3IgXCJjb29raWVcIi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGRhdGEgd2FzIHJlbW92ZWQgc3VjY2Vzc2Z1bGx5LCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cbmZ1bmN0aW9uIGF0dWlLZXJuZWxfU3RvcmFnZVJlbW92ZShrZXksIHRvb2wpIHtcbiAgICBzd2l0Y2ggKHRvb2wpIHtcbiAgICAgICAgY2FzZSBcImxvY2FsXCI6XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aGVuIGhhbmRsaW5nIGxvY2FsU3RvcmFnZSA6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdoZW4gaGFuZGxpbmcgc2Vzc2lvblN0b3JhZ2UgOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiY29va2llXCI6XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke2VuY29kZVVSSUNvbXBvbmVudChrZXkpfT07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQ7YDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdoZW4gaGFuZGxpbmcgY29va2llcyA6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhpcyBzdG9yYWdlIHRvb2wgdW5hdmFpbGFibGUgKGNoZWNrIHNwZWxsaW5nKSA6XCIsIHRvb2wpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLyogRGlzcGxheSBtb2RlICovXG5cbmZ1bmN0aW9uIGF0dWlLZXJuZWxfQ29sb3Jtb2RlSXNEYXJrKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hdHVpLWNvbG9ybW9kZVwiKSA9PT0gXCJkYXJrXCI7XG59XG5cbmZ1bmN0aW9uIGF0dWlLZXJuZWxfQ29sb3Jtb2RlVG9nZ2xlKCkge1xuICAgIC8qIFRvZ2dsZXMgdGhlIHN0YXR1cyAqL1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXR1aUtlcm5lbF9Db2xvcm1vZGVCdXR0b25cIikuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGlmIChhdHVpS2VybmVsX0NvbG9ybW9kZUlzRGFyaygpKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1hdHVpLWNvbG9ybW9kZVwiLCBcImxpZ2h0XCIpO1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZXBsYWNlKFwidGktbW9vblwiLCBcInRpLXN1blwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWF0dWktY29sb3Jtb2RlXCIsIFwiZGFya1wiKTtcbiAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVwbGFjZShcInRpLXN1blwiLCBcInRpLW1vb25cIik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBhdHVpS2VybmVsX1N0b3JhZ2VTZXQoXCJhdHVpS2VybmVsX0NvbG9ybW9kZUlzRGFya1wiLCBhdHVpS2VybmVsX0NvbG9ybW9kZUlzRGFyaygpLCBcImxvY2FsXCIpO1xufVxuXG5mdW5jdGlvbiBhdHVpS2VybmVsX0NvbG9ybW9kZVN0YXJ0dXAoKSB7XG4gICAgY29uc3Qgc3lzdGVtU3RhdHVzID0gd2luZG93Lm1hdGNoTWVkaWEgJiYgd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXM7XG4gICAgaWYgKHN5c3RlbVN0YXR1cykge1xuICAgICAgICBhdHVpS2VybmVsX0NvbG9ybW9kZVRvZ2dsZSgpO1xuICAgICAgICBjb25zb2xlLmluZm8oXCJEYXJrIG1vZGUgZW5hYmxlZCBhY2NvcmRpbmcgdG8gdGhlIHN5c3RlbSBwcmVmZXJlbmNlcy5cIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGxvY2FsU3RhdHVzID0gYXR1aUtlcm5lbF9TdG9yYWdlR2V0KFwiYXR1aUtlcm5lbF9Db2xvcm1vZGVJc0RhcmtcIiwgXCJsb2NhbFwiKTtcbiAgICBpZiAobG9jYWxTdGF0dXMpIHtcbiAgICAgICAgYXR1aUtlcm5lbF9Db2xvcm1vZGVUb2dnbGUoKTtcbiAgICAgICAgY29uc29sZS5pbmZvKFwiRGFyayBtb2RlIGVuYWJsZWQgYWNjb3JkaW5nIHRvIHRoZSBtZW1vcnkuXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cbmF0dWlLZXJuZWxfQ29sb3Jtb2RlU3RhcnR1cCgpO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmF0dWlLZXJuZWxfQ29sb3Jtb2RlQnV0dG9uXCIpLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBhdHVpS2VybmVsX0NvbG9ybW9kZVRvZ2dsZSgpO1xuICAgIH0pO1xufSk7XG5cbi8qIENvbG9yIGFjY2VudCAqL1xuXG5mdW5jdGlvbiBhdHVpS2VybmVsX0NvbG9yYWNjZW50TWV0YXRhZygpIHtcbiAgICBsZXQgbWV0YVRhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImRhdGEtYXR1aS1jb2xvcm1vZGVcIl0nKTtcbiAgICBpZiAoIW1ldGFUYWcpIHtcbiAgICAgICAgbWV0YVRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIpO1xuICAgICAgICBtZXRhVGFnLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJ0aGVtZS1jb2xvclwiKTtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChtZXRhVGFnKTtcbiAgICB9XG4gICAgbWV0YVRhZy5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIFwiY29udGVudFwiLFxuICAgICAgICBgaHNsKCR7Z2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoXCItLWF0dWlLZXJuZWxfQ29sb3ItQTQwXCIpfSlgLFxuICAgICk7XG59XG5cbi8qIFBvcC11cCAqL1xuXG5mdW5jdGlvbiBhdHVpS2VybmVsX1BvcHVwU2V0dXAobGlzdGVuZXIpIHtcbiAgICBjb25zdCBwb3B1cCA9IGF0dWlLZXJuZWxfVG9vbHNGaW5kRWxlbWVudChsaXN0ZW5lciwgbGlzdGVuZXIuZ2V0QXR0cmlidXRlKFwiZGF0YS12ay1wb3B1cC1hc3NpZ25cIikpWzBdO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgdHlwZTogXCJkZWZhdWx0XCIsXG4gICAgICAgIHRyaWdnZXJFdmVudDogXCJtb3VzZW92ZXJcIixcbiAgICAgICAgb3V0RXZlbnQ6IFwiY2xpY2tcIixcbiAgICB9O1xuXG4gICAgaWYgKHBvcHVwLmNsYXNzTGlzdC5jb250YWlucyhcImF0dWlLZXJuZWxfUG9wdXBHbG9iYWxwYW5lbFwiKSkge1xuICAgICAgICBvcHRpb25zLnR5cGUgPSBcImNlbnRlcmVkLWhvclwiO1xuICAgIH1cblxuICAgIGlmIChsaXN0ZW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJvcHRpb25SaWdodGNsaWNrXCIpKSB7XG4gICAgICAgIG9wdGlvbnMudHJpZ2dlckV2ZW50ID0gXCJjb250ZXh0bWVudVwiO1xuICAgIH1cblxuICAgIGxpc3RlbmVyLmFkZEV2ZW50TGlzdGVuZXIob3B0aW9ucy50cmlnZ2VyRXZlbnQsIChldmVudCkgPT4ge1xuICAgICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgY29udGV4dCBtZW51IG9uIHJpZ2h0IGNsaWNrXG4gICAgICAgIGlmIChvcHRpb25zLnRyaWdnZXJFdmVudCA9PT0gXCJjb250ZXh0bWVudVwiKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGlkZSBhbGwgcG9wdXBzXG4gICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbChcIi5hdHVpS2VybmVsX1BvcHVwQ29udGV4dG1lbnUsIC5hdHVpS2VybmVsX1BvcHVwVG9vbHRpcCwgLmF0dWlLZXJuZWxfUG9wdXBHbG9iYWxwYW5lbFwiKVxuICAgICAgICAgICAgLmZvckVhY2goKHBvcHVwKSA9PiB7XG4gICAgICAgICAgICAgICAgYXR1aUtlcm5lbF9Qb3B1cEhpZGUocG9wdXApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgYXR1aUtlcm5lbF9Qb3B1cFBvc2l0aW9uKGxpc3RlbmVyLCBwb3B1cCwgb3B0aW9ucyk7XG4gICAgICAgIGF0dWlLZXJuZWxfUG9wdXBEaXNwbGF5KHBvcHVwKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBhdHVpS2VybmVsX1BvcHVwUmVsb2FkKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYXR1aUtlcm5lbF9Qb3B1cFJlbG9hZCk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihvcHRpb25zLm91dEV2ZW50LCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGRldGVjdE91dHNpZGVDbGljayhldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZGV0ZWN0T3V0c2lkZUNsaWNrKGV2ZW50KSB7XG4gICAgICAgIGlmICghcG9wdXAuY29udGFpbnMoZXZlbnQudGFyZ2V0KSAmJiAhbGlzdGVuZXIuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgYXR1aUtlcm5lbF9Qb3B1cEhpZGUocG9wdXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR1aUtlcm5lbF9Qb3B1cFJlbG9hZCgpIHtcbiAgICAgICAgYXR1aUtlcm5lbF9Qb3B1cFBvc2l0aW9uKGxpc3RlbmVyLCBwb3B1cCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR1aUtlcm5lbF9Qb3B1cEhpZGUocG9wdXApIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBhdHVpS2VybmVsX1BvcHVwUmVsb2FkKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYXR1aUtlcm5lbF9Qb3B1cFJlbG9hZCk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBkZXRlY3RPdXRzaWRlQ2xpY2spO1xuICAgICAgICBwb3B1cC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhdHVpS2VybmVsX1BvcHVwRGlzcGxheShwb3B1cCkge1xuICAgICAgICBwb3B1cC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR1aUtlcm5lbF9Qb3B1cFBvc2l0aW9uKGxpc3RlbmVyLCBwb3B1cCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBnYXAgPSA1O1xuXG4gICAgICAgIC8vIFRoZSB0ZW1wb3JhcnkgcG9zaXRpb24gYXQgMCBpcyB2ZXJ5IGltcG9ydGFudCB0byBnZXQgdGhlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHBvc2l0aW9uIGF0IDBweDswcHggYW5kIHRodXMga25vdyB0aGUgc2hpZnQuXG4gICAgICAgIHBvcHVwLnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICAgICAgcG9wdXAuc3R5bGUudG9wID0gXCIwXCI7XG5cbiAgICAgICAgLy8gVGhlIHZhcmlhYmxlcyB3aW5kb3dEaW1lbnNpb25zLCBsaXN0ZW5lclBvc2l0aW9uIGFuZCBwb3B1cFBvc2l0aW9uIGhhdmUgYmVlbiBtYWRlIHRvIGZhY2lsaXRhdGUgdGhlIHJlYWRpbmcgb2YgdGhlIGNvZGUuXG4gICAgICAgIGNvbnN0IHdpbmRvd0RpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB3aWR0aDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICAvLyBTY2hlbWEgb2YgZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9nZXRCb3VuZGluZ0NsaWVudFJlY3QjcmV0dXJuX3ZhbHVlXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyUG9zaXRpb24gPSBsaXN0ZW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgcG9wdXBQb3NpdGlvbiA9IHBvcHVwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGNvbnN0IGlzTGlzdGVuZXJSVEwgPSBnZXRDb21wdXRlZFN0eWxlKGxpc3RlbmVyKS5kaXJlY3Rpb24gPT09IFwicnRsXCI7XG5cbiAgICAgICAgY29uc3Qgb3ZlcmZsb3dJbmxpbmUgPSAhaXNMaXN0ZW5lclJUTFxuICAgICAgICAgICAgPyBsaXN0ZW5lclBvc2l0aW9uLmxlZnQgKyBwb3B1cFBvc2l0aW9uLndpZHRoID4gd2luZG93RGltZW5zaW9ucy53aWR0aFxuICAgICAgICAgICAgOiBsaXN0ZW5lclBvc2l0aW9uLmxlZnQgLSBwb3B1cFBvc2l0aW9uLndpZHRoIDwgMDtcbiAgICAgICAgY29uc3Qgb3ZlcmZsb3dCb3R0b20gPSBsaXN0ZW5lclBvc2l0aW9uLnRvcCArIHBvcHVwUG9zaXRpb24uaGVpZ2h0ID4gd2luZG93RGltZW5zaW9ucy5oZWlnaHQ7XG5cbiAgICAgICAgY29uc3QgY2FsY3VsYXRlZFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSBcImNlbnRlcmVkXCIgfHwgb3B0aW9ucy50eXBlID09PSBcImNlbnRlcmVkLWhvclwiKSB7XG4gICAgICAgICAgICBjYWxjdWxhdGVkUG9zaXRpb24ubGVmdCA9ICh3aW5kb3dEaW1lbnNpb25zLndpZHRoIC0gcG9wdXBQb3NpdGlvbi53aWR0aCkgLyAyO1xuICAgICAgICB9IGVsc2UgaWYgKChvdmVyZmxvd0lubGluZSAmJiAhaXNMaXN0ZW5lclJUTCkgfHwgKCFvdmVyZmxvd0lubGluZSAmJiBpc0xpc3RlbmVyUlRMKSkge1xuICAgICAgICAgICAgY2FsY3VsYXRlZFBvc2l0aW9uLmxlZnQgPSBsaXN0ZW5lclBvc2l0aW9uLnJpZ2h0IC0gcG9wdXBQb3NpdGlvbi5sZWZ0IC0gcG9wdXBQb3NpdGlvbi53aWR0aCAtIGdhcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZWRQb3NpdGlvbi5sZWZ0ID0gbGlzdGVuZXJQb3NpdGlvbi5sZWZ0IC0gcG9wdXBQb3NpdGlvbi5sZWZ0ICsgZ2FwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudHlwZSA9PT0gXCJjZW50ZXJlZFwiIHx8IG9wdGlvbnMudHlwZSA9PT0gXCJjZW50ZXJlZC12ZXJcIikge1xuICAgICAgICAgICAgY2FsY3VsYXRlZFBvc2l0aW9uLnRvcCA9ICh3aW5kb3dEaW1lbnNpb25zLmhlaWdodCAtIHBvcHVwUG9zaXRpb24uaGVpZ2h0KSAvIDI7XG4gICAgICAgIH0gZWxzZSBpZiAob3ZlcmZsb3dCb3R0b20pIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZWRQb3NpdGlvbi50b3AgPSBsaXN0ZW5lclBvc2l0aW9uLnRvcCAtIHBvcHVwUG9zaXRpb24udG9wIC0gcG9wdXBQb3NpdGlvbi5oZWlnaHQgKyBnYXA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxjdWxhdGVkUG9zaXRpb24udG9wID0gbGlzdGVuZXJQb3NpdGlvbi5ib3R0b20gLSBwb3B1cFBvc2l0aW9uLnRvcCAtIGdhcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvcHVwLnN0eWxlLmxlZnQgPSBjYWxjdWxhdGVkUG9zaXRpb24ubGVmdCArIFwicHhcIjtcbiAgICAgICAgcG9wdXAuc3R5bGUudG9wID0gY2FsY3VsYXRlZFBvc2l0aW9uLnRvcCArIFwicHhcIjtcbiAgICB9XG59XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtdmstcG9wdXAtYXNzaWduXVwiKS5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgIGF0dWlLZXJuZWxfUG9wdXBTZXR1cChsaXN0ZW5lcik7XG59KTtcblxuLyogTm90aWZpY2F0aW9ucyAqL1xuXG5mdW5jdGlvbiBhdHVpS2VybmVsX05vdGlmaWNhdGlvblB1c2gob3B0aW9ucykge1xuICAgIGZ1bmN0aW9uIHN5c3RlbVB1c2goKSB7XG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24ob3B0aW9ucy50aXRsZSwge1xuICAgICAgICAgICAgYm9keTogb3B0aW9ucy50ZXh0IHx8IFwiXCIsXG4gICAgICAgICAgICBpY29uOiBvcHRpb25zLmltYWdlXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmltYWdlXG4gICAgICAgICAgICAgICAgOiBvcHRpb25zLmljb25cbiAgICAgICAgICAgICAgICA/IGBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0B0YWJsZXIvaWNvbnMvaWNvbnMvJHtvcHRpb25zLmljb259LnN2Z2BcbiAgICAgICAgICAgICAgICA6IFwiXCIsXG4gICAgICAgIH0pO1xuICAgICAgICBub3RpZmljYXRpb24ub25jbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluayAmJiBvcHRpb25zLmxpbmsgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKG9wdGlvbnMubGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW50ZXJuUHVzaCgpIHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBub3RpZmljYXRpb24gZWxlbWVudFxuICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZChcImF0dWlLZXJuZWxfTm90aWZpY2F0aW9uXCIpO1xuICAgICAgICBpZiAob3B0aW9ucy50eXBlID09PSBcImF0dWktbWluaVwiKSBub3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZChcIm9wdGlvbk1pbmlcIik7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBpY29uIGVsZW1lbnQgaW4gdGhlIGhlYWRlclxuICAgICAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIpO1xuICAgICAgICBsZXQgaWNvbjtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW1hZ2UgfHwgb3B0aW9ucy5pY29uKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pbWFnZSkge1xuICAgICAgICAgICAgICAgIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICAgIGljb24uc2V0QXR0cmlidXRlKFwic3JjXCIsIG9wdGlvbnMuaW1hZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmljb24pIHtcbiAgICAgICAgICAgICAgICBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgICAgICAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKFwidGlcIiwgYHRpLSR7b3B0aW9ucy5pY29ufWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSB0aXRsZSBlbGVtZW50IGluIHRoZSBoZWFkZXJcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBvcHRpb25zLnR5cGUgPT09IFwiYXR1aS1taW5pXCIgPyBvcHRpb25zLnRleHQgOiBvcHRpb25zLnRpdGxlO1xuICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgICAgIG5vdGlmaWNhdGlvbi5hcHBlbmRDaGlsZChoZWFkZXIpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnR5cGUgIT09IFwiYXR1aS1taW5pXCIpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgc2VjdGlvbiBlbGVtZW50XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9IG9wdGlvbnMudGV4dDtcbiAgICAgICAgICAgIHNlY3Rpb24uYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICAgICAgICBub3RpZmljYXRpb24uYXBwZW5kQ2hpbGQoc2VjdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgdGhlIGZvb3RlciBlbGVtZW50XG4gICAgICAgIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb290ZXJcIik7XG4gICAgICAgIG9wdGlvbnMuYnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYXR1aUtlcm5lbF9CdXR0b25cIiwgXCJvcHRpb25BY2NlbnRcIik7XG4gICAgICAgICAgICBpZiAoYnV0dG9uLm9wdGlvbiAmJiBidXR0b24ub3B0aW9uICE9PSBcIlwiKSBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoYG9wdGlvbiR7YnV0dG9uLm9wdGlvbn1gKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvblRleHRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICBidXR0b25UZXh0RWxlbWVudC50ZXh0Q29udGVudCA9IGJ1dHRvbi50ZXh0O1xuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmRDaGlsZChidXR0b25UZXh0RWxlbWVudCk7XG4gICAgICAgICAgICBidXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9vdGVyLmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgbm90aWZpY2F0aW9uLmFwcGVuZENoaWxkKGZvb3Rlcik7XG5cbiAgICAgICAgLy8gRGlzcGxheSB0aGUgbm90aWZpY2F0aW9uXG4gICAgICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF0dWlLZXJuZWxfTm90aWZpY2F0aW9uQ29udGFpbmVyXCIpO1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYXR1aUtlcm5lbF9Ob3RpZmljYXRpb25Db250YWluZXJcIik7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShub3RpZmljYXRpb24sIGNvbnRhaW5lci5maXJzdENoaWxkKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jbG9zZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGxldCBtb3VzZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbW91c2VPdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBtb3VzZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobW91c2VPdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIG9wdGlvbnMuY2xvc2UgfHwgNTAwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQZXJtaXNzaW9uKCkge1xuICAgICAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09IFwiZ3JhbnRlZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICAgICAgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSBcImdyYW50ZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2ZXJpZnlQZXJtaXNzaW9uKCkudGhlbigocGVybWlzc2lvbikgPT4ge1xuICAgICAgICAvLyBFbnN1cmUgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24gaXMgZ3JhbnRlZFxuICAgICAgICBpZiAoIXBlcm1pc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKFwiTm90aWZpY2F0aW9uIGNhbm5vdCBiZSBkaXNwbGF5ZWQgYmVjYXVzZSBwZXJtaXNzaW9uIGhhcyBiZWVuIGRlbmllZC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBc3NlcnQgbm90aWZpY2F0aW9uIG9wdGlvbnNcbiAgICAgICAgaWYgKCghb3B0aW9ucy50aXRsZSB8fCBvcHRpb25zLnRpdGxlID09PSBcIlwiKSAmJiBvcHRpb25zLnR5cGUgIT09IFwiYXR1aS1taW5pXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKFwiTm90aWZpY2F0aW9uIHNob3VsZCBoYXZlIGEgdGl0bGUuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGlzcGxheSB0aGUgbm90aWZpY2F0aW9uXG4gICAgICAgIGlmIChvcHRpb25zLnR5cGUgPT09IFwic3lzdGVtXCIpIHtcbiAgICAgICAgICAgIHN5c3RlbVB1c2goKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnR5cGUuc3RhcnRzV2l0aChcImF0dWlcIikpIHtcbiAgICAgICAgICAgIGludGVyblB1c2goKTtcbiAgICAgICAgICAgIGlmICghKFwic291bmRcIiBpbiBvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgc291bmRcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VuZCA9IG5ldyBBdWRpbyhhdHVpS2VybmVsX05vdGlmaWNhdGlvblNvdW5kKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuc291bmQpIHtcbiAgICAgICAgICAgICAgICAvLyBDdXN0b20gc3BlY2lmaWMgc291bmRcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VuZCA9IG5ldyBBdWRpbyhvcHRpb25zLnNvdW5kKTtcbiAgICAgICAgICAgICAgICBzb3VuZC5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBOb3RpZmljYXRpb24gdHlwZSAke29wdGlvbnMudHlwZX0gZG9lc24ndCBleGlzdC5gKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxubGV0IGF0dWlLZXJuZWxfTm90aWZpY2F0aW9uU291bmQgPSBcImF0dWkva2VybmVsL2Fzc2V0cy9ub3RpZmljYXRpb24ubXAzXCI7IC8qIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLWNvbnN0ICovXG5cbi8qIENhcm91c2VsICovXG5cbi8vIEhlaWdodCBzdXBlcnBvc2l0aW9uIGJldHdlZW4gaGVhZGVyIGFuZCBjYXJvdXNlbFxuXG5jb25zdCBhdHVpS2VybmVsX0hlYWRlckZpeENhcm91c2VsID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXR1aUtlcm5lbF9IZWFkZXIub3B0aW9uQ2Fyb3VzZWxcIikuZm9yRWFjaCgoaGVhZGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcm91c2VsID0gYXR1aUtlcm5lbF9Ub29sc0ZpbmRFbGVtZW50KGhlYWRlciwgXCIuYXR1aUtlcm5lbF9DYXJvdXNlbFwiLCBcIi5hdHVpS2VybmVsX0JvZHlDb250ZW50XCIpWzBdO1xuICAgICAgICBjb25zdCBjYXJvdXNlbENvbnRlbnQgPSBhdHVpS2VybmVsX1Rvb2xzRmluZEVsZW1lbnQoXG4gICAgICAgICAgICBjYXJvdXNlbCxcbiAgICAgICAgICAgIFwiLmF0dWlLZXJuZWxfQ2Fyb3VzZWxTbGlkZXMgPiBkaXYgPiBkaXZcIixcbiAgICAgICAgICAgIFwiLmF0dWlLZXJuZWxfQ2Fyb3VzZWxcIixcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgY2Fyb3VzZWxDb250cm9scyA9IGNhcm91c2VsLnF1ZXJ5U2VsZWN0b3IoXCIuYXR1aUtlcm5lbF9DYXJvdXNlbENvbnRyb2xzXCIpO1xuXG4gICAgICAgIGNhcm91c2VsLnN0eWxlLm1pbkhlaWdodCA9IGhlYWRlci5vZmZzZXRIZWlnaHQgKiAyICsgXCJweFwiO1xuICAgICAgICBjYXJvdXNlbENvbnRlbnQuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nQmxvY2tTdGFydCA9IGhlYWRlci5vZmZzZXRIZWlnaHQgKyAyMCArIFwicHhcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIGNhcm91c2VsQ29udHJvbHMuc3R5bGUubWFyZ2luQmxvY2tTdGFydCA9IGhlYWRlci5vZmZzZXRIZWlnaHQgKyBcInB4XCI7XG4gICAgfSk7XG59O1xuYXR1aUtlcm5lbF9IZWFkZXJGaXhDYXJvdXNlbCgpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYXR1aUtlcm5lbF9IZWFkZXJGaXhDYXJvdXNlbCk7XG5cbi8vIENvbnRyb2xzXG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXR1aUtlcm5lbF9DYXJvdXNlbFwiKS5mb3JFYWNoKChjYXJvdXNlbCkgPT4ge1xuICAgIGNvbnN0IHNsaWRlc0NvbnRhaW5lciA9IGNhcm91c2VsLnF1ZXJ5U2VsZWN0b3IoXCIuYXR1aUtlcm5lbF9DYXJvdXNlbFNsaWRlc1wiKTtcbiAgICBjb25zdCBjb250cm9scyA9IGNhcm91c2VsLnF1ZXJ5U2VsZWN0b3IoXCIuYXR1aUtlcm5lbF9DYXJvdXNlbENvbnRyb2xzXCIpO1xuICAgIGNvbnN0IGNvbnRyb2xzTGVmdCA9IGNvbnRyb2xzPy5xdWVyeVNlbGVjdG9yKFwiLmF0dWlLZXJuZWxfQ2Fyb3VzZWxDb250cm9sc0xlZnRcIik7XG4gICAgY29uc3QgY29udHJvbHNSaWdodCA9IGNvbnRyb2xzPy5xdWVyeVNlbGVjdG9yKFwiLmF0dWlLZXJuZWxfQ2Fyb3VzZWxDb250cm9sc1JpZ2h0XCIpO1xuICAgIGNvbnRyb2xzTGVmdD8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgc2xpZGVzQ29udGFpbmVyLnNjcm9sbEJ5KHtcbiAgICAgICAgICAgIGxlZnQ6IC1zbGlkZXNDb250YWluZXIub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29udHJvbHNSaWdodD8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgc2xpZGVzQ29udGFpbmVyLnNjcm9sbEJ5KHtcbiAgICAgICAgICAgIGxlZnQ6IHNsaWRlc0NvbnRhaW5lci5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuXG4vKiBNb2RhbCAqL1xuXG5mdW5jdGlvbiBhdHVpS2VybmVsX01vZGFsU2hvdyhtb2RhbElkKSB7XG4gICAgY29uc3QgbW9kYWxCYWNrZ3JvdW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobW9kYWxJZCk7XG4gICAgbW9kYWxCYWNrZ3JvdW5kLmNsYXNzTGlzdC5hZGQoXCJvcHRpb25TaG93XCIpO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2tPdXRzaWRlTW9kYWwoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gbW9kYWxCYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICBtb2RhbEJhY2tncm91bmQuY2xhc3NMaXN0LnJlbW92ZShcIm9wdGlvblNob3dcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2tPdXRzaWRlTW9kYWwpO1xufVxuXG4vKiBUYWJzICovXG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYXR1aUtlcm5lbF9TZWN0aW9uVGFic1wiKS5mb3JFYWNoKCh0YWJzQ29udGFpbmVyKSA9PiB7XG4gICAgY29uc3QgdGFic0hlYWRlciA9IHRhYnNDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5hdHVpS2VybmVsX1NlY3Rpb25UYWJzSGVhZGVyXCIpO1xuICAgIGNvbnN0IHRhYnNIZWFkZXJMaW5rcyA9IHRhYnNIZWFkZXIucXVlcnlTZWxlY3RvckFsbChcImFcIik7XG4gICAgY29uc3QgdGFic0NvbnRlbnQgPSB0YWJzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuYXR1aUtlcm5lbF9TZWN0aW9uVGFic0NvbnRlbnRcIik7XG4gICAgY29uc3QgdGFic0NvbnRlbnRUZXh0cyA9IHRhYnNDb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXZcIik7XG5cbiAgICB0YWJzSGVhZGVyTGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICB0YWJzSGVhZGVyTGlua3MuZm9yRWFjaCgodGFiKSA9PiB7XG4gICAgICAgICAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoXCJvcHRpb25BY3RpdmVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRhYnNDb250ZW50VGV4dHMuZm9yRWFjaCgoY29udGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZShcIm9wdGlvbkFjdGl2ZVwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoXCJvcHRpb25BY3RpdmVcIik7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsaW5rLmdldEF0dHJpYnV0ZShcImRhdGEtdGFicy1hc3NpZ25cIikpLmNsYXNzTGlzdC5hZGQoXCJvcHRpb25BY3RpdmVcIik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSk7XG5cbi8qIEFjY29yZGlvbiAqL1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmF0dWlLZXJuZWxfU2VjdGlvbkFjY29yZGlvblwiKS5mb3JFYWNoKChhY2NvcmRpb24pID0+IHtcbiAgICBjb25zdCBoZWFkZXIgPSBhY2NvcmRpb24ucXVlcnlTZWxlY3RvcihcImhlYWRlclwiKTtcbiAgICBjb25zdCBidXR0b24gPSBoZWFkZXIucXVlcnlTZWxlY3RvcihcImlcIik7XG4gICAgY29uc3QgY29udGVudCA9IGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKFwic2VjdGlvblwiKTtcbiAgICBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNvbnRlbnQpLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICBjb250ZW50LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICBidXR0b24uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMTgwZGVnKVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNvbnRlbnQpLmRpc3BsYXkgPT09IFwiYmxvY2tcIikge1xuICAgICAgICAgICAgY29udGVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBidXR0b24uc3R5bGUudHJhbnNmb3JtID0gXCJyb3RhdGUoMGRlZylcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBbiB1bmV4cGVjdGVkIGVycm9yIGhhcyBvY2N1cnJlZC5cIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG4vKiBTY3JvbGx0b3AgKi9cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hdHVpS2VybmVsX1Njcm9sbHRvcFwiKS5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICAgIGlmICh3aW5kb3cuc2Nyb2xsWSA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJvcHRpb25BY3RpdmVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm9wdGlvbkFjdGl2ZVwiKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiJhQU9BLEtBQU0sQ0FBQUEsa0JBQWtCLENBQUcsT0FBTyxDQUVsQ0MsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDQyxPQUFPLENBQUVDLENBQUksRUFBSyxDQUNyRUEsQ0FBSSxDQUFDQyxZQUFZLENBQUMsTUFBTSxDQUFFLG9DQUFvQyxDQUFDLENBQy9ERCxDQUFJLENBQUNDLFlBQVksQ0FBQyxRQUFRLENBQUUsUUFBUSxDQUFDLENBQ3JDRCxDQUFJLENBQUNFLFdBQVcsQ0FBSSxvQ0FBbUNOLGtCQUFtQixHQUM5RSxDQUFDLENBQUMsQ0FFRixRQUFTLENBQUFPLDZCQUE2QkEsQ0FBQSxDQUFHLENBQ3JDQyxPQUFPLENBQUNDLElBQUksQ0FBRSxvQ0FBbUNULGtCQUFtQix1Q0FBc0MsQ0FDOUcsQ0FDQU8sNkJBQTZCLENBQUMsQ0FBQyxDQUkvQixRQUFTLENBQUFHLDJCQUEyQkEsQ0FBQ0MsQ0FBTyxDQUFFQyxDQUFLLENBQWUsSUFBYixDQUFBQyxDQUFJLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxFQUFBRCxTQUFBLGFBQUFBLFNBQUEsSUFBRyxJQUFJLE9BSWIsRUFBQyxHQUE1Q0gsQ0FBTyxDQUFDVCxnQkFBZ0IsQ0FBQ1UsQ0FBSyxDQUFDLENBQUNHLE1BQVksQ0FFckMsQ0FBQ0osQ0FBTyxDQUFDSyxhQUFhLENBQUNKLENBQUssQ0FBQyxDQUFDLENBQ1csQ0FBQyxDQUExQ0QsQ0FBTyxDQUFDVCxnQkFBZ0IsQ0FBQ1UsQ0FBSyxDQUFDLENBQUNHLE1BQVUsQ0FFMUNFLEtBQUssQ0FBQ0MsSUFBSSxDQUFDUCxDQUFPLENBQUNULGdCQUFnQixDQUFDVSxDQUFLLENBQUMsQ0FBQyxDQUMzQ0ssS0FBSyxDQUFDQyxJQUFJLENBQUNqQixRQUFRLENBQUNDLGdCQUFnQixDQUFDVSxDQUFLLENBQUMsQ0FBQyxDQUFDTyxRQUFRLENBQUNSLENBQU8sQ0FBQyxDQUU5RCxDQUFDQSxDQUFPLENBQUMsQ0FDVE0sS0FBSyxDQUFDQyxJQUFJLENBQUNqQixRQUFRLENBQUNDLGdCQUFnQixDQUFDVyxDQUFJLENBQUMsQ0FBQyxDQUFDTSxRQUFRLENBQUNSLENBQU8sQ0FBQyxFQUVwRUgsT0FBTyxDQUFDWSxLQUFLLENBQUUsT0FBTVIsQ0FBTSwyQkFBMEJDLENBQUssSUFBRyxDQUFDLENBQ3ZELEVBQUUsRUFDcUIsSUFBSSxHQUEzQkYsQ0FBTyxDQUFDVSxVQUFtQixFQUVsQ2IsT0FBTyxDQUFDWSxLQUFLLENBQUUsT0FBTVIsQ0FBTSxxQ0FBb0MsQ0FBQyxDQUN6RCxFQUFFLEVBR0ZGLDJCQUEyQixDQUFDQyxDQUFPLENBQUNVLFVBQVUsQ0FBRVQsQ0FBSyxDQUFFQyxDQUFJLENBRTFFLENBSUEsY0FBZSxDQUFBUyxVQUFVQSxDQUFDQyxDQUFHLENBQUUsQ0FDM0IsS0FBTSxDQUFBQyxDQUFRLENBQUcsS0FBTSxDQUFBQyxLQUFLLENBQUNGLENBQUcsQ0FBQyxDQUFDLFFBQzlCQyxDQUFRLENBQUNFLEVBS2pCLENBSUEsUUFBUyxDQUFBQyxXQUFXQSxDQUFDQyxDQUFJLENBQUUsS0FBQUMsQ0FBQSxDQUNUQyxJQUFJLENBQUNDLEtBQUssQ0FBeEIsS0FBTSxDQUFBQyxDQUFLLENBQUdILENBQUEsQ0FBV0QsQ0FBSSxDQUFHLElBQUksQ0FBQyxDQUFDLEdBQ2xDLENBQUFLLENBQUksQ0FBR0osQ0FBQSxDQUFZRCxDQUFJLENBQUcsSUFBSSxDQUFJLEVBQUUsQ0FBQyxDQUNyQ00sQ0FBSSxDQUFHTCxDQUFBLENBQVdELENBQUksQ0FBRyxFQUFFLENBQUMsT0FDckIsR0FBRSxDQUFUTSxDQUFTLEdBQ1RBLENBQUksQ0FBRyxHQUFHLENBQUdBLENBQUksRUFFakJGLENBQUssRUFDTSxFQUFFLENBQVRDLENBQVMsR0FDVEEsQ0FBSSxDQUFHLEdBQUcsQ0FBR0EsQ0FBSSxFQUVkRCxDQUFLLENBQUcsR0FBRyxDQUFHQyxDQUFJLENBQUcsR0FBRyxDQUFHQyxDQUFJLEVBRS9CRCxDQUFJLENBQUcsR0FBRyxDQUFHQyxDQUU1QixDQUlBLFFBQVMsQ0FBQUMsd0JBQXdCQSxDQUFDQyxDQUFJLENBQUUsQ0FDcENDLFNBQVMsQ0FBQ0MsU0FBUyxDQUFDQyxTQUFTLENBQUNILENBQUksQ0FDdEMsQ0FFQSxRQUFTLENBQUFJLHlCQUF5QkEsQ0FBQSxDQUFHLENBQ2pDLE1BQU8sQ0FBQUgsU0FBUyxDQUFDQyxTQUFTLENBQUNHLFFBQVEsQ0FBQyxDQUN4QyxDQUlBLFFBQVMsQ0FBQUMsb0JBQW9CQSxDQUFDQyxDQUFLLENBQUVQLENBQUksQ0FBRWIsQ0FBRyxDQUFFLENBQzVDYyxTQUFTLENBQUNPLEtBQUssQ0FBQyxDQUNaRCxLQUFLLENBQUxBLENBQUssQ0FDTFAsSUFBSSxDQUFKQSxDQUFJLENBQ0piLEdBQUcsQ0FBSEEsQ0FDSixDQUFDLENBQ0wsQ0FZQSxRQUFTLENBQUFzQixxQkFBcUJBLENBQUNDLENBQUcsQ0FBRUMsQ0FBSyxDQUFFQyxDQUFJLENBQW9CLEtBQUFDLENBQUEsQ0F3RDNCbkIsSUFBSSxDQUFDQyxLQUFLLENBdkQ5QyxRQUFTLENBQUFtQixDQUFpQkEsQ0FBQ0MsQ0FBSSxDQUFFQyxDQUFRLENBQUUsTUFFakMsQ0FBQUMsQ0FBSyxDQUFHRCxDQUFRLENBQUNDLEtBQUssQ0FEZCxnQkFDb0IsQ0FBQyxDQUVuQyxHQUFJLENBQUNBLENBQUssQ0FDTixLQUFNLElBQUksQ0FBQUMsS0FBSyxDQUFDLDBFQUEwRSxDQUFDLENBQzlGLEtBRUssQ0FBQUMsQ0FBUSxDQUFHQyxRQUFRLENBQUNILENBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUM3QkksQ0FBSSxDQUFHSixDQUFLLENBQUMsQ0FBQyxDQUFDLENBRXJCLEdBQUlLLEtBQUssQ0FBQ0gsQ0FBUSxDQUFDLEVBQWdCLENBQUMsRUFBYkEsQ0FBYSxDQUNoQyxLQUFNLElBQUksQ0FBQUQsS0FBSyxDQUFDLGtEQUFrRCxDQUFDLENBR3ZFLEtBQU0sQ0FBQUssQ0FBUSxDQUFHLEdBQUksQ0FBQUMsSUFBSSxDQUFDVCxDQUFJLENBQUNVLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FFekMsT0FBUUosQ0FBSSxFQUNSLElBQUssR0FBRyxDQUNKRSxDQUFRLENBQUNHLE9BQU8sQ0FBQ0gsQ0FBUSxDQUFDSSxPQUFPLENBQUMsQ0FBQyxDQUFHUixDQUFRLENBQUMsQ0FDL0MsTUFDSixJQUFLLEdBQUcsQ0FDSkksQ0FBUSxDQUFDSyxPQUFPLENBQUNMLENBQVEsQ0FBQ0UsT0FBTyxDQUFDLENBQUMsQ0FBd0IsR0FBSSxFQUFULEVBQUUsRUFBUCxFQUFFLENBQWJOLENBQWEsQ0FBSyxDQUFPLENBQUMsQ0FDaEUsTUFDSixJQUFLLEdBQUcsQ0FDSkksQ0FBUSxDQUFDSyxPQUFPLENBQUNMLENBQVEsQ0FBQ0UsT0FBTyxDQUFDLENBQUMsQ0FBbUIsR0FBSSxFQUFULEVBQUUsQ0FBYk4sQ0FBYSxDQUFPLENBQUMsQ0FDM0QsTUFDSixRQUNJLEtBQU0sSUFBSSxDQUFBRCxLQUFLLENBQUMseUVBQXlFLENBQ2pHLENBRUEsTUFBTyxDQUFBSyxDQUNYLENBQUMsR0FqQzRDLENBQUFNLENBQVEsR0FBQW5ELFNBQUEsQ0FBQUMsTUFBQSxFQUFBRCxTQUFBLGFBQUFBLFNBQUEsSUFBRyxLQUFLLENBbUM3RCxPQUFRa0MsQ0FBSSxFQUNSLElBQUssT0FBTyxDQUNSLEdBQUksQ0FFQSxNQURBLENBQUFrQixZQUFZLENBQUNDLE9BQU8sQ0FBQ3JCLENBQUcsQ0FBRXNCLElBQUksQ0FBQ0MsU0FBUyxDQUFDdEIsQ0FBSyxDQUFDLENBQUMsR0FFcEQsQ0FBRSxNQUFPM0IsQ0FBSyxDQUFFLENBRVosTUFEQSxDQUFBWixPQUFPLENBQUNZLEtBQUssQ0FBQyxvQ0FBb0MsQ0FBRUEsQ0FBSyxDQUFDLEdBRTlELENBQ0osSUFBSyxTQUFTLENBQ1YsR0FBSSxDQUVBLE1BREEsQ0FBQWtELGNBQWMsQ0FBQ0gsT0FBTyxDQUFDckIsQ0FBRyxDQUFFc0IsSUFBSSxDQUFDQyxTQUFTLENBQUN0QixDQUFLLENBQUMsQ0FBQyxHQUV0RCxDQUFFLE1BQU8zQixDQUFLLENBQUUsQ0FFWixNQURBLENBQUFaLE9BQU8sQ0FBQ1ksS0FBSyxDQUFDLHNDQUFzQyxDQUFFQSxDQUFLLENBQUMsR0FFaEUsQ0FDSixJQUFLLFFBQVEsQ0FDVCxHQUFJLENBQ0EsR0FBSSxDQUFBbUQsQ0FBTSxDQUFJLEdBQUVDLGtCQUFrQixDQUFDMUIsQ0FBRyxDQUFFLElBQUcwQixrQkFBa0IsQ0FBQ0osSUFBSSxDQUFDQyxTQUFTLENBQUN0QixDQUFLLENBQUMsQ0FBRSxFQUFDLENBQUMsS0FDakYsQ0FBQTBCLENBQWMsQ0FBR3ZCLENBQWlCLENBQUMsR0FBSSxDQUFBVSxJQUFNLENBQUVLLENBQVEsQ0FBQyxDQUN4RFMsQ0FBZSxDQUFHekIsQ0FBQSxDQUFXLENBQUN3QixDQUFjLENBQUcsR0FBSSxDQUFBYixJQUFNLEVBQUksR0FBSSxDQUFDLENBR3hFLE1BRkEsQ0FBQVcsQ0FBTSxFQUFLLFlBQVdHLENBQWdCLEVBQUMsQ0FDdkN6RSxRQUFRLENBQUNzRSxNQUFNLENBQUdBLENBQU0sR0FFNUIsQ0FBRSxNQUFPbkQsQ0FBSyxDQUFFLENBRVosTUFEQSxDQUFBWixPQUFPLENBQUNZLEtBQUssQ0FBQywrQkFBK0IsQ0FBRUEsQ0FBSyxDQUFDLEdBRXpELENBQ0osUUFFSSxNQURBLENBQUFaLE9BQU8sQ0FBQ1ksS0FBSyxDQUFDLGtEQUFrRCxDQUFFNEIsQ0FBSSxDQUFDLEdBRS9FLENBQ0osQ0FRQSxRQUFTLENBQUEyQixxQkFBcUJBLENBQUM3QixDQUFHLENBQUVFLENBQUksQ0FBRSxDQUN0QyxRQUFTLENBQUE0QixDQUFvQkEsQ0FBQzdCLENBQUssQ0FBRSxDQUNqQyxHQUFJLENBQ0EsTUFBTyxDQUFBcUIsSUFBSSxDQUFDUyxLQUFLLENBQUM5QixDQUFLLENBQzNCLENBQUUsTUFBTzNCLENBQUssQ0FBRSxDQUNaLE1BQWlCLFdBQVcsR0FBckIyQixDQUFxQixRQUFlQSxDQUMvQyxDQUNKLENBRUEsT0FBUUMsQ0FBSSxFQUNSLElBQUssT0FBTyxDQUNSLEdBQUksQ0FDQSxLQUFNLENBQUE4QixDQUFJLENBQUdaLFlBQVksQ0FBQ2EsT0FBTyxDQUFDakMsQ0FBRyxDQUFDLENBQ3RDLE1BQWdCLEtBQUksR0FBYmdDLENBQWEsQ0FBZ0MsSUFBSSxDQUFqQ0YsQ0FBb0IsQ0FBQ0UsQ0FBSSxDQUNwRCxDQUFFLE1BQU8xRCxDQUFLLENBQUUsQ0FFWixNQURBLENBQUFaLE9BQU8sQ0FBQ1ksS0FBSyxDQUFDLG9DQUFvQyxDQUFFQSxDQUFLLENBQUMsQ0FDbkQsSUFDWCxDQUNKLElBQUssU0FBUyxDQUNWLEdBQUksQ0FDQSxLQUFNLENBQUEwRCxDQUFJLENBQUdSLGNBQWMsQ0FBQ1MsT0FBTyxDQUFDakMsQ0FBRyxDQUFDLENBQ3hDLE1BQWdCLEtBQUksR0FBYmdDLENBQWEsQ0FBZ0MsSUFBSSxDQUFqQ0YsQ0FBb0IsQ0FBQ0UsQ0FBSSxDQUNwRCxDQUFFLE1BQU8xRCxDQUFLLENBQUUsQ0FFWixNQURBLENBQUFaLE9BQU8sQ0FBQ1ksS0FBSyxDQUFDLHNDQUFzQyxDQUFFQSxDQUFLLENBQUMsQ0FDckQsSUFDWCxDQUNKLElBQUssUUFBUSxDQUNULEdBQUksQ0FDQSxLQUFNLENBQUE0RCxDQUFPLENBQUcvRSxRQUFRLENBQUNzRSxNQUFNLENBQUNVLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDMUMsSUFBSyxLQUFNLENBQUFWLENBQU0sR0FBSSxDQUFBUyxDQUFPLENBQUUsQ0FDMUIsS0FBTSxDQUFDRSxDQUFVLENBQUVDLENBQVcsQ0FBQyxDQUFHWixDQUFNLENBQUNVLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FDbkQsR0FBSUcsa0JBQWtCLENBQUNGLENBQVUsQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFLdkMsQ0FBRyxDQUFFLENBQy9DLEtBQU0sQ0FBQWdDLENBQUksQ0FBR00sa0JBQWtCLENBQUNELENBQVcsQ0FBQ0UsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUNuRCxNQUFPLENBQUFULENBQW9CLENBQUNFLENBQUksQ0FDcEMsQ0FDSixDQUNBLE1BQU8sS0FDWCxDQUFFLE1BQU8xRCxDQUFLLENBQUUsQ0FFWixNQURBLENBQUFaLE9BQU8sQ0FBQ1ksS0FBSyxDQUFDLCtCQUErQixDQUFFQSxDQUFLLENBQUMsQ0FDOUMsSUFDWCxDQUNKLFFBRUksTUFEQSxDQUFBWixPQUFPLENBQUNZLEtBQUssQ0FBQyxrREFBa0QsQ0FBRTRCLENBQUksQ0FBQyxDQUNoRSxJQUNmLENBQ0osQ0FRQSxRQUFTLENBQUFzQyx3QkFBd0JBLENBQUN4QyxDQUFHLENBQUVFLENBQUksQ0FBRSxDQUN6QyxPQUFRQSxDQUFJLEVBQ1IsSUFBSyxPQUFPLENBQ1IsR0FBSSxDQUVBLE1BREEsQ0FBQWtCLFlBQVksQ0FBQ3FCLFVBQVUsQ0FBQ3pDLENBQUcsQ0FBQyxHQUVoQyxDQUFFLE1BQU8xQixDQUFLLENBQUUsQ0FFWixNQURBLENBQUFaLE9BQU8sQ0FBQ1ksS0FBSyxDQUFDLG9DQUFvQyxDQUFFQSxDQUFLLENBQUMsR0FFOUQsQ0FDSixJQUFLLFNBQVMsQ0FDVixHQUFJLENBRUEsTUFEQSxDQUFBa0QsY0FBYyxDQUFDaUIsVUFBVSxDQUFDekMsQ0FBRyxDQUFDLEdBRWxDLENBQUUsTUFBTzFCLENBQUssQ0FBRSxDQUVaLE1BREEsQ0FBQVosT0FBTyxDQUFDWSxLQUFLLENBQUMsc0NBQXNDLENBQUVBLENBQUssQ0FBQyxHQUVoRSxDQUNKLElBQUssUUFBUSxDQUNULEdBQUksQ0FFQSxNQURBLENBQUFuQixRQUFRLENBQUNzRSxNQUFNLENBQUksR0FBRUMsa0JBQWtCLENBQUMxQixDQUFHLENBQUUsMkNBQTBDLEdBRTNGLENBQUUsTUFBTzFCLENBQUssQ0FBRSxDQUVaLE1BREEsQ0FBQVosT0FBTyxDQUFDWSxLQUFLLENBQUMsK0JBQStCLENBQUVBLENBQUssQ0FBQyxHQUV6RCxDQUNKLFFBRUksTUFEQSxDQUFBWixPQUFPLENBQUNZLEtBQUssQ0FBQyxrREFBa0QsQ0FBRTRCLENBQUksQ0FBQyxHQUUvRSxDQUNKLENBSUEsUUFBUyxDQUFBd0MsMEJBQTBCQSxDQUFBLENBQUcsQ0FDbEMsTUFBd0UsTUFBTSxHQUF2RXZGLFFBQVEsQ0FBQ3dGLGVBQWUsQ0FBQ0MsWUFBWSxDQUFDLHFCQUFxQixDQUN0RSxDQUVBLFFBQVMsQ0FBQUMsMEJBQTBCQSxDQUFBLENBQUcsQ0FFbEMxRixRQUFRLENBQUNDLGdCQUFnQixDQUFDLDZCQUE2QixDQUFDLENBQUNDLE9BQU8sQ0FBRXlGLENBQU0sRUFBSyxDQUNyRUosMEJBQTBCLENBQUMsQ0FBQyxFQUM1QnZGLFFBQVEsQ0FBQ3dGLGVBQWUsQ0FBQ3BGLFlBQVksQ0FBQyxxQkFBcUIsQ0FBRSxPQUFPLENBQUMsQ0FDckV1RixDQUFNLENBQUNDLFNBQVMsQ0FBQ0MsT0FBTyxDQUFDLFNBQVMsQ0FBRSxRQUFRLENBQUMsR0FFN0M3RixRQUFRLENBQUN3RixlQUFlLENBQUNwRixZQUFZLENBQUMscUJBQXFCLENBQUUsTUFBTSxDQUFDLENBQ3BFdUYsQ0FBTSxDQUFDQyxTQUFTLENBQUNDLE9BQU8sQ0FBQyxRQUFRLENBQUUsU0FBUyxDQUFDLENBRXJELENBQUMsQ0FBQyxDQUNGakQscUJBQXFCLENBQUMsNEJBQTRCLENBQUUyQywwQkFBMEIsQ0FBQyxDQUFDLENBQUUsT0FBTyxDQUM3RixDQUVBLFFBQVMsQ0FBQU8sMkJBQTJCQSxDQUFBLENBQUcsQ0FDbkMsS0FBTSxDQUFBQyxDQUFZLENBQUdDLE1BQU0sQ0FBQ0MsVUFBVSxFQUFJRCxNQUFNLENBQUNDLFVBQVUsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDQyxPQUFPLENBQ25HLEdBQUlILENBQVksQ0FHWixNQUZBLENBQUFMLDBCQUEwQixDQUFDLENBQUMsQ0FDNUJuRixPQUFPLENBQUNDLElBQUksQ0FBQyx3REFBd0QsQ0FBQyxJQUkxRSxLQUFNLENBQUEyRixDQUFXLENBQUd6QixxQkFBcUIsQ0FBQyw0QkFBNEIsQ0FBRSxPQUFPLENBQUMsQ0FNaEYsTUFMSSxDQUFBeUIsQ0FBVyxHQUNYVCwwQkFBMEIsQ0FBQyxDQUFDLENBQzVCbkYsT0FBTyxDQUFDQyxJQUFJLENBQUMsNENBQTRDLENBQUMsSUFJbEUsQ0FDQXNGLDJCQUEyQixDQUFDLENBQUMsQ0FFN0I5RixRQUFRLENBQUNDLGdCQUFnQixDQUFDLDZCQUE2QixDQUFDLENBQUNDLE9BQU8sQ0FBRXlGLENBQU0sRUFBSyxDQUN6RUEsQ0FBTSxDQUFDUyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBTSxDQUNuQ1YsMEJBQTBCLENBQUMsQ0FDL0IsQ0FBQyxDQUNMLENBQUMsQ0FBQyxDQUlGLFFBQVMsQ0FBQVcsNkJBQTZCQSxDQUFBLENBQUcsQ0FDckMsR0FBSSxDQUFBQyxDQUFPLENBQUd0RyxRQUFRLENBQUNlLGFBQWEsQ0FBQyxvQ0FBa0MsQ0FBQyxDQUNuRXVGLENBQU8sR0FDUkEsQ0FBTyxDQUFHdEcsUUFBUSxDQUFDdUcsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUN4Q0QsQ0FBTyxDQUFDbEcsWUFBWSxDQUFDLE1BQU0sQ0FBRSxhQUFhLENBQUMsQ0FDM0NKLFFBQVEsQ0FBQ3dHLElBQUksQ0FBQ0MsV0FBVyxDQUFDSCxDQUFPLENBQUMsRUFFdENBLENBQU8sQ0FBQ2xHLFlBQVksQ0FDaEIsU0FBUyxDQUNSLE9BQU1zRyxnQkFBZ0IsQ0FBQzFHLFFBQVEsQ0FBQ3dGLGVBQWUsQ0FBQyxDQUFDbUIsZ0JBQWdCLENBQUMsd0JBQXdCLENBQUUsR0FDakcsQ0FDSixDQUlBLFFBQVMsQ0FBQUMscUJBQXFCQSxDQUFDQyxDQUFRLENBQUUsQ0F3Q3JDLFFBQVMsQ0FBQUMsQ0FBa0JBLENBQUNDLENBQUssQ0FBRSxDQUMxQkMsQ0FBSyxDQUFDQyxRQUFRLENBQUNGLENBQUssQ0FBQ0csTUFBTSxDQUFDLEVBQUtMLENBQVEsQ0FBQ0ksUUFBUSxDQUFDRixDQUFLLENBQUNHLE1BQU0sQ0FBQyxFQUNqRUMsQ0FBb0IsQ0FBQ0gsQ0FBSyxDQUVsQyxDQUVBLFFBQVMsQ0FBQUksQ0FBc0JBLENBQUEsQ0FBRyxDQUM5QkMsQ0FBd0IsQ0FBQ1IsQ0FBUSxDQUFFRyxDQUFLLENBQUVNLENBQU8sQ0FDckQsQ0FFQSxRQUFTLENBQUFILENBQW9CQSxDQUFDSCxDQUFLLENBQUUsQ0FDakNoSCxRQUFRLENBQUN1SCxtQkFBbUIsQ0FBQyxRQUFRLENBQUVILENBQXNCLENBQUMsQ0FDOURwQixNQUFNLENBQUN1QixtQkFBbUIsQ0FBQyxRQUFRLENBQUVILENBQXNCLENBQUMsQ0FDNURwSCxRQUFRLENBQUN1SCxtQkFBbUIsQ0FBQyxPQUFPLENBQUVULENBQWtCLENBQUMsQ0FDekRFLENBQUssQ0FBQ1EsS0FBSyxDQUFDQyxVQUFVLENBQUcsUUFDN0IsQ0FFQSxRQUFTLENBQUFDLENBQXVCQSxDQUFDVixDQUFLLENBQUUsQ0FDcENBLENBQUssQ0FBQ1EsS0FBSyxDQUFDQyxVQUFVLENBQUcsU0FDN0IsQ0FFQSxRQUFTLENBQUFKLENBQXdCQSxDQUFDUixDQUFRLENBQUVHLENBQUssQ0FBRU0sQ0FBTyxDQUFFLENBSXhETixDQUFLLENBQUNRLEtBQUssQ0FBQ0csSUFBSSxDQUFHLEdBQUcsQ0FDdEJYLENBQUssQ0FBQ1EsS0FBSyxDQUFDSSxHQUFHLENBQUcsR0FBRyxNQUdmLENBQUFDLENBQWdCLENBQUcsQ0FDckJDLEtBQUssQ0FBRTlILFFBQVEsQ0FBQ3dGLGVBQWUsQ0FBQ3VDLFdBQVcsQ0FDM0NDLE1BQU0sQ0FBRWhJLFFBQVEsQ0FBQ3dGLGVBQWUsQ0FBQ3lDLFlBQ3JDLENBQUMsQ0FFS0MsQ0FBZ0IsQ0FBR3JCLENBQVEsQ0FBQ3NCLHFCQUFxQixDQUFDLENBQUMsQ0FDbkRDLENBQWEsQ0FBR3BCLENBQUssQ0FBQ21CLHFCQUFxQixDQUFDLENBQUMsQ0FFN0NFLENBQWEsQ0FBNEMsS0FBSyxHQUE5QzNCLGdCQUFnQixDQUFDRyxDQUFRLENBQUMsQ0FBQ3lCLFNBQW1CLENBRTlEQyxDQUFjLENBQUlGLENBQWEsQ0FFZSxDQUFDLENBQS9DSCxDQUFnQixDQUFDUCxJQUFJLENBQUdTLENBQWEsQ0FBQ04sS0FBUyxDQUQvQ0ksQ0FBZ0IsQ0FBQ1AsSUFBSSxDQUFHUyxDQUFhLENBQUNOLEtBQUssQ0FBR0QsQ0FBZ0IsQ0FBQ0MsS0FDaEIsQ0FDL0NVLENBQWMsQ0FBR04sQ0FBZ0IsQ0FBQ04sR0FBRyxDQUFHUSxDQUFhLENBQUNKLE1BQU0sQ0FBR0gsQ0FBZ0IsQ0FBQ0csTUFBTSxDQUV0RlMsQ0FBa0IsQ0FBRyxDQUN2QmQsSUFBSSxDQUFFLENBQUMsQ0FDUEMsR0FBRyxDQUFFLENBQ1QsQ0FBQyxDQUdHYSxDQUFrQixDQUFDZCxJQUFJLENBRE4sVUFBVSxHQUEzQkwsQ0FBTyxDQUFDb0IsSUFBbUIsRUFBcUIsY0FBYyxHQUEvQnBCLENBQU8sQ0FBQ29CLElBQXVCLENBQ3BDLENBQUNiLENBQWdCLENBQUNDLEtBQUssQ0FBR00sQ0FBYSxDQUFDTixLQUFLLEVBQUksQ0FBQyxDQUNwRVMsQ0FBYyxFQUFJLENBQUNGLENBQWEsRUFBTSxDQUFDRSxDQUFjLEVBQUlGLENBQWMsQ0FDckRILENBQWdCLENBQUNTLEtBQUssQ0FBR1AsQ0FBYSxDQUFDVCxJQUFJLENBQUdTLENBQWEsQ0FBQ04sS0FBSyxFQUFNLENBRXZFSSxDQUFnQixDQUFDUCxJQUFJLENBQUdTLENBQWEsQ0FBQ1QsSUFBSSxFQUFNLENBSTFFYyxDQUFrQixDQUFDYixHQUFHLENBREwsVUFBVSxHQUEzQk4sQ0FBTyxDQUFDb0IsSUFBbUIsRUFBcUIsY0FBYyxHQUEvQnBCLENBQU8sQ0FBQ29CLElBQXVCLENBQ3JDLENBQUNiLENBQWdCLENBQUNHLE1BQU0sQ0FBR0ksQ0FBYSxDQUFDSixNQUFNLEVBQUksQ0FBQyxDQUN0RVEsQ0FBYyxDQUNJTixDQUFnQixDQUFDTixHQUFHLENBQUdRLENBQWEsQ0FBQ1IsR0FBRyxDQUFHUSxDQUFhLENBQUNKLE1BQU0sRUFBTSxDQUVyRUUsQ0FBZ0IsQ0FBQ1UsTUFBTSxDQUFHUixDQUFhLENBQUNSLEdBQUcsRUFBTSxDQUc5RVosQ0FBSyxDQUFDUSxLQUFLLENBQUNHLElBQUksQ0FBR2MsQ0FBa0IsQ0FBQ2QsSUFBSSxDQUFHLElBQUksQ0FDakRYLENBQUssQ0FBQ1EsS0FBSyxDQUFDSSxHQUFHLENBQUdhLENBQWtCLENBQUNiLEdBQUcsQ0FBRyxJQUMvQyxDQUFDLEtBMUdLLENBQUFaLENBQUssQ0FBR3ZHLDJCQUEyQixDQUFDb0csQ0FBUSxDQUFFQSxDQUFRLENBQUNwQixZQUFZLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUUvRjZCLENBQU8sQ0FBRyxDQUNab0IsSUFBSSxDQUFFLFNBQVMsQ0FDZkcsWUFBWSxDQUFFLFdBQVcsQ0FDekJDLFFBQVEsQ0FBRSxPQUNkLENBQUMsQ0FFRzlCLENBQUssQ0FBQ3BCLFNBQVMsQ0FBQ3FCLFFBQVEsQ0FBQyw2QkFBNkIsQ0FBQyxHQUN2REssQ0FBTyxDQUFDb0IsSUFBSSxDQUFHLGNBQWMsRUFHN0I3QixDQUFRLENBQUNqQixTQUFTLENBQUNxQixRQUFRLENBQUMsa0JBQWtCLENBQUMsR0FDL0NLLENBQU8sQ0FBQ3VCLFlBQVksQ0FBRyxhQUFhLEVBR3hDaEMsQ0FBUSxDQUFDVCxnQkFBZ0IsQ0FBQ2tCLENBQU8sQ0FBQ3VCLFlBQVksQ0FBRzlCLENBQUssRUFBSyxDQUUxQixhQUFhLEdBQXRDTyxDQUFPLENBQUN1QixZQUE4QixFQUN0QzlCLENBQUssQ0FBQ2dDLGNBQWMsQ0FBQyxDQUFDLENBSTFCL0ksUUFBUSxDQUNIQyxnQkFBZ0IsQ0FBQyxzRkFBc0YsQ0FBQyxDQUN4R0MsT0FBTyxDQUFFOEcsQ0FBSyxFQUFLLENBQ2hCRyxDQUFvQixDQUFDSCxDQUFLLENBQzlCLENBQUMsQ0FBQyxDQUVOSyxDQUF3QixDQUFDUixDQUFRLENBQUVHLENBQUssQ0FBRU0sQ0FBTyxDQUFDLENBQ2xESSxDQUF1QixDQUFDVixDQUFLLENBQUMsQ0FDOUJoSCxRQUFRLENBQUNvRyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUVnQixDQUFzQixDQUFDLENBQzNEcEIsTUFBTSxDQUFDSSxnQkFBZ0IsQ0FBQyxRQUFRLENBQUVnQixDQUFzQixDQUFDLENBRXpEcEgsUUFBUSxDQUFDb0csZ0JBQWdCLENBQUNrQixDQUFPLENBQUN3QixRQUFRLENBQUcvQixDQUFLLEVBQUssQ0FDbkRELENBQWtCLENBQUNDLENBQUssQ0FDNUIsQ0FBQyxDQUNMLENBQUMsQ0FzRUwsQ0FDQS9HLFFBQVEsQ0FBQ0MsZ0JBQWdCLENBQUMsd0JBQXdCLENBQUMsQ0FBQ0MsT0FBTyxDQUFFMkcsQ0FBUSxFQUFLLENBQ3RFRCxxQkFBcUIsQ0FBQ0MsQ0FBUSxDQUNsQyxDQUFDLENBQUMsQ0FJRixRQUFTLENBQUFtQywyQkFBMkJBLENBQUMxQixDQUFPLENBQUUsQ0FDMUMsUUFBUyxDQUFBMkIsQ0FBVUEsQ0FBQSxDQUFHLENBQ2xCLEtBQU0sQ0FBQUMsQ0FBWSxDQUFHLEdBQUksQ0FBQUMsWUFBWSxDQUFDN0IsQ0FBTyxDQUFDNUUsS0FBSyxDQUFFLENBQ2pEMEcsSUFBSSxDQUFFOUIsQ0FBTyxDQUFDbkYsSUFBSSxFQUFJLEVBQUUsQ0FDeEJrSCxJQUFJLENBQUUvQixDQUFPLENBQUNnQyxLQUFLLENBQ2JoQyxDQUFPLENBQUNnQyxLQUFLLENBQ2JoQyxDQUFPLENBQUMrQixJQUFJLENBQ1gsb0RBQW1EL0IsQ0FBTyxDQUFDK0IsSUFBSyxNQUFLLENBQ3RFLEVBQ1YsQ0FBQyxDQUFDLENBQ0ZILENBQVksQ0FBQ0ssT0FBTyxDQUFJeEMsQ0FBSyxFQUFLLENBQzFCTyxDQUFPLENBQUNuSCxJQUFJLEVBQXFCLEVBQUUsR0FBbkJtSCxDQUFPLENBQUNuSCxJQUFXLEdBQ25DNEcsQ0FBSyxDQUFDZ0MsY0FBYyxDQUFDLENBQUMsQ0FDdEIvQyxNQUFNLENBQUN3RCxJQUFJLENBQUNsQyxDQUFPLENBQUNuSCxJQUFJLENBQUMsQ0FFakMsQ0FDSixDQUVBLFFBQVMsQ0FBQXNKLENBQVVBLENBQUEsQ0FBRyxDQUVsQixLQUFNLENBQUFQLENBQVksQ0FBR2xKLFFBQVEsQ0FBQ3VHLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FDbEQyQyxDQUFZLENBQUN0RCxTQUFTLENBQUM4RCxHQUFHLENBQUMseUJBQXlCLENBQUMsQ0FDaEMsV0FBVyxHQUE1QnBDLENBQU8sQ0FBQ29CLElBQW9CLEVBQUVRLENBQVksQ0FBQ3RELFNBQVMsQ0FBQzhELEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FHMUUsS0FBTSxDQUFBQyxDQUFNLENBQUczSixRQUFRLENBQUN1RyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQy9DLEdBQUksQ0FBQThDLENBQUksQ0FBQyxDQUNML0IsQ0FBTyxDQUFDZ0MsS0FBSyxFQUFJaEMsQ0FBTyxDQUFDK0IsSUFBSSxJQUN6Qi9CLENBQU8sQ0FBQ2dDLEtBQUssRUFDYkQsQ0FBSSxDQUFHckosUUFBUSxDQUFDdUcsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUNwQzhDLENBQUksQ0FBQ2pKLFlBQVksQ0FBQyxLQUFLLENBQUVrSCxDQUFPLENBQUNnQyxLQUFLLENBQUMsRUFDaENoQyxDQUFPLENBQUMrQixJQUFJLEdBQ25CQSxDQUFJLENBQUdySixRQUFRLENBQUN1RyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQ2xDOEMsQ0FBSSxDQUFDekQsU0FBUyxDQUFDOEQsR0FBRyxDQUFDLElBQUksQ0FBRyxNQUFLcEMsQ0FBTyxDQUFDK0IsSUFBSyxFQUFDLENBQUMsRUFFbERNLENBQU0sQ0FBQ2xELFdBQVcsQ0FBQzRDLENBQUksQ0FBQyxFQUk1QixLQUFNLENBQUEzRyxDQUFLLENBQUcxQyxRQUFRLENBQUN1RyxhQUFhLENBQUMsR0FBRyxDQUFDLENBTXpDLEdBTEE3RCxDQUFLLENBQUNyQyxXQUFXLENBQW9CLFdBQVcsR0FBNUJpSCxDQUFPLENBQUNvQixJQUFvQixDQUFHcEIsQ0FBTyxDQUFDbkYsSUFBSSxDQUFHbUYsQ0FBTyxDQUFDNUUsS0FBSyxDQUMvRWlILENBQU0sQ0FBQ2xELFdBQVcsQ0FBQy9ELENBQUssQ0FBQyxDQUV6QndHLENBQVksQ0FBQ3pDLFdBQVcsQ0FBQ2tELENBQU0sQ0FBQyxDQUVYLFdBQVcsR0FBNUJyQyxDQUFPLENBQUNvQixJQUFvQixDQUFFLE1BRXhCLENBQUFrQixDQUFPLENBQUc1SixRQUFRLENBQUN1RyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQzNDc0QsQ0FBTyxDQUFHN0osUUFBUSxDQUFDdUcsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUMzQ3NELENBQU8sQ0FBQ0MsU0FBUyxDQUFHeEMsQ0FBTyxDQUFDbkYsSUFBSSxDQUNoQ3lILENBQU8sQ0FBQ25ELFdBQVcsQ0FBQ29ELENBQU8sQ0FBQyxDQUM1QlgsQ0FBWSxDQUFDekMsV0FBVyxDQUFDbUQsQ0FBTyxDQUNwQyxDQUdBLEtBQU0sQ0FBQUcsQ0FBTSxDQUFHL0osUUFBUSxDQUFDdUcsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUMvQ2UsQ0FBTyxDQUFDMEMsT0FBTyxDQUFDOUosT0FBTyxDQUFFeUYsQ0FBTSxFQUFLLENBQ2hDLEtBQU0sQ0FBQXNFLENBQWEsQ0FBR2pLLFFBQVEsQ0FBQ3VHLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FDbkQwRCxDQUFhLENBQUNyRSxTQUFTLENBQUM4RCxHQUFHLENBQUMsbUJBQW1CLENBQUUsY0FBYyxDQUFDLENBQzVEL0QsQ0FBTSxDQUFDdUUsTUFBTSxFQUFzQixFQUFFLEdBQXBCdkUsQ0FBTSxDQUFDdUUsTUFBYSxFQUFFRCxDQUFhLENBQUNyRSxTQUFTLENBQUM4RCxHQUFHLENBQUUsU0FBUS9ELENBQU0sQ0FBQ3VFLE1BQU8sRUFBQyxDQUFDLENBQ2hHLEtBQU0sQ0FBQUMsQ0FBaUIsQ0FBR25LLFFBQVEsQ0FBQ3VHLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FDckQ0RCxDQUFpQixDQUFDOUosV0FBVyxDQUFHc0YsQ0FBTSxDQUFDeEQsSUFBSSxDQUMzQzhILENBQWEsQ0FBQ3hELFdBQVcsQ0FBQzBELENBQWlCLENBQUMsQ0FDNUNGLENBQWEsQ0FBQzdELGdCQUFnQixDQUFDLE9BQU8sQ0FBRSxJQUFNLENBQzFDVCxDQUFNLENBQUN5RSxNQUFNLENBQUMsQ0FBQyxDQUNmbEIsQ0FBWSxDQUFDbUIsTUFBTSxDQUFDLENBQ3hCLENBQUMsQ0FBQyxDQUNGTixDQUFNLENBQUN0RCxXQUFXLENBQUN3RCxDQUFhLENBQ3BDLENBQUMsQ0FBQyxDQUNGZixDQUFZLENBQUN6QyxXQUFXLENBQUNzRCxDQUFNLENBQUMsQ0FHaEMsR0FBSSxDQUFBTyxDQUFTLENBQUd0SyxRQUFRLENBQUNlLGFBQWEsQ0FBQyxtQ0FBbUMsQ0FBQyxDQVEzRSxHQVBLdUosQ0FBUyxHQUNWQSxDQUFTLENBQUd0SyxRQUFRLENBQUN1RyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQ3pDK0QsQ0FBUyxDQUFDMUUsU0FBUyxDQUFDOEQsR0FBRyxDQUFDLGtDQUFrQyxDQUFDLENBQzNEMUosUUFBUSxDQUFDb0osSUFBSSxDQUFDM0MsV0FBVyxDQUFDNkQsQ0FBUyxDQUFDLEVBRXhDQSxDQUFTLENBQUNDLFlBQVksQ0FBQ3JCLENBQVksQ0FBRW9CLENBQVMsQ0FBQ0UsVUFBVSxDQUFDLENBRXRELEtBQUFsRCxDQUFPLENBQUNtRCxLQUFlLENBQUUsQ0FDekIsR0FBSSxDQUFBQyxDQUFTLEdBQVEsQ0FDckJ4QixDQUFZLENBQUM5QyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUUsSUFBTSxDQUM5Q3NFLENBQVMsR0FDYixDQUFDLENBQUMsQ0FDRnhCLENBQVksQ0FBQzlDLGdCQUFnQixDQUFDLFlBQVksQ0FBRSxJQUFNLENBQzlDc0UsQ0FBUyxHQUNiLENBQUMsQ0FBQyxDQUVGQyxVQUFVLENBQUMsSUFBTSxDQUNURCxDQUFTLENBQ1R4QixDQUFZLENBQUM5QyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUUsSUFBTSxDQUM5Q3VFLFVBQVUsQ0FBQyxJQUFNLENBQ2J6QixDQUFZLENBQUNtQixNQUFNLENBQUMsQ0FDeEIsQ0FBQyxDQUFFLEdBQUksQ0FDWCxDQUFDLENBQUMsQ0FFRm5CLENBQVksQ0FBQ21CLE1BQU0sQ0FBQyxDQUU1QixDQUFDLENBQUUvQyxDQUFPLENBQUNtRCxLQUFLLEVBQUksR0FBSSxDQUM1QixDQUNKLENBZUEsQ0FiQSxnQkFBa0MsU0FDRSxTQUFTLEdBQXJDdEIsWUFBWSxDQUFDeUIsVUFBd0IsSUFHckMsS0FBTSxDQUFBekIsWUFBWSxDQUFDMEIsaUJBQWlCLENBQUMsQ0FBQyxDQUNOLFNBQVMsR0FBckMxQixZQUFZLENBQUN5QixVQUF3QixDQU1qRCxDQUFDLEVBRWdCLENBQUMsQ0FBQ0UsSUFBSSxDQUFFRixDQUFVLEVBQUssQ0FFcEMsR0FBSSxDQUFDQSxDQUFVLENBQ1gsTUFBTyxDQUFBckssT0FBTyxDQUFDWSxLQUFLLENBQUMsc0VBQXNFLENBQUMsQ0FJaEcsR0FBSSxDQUFDLENBQUNtRyxDQUFPLENBQUM1RSxLQUFLLEVBQXNCLEVBQUUsR0FBcEI0RSxDQUFPLENBQUM1RSxLQUFZLEdBQXNCLFdBQVcsR0FBNUI0RSxDQUFPLENBQUNvQixJQUFvQixDQUN4RSxNQUFPLENBQUFuSSxPQUFPLENBQUNZLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUk3RCxHQUFxQixRQUFRLEdBQXpCbUcsQ0FBTyxDQUFDb0IsSUFBaUIsQ0FDekJPLENBQVUsQ0FBQyxDQUFDLEtBQ1QsS0FBSTNCLENBQU8sQ0FBQ29CLElBQUksQ0FBQ3FDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FZdEN4SyxPQUFPLENBQUNZLEtBQUssQ0FBRSxxQkFBb0JtRyxDQUFPLENBQUNvQixJQUFLLGlCQUFnQixDQUFDLEtBVmpFLElBREFlLENBQVUsQ0FBQyxDQUFDLENBQ1IsRUFBRSxPQUFPLEVBQUksQ0FBQW5DLENBQU8sQ0FBQyxDQUFFLENBRXZCLEtBQU0sQ0FBQTBELENBQUssQ0FBRyxHQUFJLENBQUFDLEtBQUssQ0FBQ0MsNEJBQTRCLENBQUMsQ0FDckRGLENBQUssQ0FBQ0csSUFBSSxDQUFDLENBQ2YsQ0FBQyxJQUFNLElBQUk3RCxDQUFPLENBQUMwRCxLQUFLLENBQUUsQ0FFdEIsS0FBTSxDQUFBQSxDQUFLLENBQUcsR0FBSSxDQUFBQyxLQUFLLENBQUMzRCxDQUFPLENBQUMwRCxLQUFLLENBQUMsQ0FDdENBLENBQUssQ0FBQ0csSUFBSSxDQUFDLENBQ2YsQ0FJUixDQUFDLENBQ0wsQ0FDQSxHQUFJLENBQUFELDRCQUE0QixDQUFHLHFDQUFxQyxDQU14RSxLQUFNLENBQUFFLDRCQUE0QixDQUFHQSxDQUFBLEdBQU0sQ0FDdkNwTCxRQUFRLENBQUNDLGdCQUFnQixDQUFDLG1DQUFtQyxDQUFDLENBQUNDLE9BQU8sQ0FBRXlKLENBQU0sRUFBSyxNQUN6RSxDQUFBMEIsQ0FBUSxDQUFHNUssMkJBQTJCLENBQUNrSixDQUFNLENBQUUsc0JBQXNCLENBQUUseUJBQXlCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDcEcyQixDQUFlLENBQUc3SywyQkFBMkIsQ0FDL0M0SyxDQUFRLENBQ1Isd0NBQXdDLENBQ3hDLHNCQUNKLENBQUMsQ0FDS0UsQ0FBZ0IsQ0FBR0YsQ0FBUSxDQUFDdEssYUFBYSxDQUFDLDhCQUE4QixDQUFDLENBRS9Fc0ssQ0FBUSxDQUFDN0QsS0FBSyxDQUFDZ0UsU0FBUyxDQUF5QixDQUFDLENBQXZCN0IsQ0FBTSxDQUFDOEIsWUFBZ0IsQ0FBRyxJQUFJLENBQ3pESCxDQUFlLENBQUNwTCxPQUFPLENBQUVRLENBQU8sRUFBSyxDQUNqQ0EsQ0FBTyxDQUFDOEcsS0FBSyxDQUFDa0UsaUJBQWlCLENBQUcvQixDQUFNLENBQUM4QixZQUFZLENBQUcsRUFBRSxDQUFHLElBQ2pFLENBQUMsQ0FBQyxDQUNGRixDQUFnQixDQUFDL0QsS0FBSyxDQUFDbUUsZ0JBQWdCLENBQUdoQyxDQUFNLENBQUM4QixZQUFZLENBQUcsSUFDcEUsQ0FBQyxDQUNMLENBQUMsQ0FDREwsNEJBQTRCLENBQUMsQ0FBQyxDQUM5QnBGLE1BQU0sQ0FBQ0ksZ0JBQWdCLENBQUMsUUFBUSxDQUFFZ0YsNEJBQTRCLENBQUMsQ0FJL0RwTCxRQUFRLENBQUNDLGdCQUFnQixDQUFDLHNCQUFzQixDQUFDLENBQUNDLE9BQU8sQ0FBRW1MLENBQVEsRUFBSyxNQUM5RCxDQUFBTyxDQUFlLENBQUdQLENBQVEsQ0FBQ3RLLGFBQWEsQ0FBQyw0QkFBNEIsQ0FBQyxDQUN0RThLLENBQVEsQ0FBR1IsQ0FBUSxDQUFDdEssYUFBYSxDQUFDLDhCQUE4QixDQUFDLENBQ2pFK0ssQ0FBWSxDQUFHRCxDQUFRLEVBQUU5SyxhQUFhLENBQUMsa0NBQWtDLENBQUMsQ0FDMUVnTCxDQUFhLENBQUdGLENBQVEsRUFBRTlLLGFBQWEsQ0FBQyxtQ0FBbUMsQ0FBQyxDQUNsRitLLENBQVksRUFBRTFGLGdCQUFnQixDQUFDLE9BQU8sQ0FBRSxJQUFNLENBQzFDd0YsQ0FBZSxDQUFDSSxRQUFRLENBQUMsQ0FDckJyRSxJQUFJLENBQUUsQ0FBQ2lFLENBQWUsQ0FBQ0ssV0FBVyxDQUNsQ0MsUUFBUSxDQUFFLFFBQ2QsQ0FBQyxDQUNMLENBQUMsQ0FBQyxDQUNGSCxDQUFhLEVBQUUzRixnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBTSxDQUMzQ3dGLENBQWUsQ0FBQ0ksUUFBUSxDQUFDLENBQ3JCckUsSUFBSSxDQUFFaUUsQ0FBZSxDQUFDSyxXQUFXLENBQ2pDQyxRQUFRLENBQUUsUUFDZCxDQUFDLENBQ0wsQ0FBQyxDQUNMLENBQUMsQ0FBQyxDQUlGLFFBQVMsQ0FBQUMsb0JBQW9CQSxDQUFDQyxDQUFPLENBQUUsQ0FDbkMsS0FBTSxDQUFBQyxDQUFlLENBQUdyTSxRQUFRLENBQUNzTSxjQUFjLENBQUNGLENBQU8sQ0FBQyxDQUN4REMsQ0FBZSxDQUFDekcsU0FBUyxDQUFDOEQsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQVEzQzFKLFFBQVEsQ0FBQ29HLGdCQUFnQixDQUFDLE9BQU8sQ0FOakMsU0FBaUNXLENBQUssQ0FBRSxDQUNoQ0EsQ0FBSyxDQUFDRyxNQUFNLEdBQUttRixDQUFlLEVBQ2hDQSxDQUFlLENBQUN6RyxTQUFTLENBQUN5RSxNQUFNLENBQUMsWUFBWSxDQUVyRCxDQUUwRCxDQUM5RCxDQUlBckssUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDQyxPQUFPLENBQUVxTSxDQUFhLEVBQUssTUFDdEUsQ0FBQUMsQ0FBVSxDQUFHRCxDQUFhLENBQUN4TCxhQUFhLENBQUMsK0JBQStCLENBQUMsQ0FDekUwTCxDQUFlLENBQUdELENBQVUsQ0FBQ3ZNLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUNsRHlNLENBQVcsQ0FBR0gsQ0FBYSxDQUFDeEwsYUFBYSxDQUFDLGdDQUFnQyxDQUFDLENBQzNFNEwsQ0FBZ0IsQ0FBR0QsQ0FBVyxDQUFDek0sZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBRTVEd00sQ0FBZSxDQUFDdk0sT0FBTyxDQUFFQyxDQUFJLEVBQUssQ0FDOUJBLENBQUksQ0FBQ2lHLGdCQUFnQixDQUFDLE9BQU8sQ0FBRSxJQUFNLENBQ2pDcUcsQ0FBZSxDQUFDdk0sT0FBTyxDQUFFME0sQ0FBRyxFQUFLLENBQzdCQSxDQUFHLENBQUNoSCxTQUFTLENBQUN5RSxNQUFNLENBQUMsY0FBYyxDQUN2QyxDQUFDLENBQUMsQ0FDRnNDLENBQWdCLENBQUN6TSxPQUFPLENBQUUySixDQUFPLEVBQUssQ0FDbENBLENBQU8sQ0FBQ2pFLFNBQVMsQ0FBQ3lFLE1BQU0sQ0FBQyxjQUFjLENBQzNDLENBQUMsQ0FBQyxDQUVGbEssQ0FBSSxDQUFDeUYsU0FBUyxDQUFDOEQsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUNsQzFKLFFBQVEsQ0FBQ3NNLGNBQWMsQ0FBQ25NLENBQUksQ0FBQ3NGLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUNHLFNBQVMsQ0FBQzhELEdBQUcsQ0FBQyxjQUFjLENBQy9GLENBQUMsQ0FDTCxDQUFDLENBQ0wsQ0FBQyxDQUFDLENBSUYxSixRQUFRLENBQUNDLGdCQUFnQixDQUFDLDhCQUE4QixDQUFDLENBQUNDLE9BQU8sQ0FBRTJNLENBQVMsRUFBSyxNQUN2RSxDQUFBbEQsQ0FBTSxDQUFHa0QsQ0FBUyxDQUFDOUwsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUMxQzRFLENBQU0sQ0FBR2dFLENBQU0sQ0FBQzVJLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FDbEM4SSxDQUFPLENBQUdnRCxDQUFTLENBQUM5TCxhQUFhLENBQUMsU0FBUyxDQUFDLENBQ2xENEksQ0FBTSxDQUFDdkQsZ0JBQWdCLENBQUMsT0FBTyxDQUFFLElBQU0sQ0FDYyxNQUFNLEdBQW5ESixNQUFNLENBQUNVLGdCQUFnQixDQUFDbUQsQ0FBTyxDQUFDLENBQUNpRCxPQUFrQixFQUNuRGpELENBQU8sQ0FBQ3JDLEtBQUssQ0FBQ3NGLE9BQU8sQ0FBRyxPQUFPLENBQy9CbkgsQ0FBTSxDQUFDNkIsS0FBSyxDQUFDdUYsU0FBUyxDQUFHLGdCQUFnQixFQUNXLE9BQU8sR0FBcEQvRyxNQUFNLENBQUNVLGdCQUFnQixDQUFDbUQsQ0FBTyxDQUFDLENBQUNpRCxPQUFtQixFQUMzRGpELENBQU8sQ0FBQ3JDLEtBQUssQ0FBQ3NGLE9BQU8sQ0FBRyxNQUFNLENBQzlCbkgsQ0FBTSxDQUFDNkIsS0FBSyxDQUFDdUYsU0FBUyxDQUFHLGNBQWMsRUFFdkN4TSxPQUFPLENBQUNZLEtBQUssQ0FBQyxtQ0FBbUMsQ0FFekQsQ0FBQyxDQUNMLENBQUMsQ0FBQyxDQUlGbkIsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDQyxPQUFPLENBQUV5RixDQUFNLEVBQUssQ0FDbkVBLENBQU0sQ0FBQ1MsZ0JBQWdCLENBQUMsT0FBTyxDQUFFLElBQU0sQ0FDbkNKLE1BQU0sQ0FBQ2dILFFBQVEsQ0FBQyxDQUNacEYsR0FBRyxDQUFFLENBQ1QsQ0FBQyxDQUNMLENBQUMsQ0FBQyxDQUVGNUIsTUFBTSxDQUFDSSxnQkFBZ0IsQ0FBQyxRQUFRLENBQUUsSUFBTSxDQUNoQ0osTUFBTSxDQUFDaUgsT0FBTyxDQUFHakgsTUFBTSxDQUFDa0gsV0FBVyxDQUNuQ3ZILENBQU0sQ0FBQ0MsU0FBUyxDQUFDOEQsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUVwQy9ELENBQU0sQ0FBQ0MsU0FBUyxDQUFDeUUsTUFBTSxDQUFDLGNBQWMsQ0FFOUMsQ0FBQyxDQUNMLENBQUMsQ0FBQyJ9