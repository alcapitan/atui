{"version":3,"file":"main.js","names":["atuiKernel_Version","document","querySelectorAll","forEach","link","setAttribute","textContent","atuiKernel_PrintAtuiLicensing","console","info","atuiKernel_ToolsFindElement","element","query","stop","arguments","length","undefined","querySelector","Array","from","includes","error","parentNode","verifyLink","url","response","fetch","ok","convertTime","time","hours","Math","floor","mins","secs","atuiKernel_ClipboardCopy","text","navigator","clipboard","writeText","atuiKernel_ClipboardPaste","readText","atuiKernel_ShareTool","title","share","atuiKernel_ColormodeIsDark","status","documentElement","getAttribute","atuiKernel_ColormodeToggle","button","classList","replace","date","Date","setTime","getTime","expires","toUTCString","cookie","atuiKernel_ColormodeStartup","systemStatus","window","matchMedia","matches","cookies","split","i","trim","startsWith","cookieStatus","substring","addEventListener","atuiKernel_ColoraccentMetatag","metaTag","createElement","head","appendChild","getComputedStyle","getPropertyValue","atuiKernel_PopupSetup","listener","popup","options","type","triggerEvent","outEvent","contains","event","preventDefault","atuiKernel_PopupHide","atuiKernel_PopupPosition","atuiKernel_PopupDisplay","atuiKernel_PopupReload","detectOutsideClick","target","removeEventListener","style","visibility","gap","left","top","windowDimensions","width","clientWidth","height","clientHeight","listenerPosition","getBoundingClientRect","popupPosition","overflowRight","overflowBottom","calculatedPosition","right","bottom","atuiKernel_NotificationPush","systemPush","notification","Notification","body","icon","image","onclick","open","internPush","add","header","section","content","innerHTML","footer","buttons","buttonElement","option","buttonTextElement","action","remove","container","insertBefore","firstChild","close","mouseOver","setTimeout","verifyPermission","permission","requestPermission","then","sound","Audio","atuiKernel_NotificationSound","play","atuiKernel_HeaderFixCarousel","carousel","carouselContent","minHeight","offsetHeight","paddingTop","atuiKernel_ModalShow","modalId","modalBackground","getElementById","handleClickOutsideModal","tabsContainer","tabsHeader","tabsHeaderLinks","tabsContent","tabsContentTexts","tab","accordion","display","transform","scrollTo","scrollY","innerHeight"],"sources":["../src/main.js"],"sourcesContent":["/*!\n * ATUI v0.4.1 (https://github.com/alcapitan/atui)\n * This code is released under GNU General Public License (https://github.com/alcapitan/atui/blob/dev/LICENSE.md)\n */\n\n/* Licensing */\n\nconst atuiKernel_Version = \"0.4.1\";\n\ndocument.querySelectorAll(\".atuiKernel_LicensingAtui\").forEach((link) => {\n    link.setAttribute(\"href\", \"https://github.com/alcapitan/atui/\");\n    link.setAttribute(\"target\", \"_blank\");\n    link.textContent = `This website is powered by ATUI v${atuiKernel_Version}.`;\n});\n\nfunction atuiKernel_PrintAtuiLicensing() {\n    console.info(`This website is powered by ATUI v${atuiKernel_Version} (https://github.com/alcapitan/atui).`);\n}\natuiKernel_PrintAtuiLicensing();\n\n/* Find associated element */\n\nfunction atuiKernel_ToolsFindElement(element, query, stop = null) {\n    if (element.querySelectorAll(query).length === 1) {\n        // If element has query.\n        return [element.querySelector(query)];\n    } else if (element.querySelectorAll(query).length > 1) {\n        // If element has several queries.\n        return Array.from(element.querySelectorAll(query));\n    } else if (Array.from(document.querySelectorAll(query)).includes(element)) {\n        // If element is query.\n        return [element];\n    } else if (Array.from(document.querySelectorAll(stop)).includes(element)) {\n        // If element is stop.\n        console.error(`No \"${query}\" element was found in \"${stop}\".`);\n        return [];\n    } else if (element.parentNode === null) {\n        // If element is root.\n        console.error(`No \"${query}\" element was found in the webpage.`);\n        return [];\n    } else {\n        // The parent of element may have query.\n        return atuiKernel_ToolsFindElement(element.parentNode, query, stop);\n    }\n}\n\n/* Verify link */\n\nasync function verifyLink(url) {\n    const response = await fetch(url);\n    if (response.ok) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n/* Convert time data to be readable by humans */\n\nfunction convertTime(time) {\n    let hours = Math.floor(time / 3600);\n    let mins = Math.floor((time % 3600) / 60);\n    let secs = Math.floor(time % 60);\n    if (secs < 10) {\n        secs = \"0\" + secs;\n    }\n    if (hours) {\n        if (mins < 10) {\n            mins = \"0\" + mins;\n        }\n        return hours + \":\" + mins + \":\" + secs; // hh:mm:ss\n    } else {\n        return mins + \":\" + secs; // mm:ss\n    }\n}\n\n/* Clipboard tools */\n\nfunction atuiKernel_ClipboardCopy(text) {\n    navigator.clipboard.writeText(text);\n}\n\nfunction atuiKernel_ClipboardPaste() {\n    return navigator.clipboard.readText();\n}\n\n/* Share tool */\n\nfunction atuiKernel_ShareTool(title, text, url) {\n    navigator.share({\n        title: title,\n        text: text,\n        url: url,\n    });\n}\n\n/* Display mode */\n\nfunction atuiKernel_ColormodeIsDark() {\n    const status = document.documentElement.getAttribute(\"data-atui-colormode\");\n    if (status === \"dark\") {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction atuiKernel_ColormodeToggle() {\n    /* Toggles the status */\n    document.querySelectorAll(\".atuiKernel_ColormodeButton\").forEach((button) => {\n        if (atuiKernel_ColormodeIsDark()) {\n            document.documentElement.setAttribute(\"data-atui-colormode\", \"light\");\n            button.classList.replace(\"ti-moon\", \"ti-sun\");\n        } else {\n            document.documentElement.setAttribute(\"data-atui-colormode\", \"dark\");\n            button.classList.replace(\"ti-sun\", \"ti-moon\");\n        }\n    });\n\n    /* Save the status in cookies */\n    const date = new Date();\n    date.setTime(date.getTime() + 3600000); // Expiration time is 1 hour\n    const expires = \"expires=\" + date.toUTCString();\n    const cookie =\n        \"atuiKernel_ColormodeIsDark=\" + atuiKernel_ColormodeIsDark() + \";\" + expires + \";path=/;SameSite=Lax;\";\n    document.cookie = cookie;\n}\n\nfunction atuiKernel_ColormodeStartup() {\n    const systemStatus = window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n    if (systemStatus) {\n        atuiKernel_ColormodeToggle();\n        console.info(\"Dark mode enabled according to the system preferences.\");\n        return true;\n    }\n    const cookies = document.cookie.split(\";\");\n    for (let i = 0; i < cookies.length; i++) {\n        const cookie = cookies[i].trim();\n        if (cookie.startsWith(\"atuiKernel_ColormodeIsDark=\")) {\n            const cookieStatus = cookie.substring(\"atuiKernel_ColormodeIsDark=\".length, cookie.length);\n            if (cookieStatus === \"true\") {\n                atuiKernel_ColormodeToggle();\n                console.info(\"Dark mode enabled according to the cookies.\");\n            }\n            return cookieStatus === \"true\";\n        }\n    }\n    return false;\n}\natuiKernel_ColormodeStartup();\n\ndocument.querySelectorAll(\".atuiKernel_ColormodeButton\").forEach((button) => {\n    button.addEventListener(\"click\", () => {\n        atuiKernel_ColormodeToggle();\n    });\n});\n\n/* Color accent */\n\nfunction atuiKernel_ColoraccentMetatag() {\n    let metaTag = document.querySelector('meta[name=\"data-atui-colormode\"]');\n    if (!metaTag) {\n        metaTag = document.createElement(\"meta\");\n        metaTag.setAttribute(\"name\", \"theme-color\");\n        document.head.appendChild(metaTag);\n    }\n    metaTag.setAttribute(\n        \"content\",\n        `hsl(${getComputedStyle(document.documentElement).getPropertyValue(\"--atuiKernel_Color-A40\")})`\n    );\n}\n\n/* Pop-up */\n\nfunction atuiKernel_PopupSetup(listener) {\n    const popup = atuiKernel_ToolsFindElement(listener, listener.getAttribute(\"data-vk-popup-assign\"))[0];\n\n    let options = {\n        type: \"default\",\n        triggerEvent: \"mouseover\",\n        outEvent: \"click\",\n    };\n\n    if (popup.classList.contains(\"atuiKernel_PopupGlobalpanel\")) {\n        options.type = \"centered-hor\";\n    }\n\n    if (listener.classList.contains(\"optionRightclick\")) {\n        options.triggerEvent = \"contextmenu\";\n    }\n\n    listener.addEventListener(options.triggerEvent, (event) => {\n        // Prevent default context menu on right click\n        if (options.triggerEvent === \"contextmenu\") {\n            event.preventDefault();\n        }\n\n        // Hide all popups\n        document\n            .querySelectorAll(\".atuiKernel_PopupContextmenu, .atuiKernel_PopupTooltip, .atuiKernel_PopupGlobalpanel\")\n            .forEach((popup) => {\n                atuiKernel_PopupHide(popup);\n            });\n\n        atuiKernel_PopupPosition(listener, popup, options);\n        atuiKernel_PopupDisplay(popup);\n        document.addEventListener(\"scroll\", atuiKernel_PopupReload);\n        window.addEventListener(\"resize\", atuiKernel_PopupReload);\n\n        document.addEventListener(options.outEvent, (event) => {\n            detectOutsideClick(event);\n        });\n    });\n\n    function detectOutsideClick(event) {\n        if (!popup.contains(event.target) && !listener.contains(event.target)) {\n            atuiKernel_PopupHide(popup);\n        }\n    }\n\n    function atuiKernel_PopupReload() {\n        atuiKernel_PopupPosition(listener, popup, options);\n    }\n\n    function atuiKernel_PopupHide(popup) {\n        document.removeEventListener(\"scroll\", atuiKernel_PopupReload);\n        window.removeEventListener(\"resize\", atuiKernel_PopupReload);\n        document.removeEventListener(\"click\", detectOutsideClick);\n        popup.style.visibility = \"hidden\";\n    }\n\n    function atuiKernel_PopupDisplay(popup) {\n        popup.style.visibility = \"visible\";\n    }\n\n    function atuiKernel_PopupPosition(listener, popup, options) {\n        const gap = 5;\n\n        // The temporary position at 0 is very important to get the getBoundingClientRect() position at 0px;0px and thus know the shift.\n        popup.style.left = \"0\";\n        popup.style.top = \"0\";\n\n        // The variables windowDimensions, listenerPosition and popupPosition have been made to facilitate the reading of the code.\n        const windowDimensions = {\n            width: document.documentElement.clientWidth,\n            height: document.documentElement.clientHeight,\n        };\n        // Schema of getBoundingClientRect() : https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect#return_value\n        const listenerPosition = listener.getBoundingClientRect();\n        const popupPosition = popup.getBoundingClientRect();\n\n        const overflowRight = listenerPosition.left + popupPosition.width > windowDimensions.width;\n        const overflowBottom = listenerPosition.top + popupPosition.height > windowDimensions.height;\n\n        let calculatedPosition = {\n            left: 0,\n            top: 0,\n        };\n\n        if (options.type === \"centered\" || options.type === \"centered-hor\") {\n            calculatedPosition.left = (windowDimensions.width - popupPosition.width) / 2;\n        } else if (overflowRight) {\n            calculatedPosition.left = listenerPosition.right - popupPosition.left - popupPosition.width - gap;\n        } else {\n            calculatedPosition.left = listenerPosition.left - popupPosition.left + gap;\n        }\n\n        if (options.type === \"centered\" || options.type === \"centered-ver\") {\n            calculatedPosition.top = (windowDimensions.height - popupPosition.height) / 2;\n        } else if (overflowBottom) {\n            calculatedPosition.top = listenerPosition.top - popupPosition.top - popupPosition.height + gap;\n        } else {\n            calculatedPosition.top = listenerPosition.bottom - popupPosition.top - gap;\n        }\n\n        popup.style.left = calculatedPosition.left + \"px\";\n        popup.style.top = calculatedPosition.top + \"px\";\n    }\n}\ndocument.querySelectorAll(\"[data-vk-popup-assign]\").forEach((listener) => {\n    atuiKernel_PopupSetup(listener);\n});\n\n/* Notifications */\n\nfunction atuiKernel_NotificationPush(options) {\n    function systemPush() {\n        const notification = new Notification(options.title, {\n            body: options.text || \"\",\n            icon: options.image\n                ? options.image\n                : options.icon\n                ? `https://cdn.jsdelivr.net/npm/@tabler/icons/icons/${options.icon}.svg`\n                : \"\",\n        });\n        notification.onclick = (event) => {\n            if (options.link && options.link !== \"\") {\n                event.preventDefault();\n                window.open(options.link);\n            }\n        };\n    }\n\n    function internPush() {\n        // Create the notification element\n        const notification = document.createElement(\"div\");\n        notification.classList.add(\"atuiKernel_Notification\");\n        if (options.type === \"atui-mini\") notification.classList.add(\"optionMini\");\n\n        // Create the icon element in the header\n        const header = document.createElement(\"header\");\n        let icon;\n        if (options.image || options.icon) {\n            if (options.image) {\n                icon = document.createElement(\"img\");\n                icon.setAttribute(\"src\", options.image);\n            } else if (options.icon) {\n                icon = document.createElement(\"i\");\n                icon.classList.add(\"ti\", `ti-${options.icon}`);\n            }\n            header.appendChild(icon);\n        }\n\n        // Create the title element in the header\n        const title = document.createElement(\"p\");\n        title.textContent = options.type === \"atui-mini\" ? options.text : options.title;\n        header.appendChild(title);\n\n        notification.appendChild(header);\n\n        if (options.type !== \"atui-mini\") {\n            // Create the section element\n            const section = document.createElement(\"section\");\n            const content = document.createElement(\"p\");\n            content.innerHTML = options.text;\n            section.appendChild(content);\n            notification.appendChild(section);\n        }\n\n        // Create the footer element\n        const footer = document.createElement(\"footer\");\n        options.buttons.forEach((button) => {\n            const buttonElement = document.createElement(\"div\");\n            buttonElement.classList.add(\"atuiKernel_Button\", \"optionAccent\");\n            if (button.option && button.option !== \"\") buttonElement.classList.add(`option${button.option}`);\n            const buttonTextElement = document.createElement(\"p\");\n            buttonTextElement.textContent = button.text;\n            buttonElement.appendChild(buttonTextElement);\n            buttonElement.addEventListener(\"click\", () => {\n                button.action();\n                notification.remove();\n            });\n            footer.appendChild(buttonElement);\n        });\n        notification.appendChild(footer);\n\n        // Display the notification\n        let container = document.querySelector(\".atuiKernel_NotificationContainer\");\n        if (!container) {\n            container = document.createElement(\"div\");\n            container.classList.add(\"atuiKernel_NotificationContainer\");\n            document.body.appendChild(container);\n        }\n        container.insertBefore(notification, container.firstChild);\n\n        if (options.close !== false) {\n            let mouseOver = false;\n            notification.addEventListener(\"mouseenter\", () => {\n                mouseOver = true;\n            });\n            notification.addEventListener(\"mouseleave\", () => {\n                mouseOver = false;\n            });\n\n            setTimeout(() => {\n                if (mouseOver) {\n                    notification.addEventListener(\"mouseleave\", () => {\n                        setTimeout(() => {\n                            notification.remove();\n                        }, 2000);\n                    });\n                } else {\n                    notification.remove();\n                }\n            }, options.close || 5000);\n        }\n    }\n\n    async function verifyPermission() {\n        if (Notification.permission === \"granted\") {\n            return true;\n        } else {\n            await Notification.requestPermission();\n            if (Notification.permission === \"granted\") {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    verifyPermission().then((permission) => {\n        // Ensure notification permission is granted\n        if (!permission) {\n            return console.error(\"Notification cannot be displayed because permission has been denied.\");\n        }\n\n        // Assert notification options\n        if ((!options.title || options.title === \"\") && options.type !== \"atui-mini\") {\n            return console.error(\"Notification should have a title.\");\n        }\n\n        // Display the notification\n        if (options.type === \"system\") {\n            systemPush();\n        } else if (options.type.startsWith(\"atui\")) {\n            internPush();\n            if (!(\"sound\" in options)) {\n                // Default sound\n                const sound = new Audio(atuiKernel_NotificationSound);\n                sound.play();\n            } else if (options.sound) {\n                // Custom specific sound\n                const sound = new Audio(options.sound);\n                sound.play();\n            }\n        } else {\n            console.error(`Notification type ${options.type} doesn't exist.`);\n        }\n    });\n}\nlet atuiKernel_NotificationSound = \"atui/kernel/assets/notification.mp3\";\n\n/* Patch height superposition issue between header and carousel */\n\nconst atuiKernel_HeaderFixCarousel = () => {\n    document.querySelectorAll(\".atuiKernel_Header.optionCarousel\").forEach((header) => {\n        let carousel = atuiKernel_ToolsFindElement(header, \".atuiKernel_Carousel\", \".atuiKernel_BodyContent\")[0];\n        let carouselContent = atuiKernel_ToolsFindElement(\n            header,\n            \".atuiKernel_Carousel > div > div\",\n            \".atuiKernel_BodyContent\"\n        );\n\n        carousel.style.minHeight = header.offsetHeight * 2 + \"px\";\n        carouselContent.forEach((element) => {\n            element.style.paddingTop = header.offsetHeight + 20 + \"px\";\n        });\n    });\n};\natuiKernel_HeaderFixCarousel();\nwindow.addEventListener(\"resize\", atuiKernel_HeaderFixCarousel);\n\n/* Modal */\n\nfunction atuiKernel_ModalShow(modalId) {\n    const modalBackground = document.getElementById(modalId);\n    modalBackground.classList.add(\"optionShow\");\n\n    function handleClickOutsideModal(event) {\n        if (event.target === modalBackground) {\n            modalBackground.classList.remove(\"optionShow\");\n        }\n    }\n\n    document.addEventListener(\"click\", handleClickOutsideModal);\n}\n\n/* Tabs */\n\ndocument.querySelectorAll(\".atuiKernel_SectionTabs\").forEach((tabsContainer) => {\n    const tabsHeader = tabsContainer.querySelector(\".atuiKernel_SectionTabsHeader\");\n    const tabsHeaderLinks = tabsHeader.querySelectorAll(\"a\");\n    const tabsContent = tabsContainer.querySelector(\".atuiKernel_SectionTabsContent\");\n    const tabsContentTexts = tabsContent.querySelectorAll(\"div\");\n\n    tabsHeaderLinks.forEach((link) => {\n        link.addEventListener(\"click\", () => {\n            tabsHeaderLinks.forEach((tab) => {\n                tab.classList.remove(\"optionActive\");\n            });\n            tabsContentTexts.forEach((content) => {\n                content.classList.remove(\"optionActive\");\n            });\n\n            link.classList.add(\"optionActive\");\n            document.getElementById(link.getAttribute(\"data-tabs-assign\")).classList.add(\"optionActive\");\n        });\n    });\n});\n\n/* Accordion */\n\ndocument.querySelectorAll(\".atuiKernel_SectionAccordion\").forEach((accordion) => {\n    const header = accordion.querySelector(\"header\");\n    const button = header.querySelector(\"i\");\n    const content = accordion.querySelector(\"section\");\n    header.addEventListener(\"click\", () => {\n        if (window.getComputedStyle(content).display === \"none\") {\n            content.style.display = \"block\";\n            button.style.transform = \"rotate(180deg)\";\n        } else if (window.getComputedStyle(content).display === \"block\") {\n            content.style.display = \"none\";\n            button.style.transform = \"rotate(0deg)\";\n        } else {\n            console.error(\"An unexpected error has occurred.\");\n        }\n    });\n});\n\n/* Scrolltop */\n\ndocument.querySelectorAll(\".atuiKernel_Scrolltop\").forEach((button) => {\n    button.addEventListener(\"click\", () => {\n        window.scrollTo({\n            top: 0,\n        });\n    });\n\n    window.addEventListener(\"scroll\", () => {\n        if (window.scrollY > window.innerHeight) {\n            button.classList.add(\"optionActive\");\n        } else {\n            button.classList.remove(\"optionActive\");\n        }\n    });\n});\n"],"mappings":"cAAA;AACA;AACA;AACA;;AAEA;;AAEA,MAAMA,kBAAkB,GAAG,OAAO;;AAElCC,QAAQ,CAACC,gBAAgB,CAAC,2BAA2B,CAAC,CAACC,OAAO,CAAC,CAACC,IAAI,KAAK;EACrEA,IAAI,CAACC,YAAY,CAAC,MAAM,EAAE,oCAAoC,CAAC;EAC/DD,IAAI,CAACC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC;EACrCD,IAAI,CAACE,WAAW,GAAI,oCAAmCN,kBAAmB,GAAE;AAChF,CAAC,CAAC;;AAEF,SAASO,6BAA6BA,CAAA,EAAG;EACrCC,OAAO,CAACC,IAAI,CAAE,oCAAmCT,kBAAmB,uCAAsC,CAAC;AAC/G;AACAO,6BAA6B,CAAC,CAAC;;AAE/B;;AAEA,SAASG,2BAA2BA,CAACC,OAAO,EAAEC,KAAK,EAAe,KAAbC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EAC5D,IAAIH,OAAO,CAACT,gBAAgB,CAACU,KAAK,CAAC,CAACG,MAAM,KAAK,CAAC,EAAE;IAC9C;IACA,OAAO,CAACJ,OAAO,CAACM,aAAa,CAACL,KAAK,CAAC,CAAC;EACzC,CAAC,MAAM,IAAID,OAAO,CAACT,gBAAgB,CAACU,KAAK,CAAC,CAACG,MAAM,GAAG,CAAC,EAAE;IACnD;IACA,OAAOG,KAAK,CAACC,IAAI,CAACR,OAAO,CAACT,gBAAgB,CAACU,KAAK,CAAC,CAAC;EACtD,CAAC,MAAM,IAAIM,KAAK,CAACC,IAAI,CAAClB,QAAQ,CAACC,gBAAgB,CAACU,KAAK,CAAC,CAAC,CAACQ,QAAQ,CAACT,OAAO,CAAC,EAAE;IACvE;IACA,OAAO,CAACA,OAAO,CAAC;EACpB,CAAC,MAAM,IAAIO,KAAK,CAACC,IAAI,CAAClB,QAAQ,CAACC,gBAAgB,CAACW,IAAI,CAAC,CAAC,CAACO,QAAQ,CAACT,OAAO,CAAC,EAAE;IACtE;IACAH,OAAO,CAACa,KAAK,CAAE,OAAMT,KAAM,2BAA0BC,IAAK,IAAG,CAAC;IAC9D,OAAO,EAAE;EACb,CAAC,MAAM,IAAIF,OAAO,CAACW,UAAU,KAAK,IAAI,EAAE;IACpC;IACAd,OAAO,CAACa,KAAK,CAAE,OAAMT,KAAM,qCAAoC,CAAC;IAChE,OAAO,EAAE;EACb,CAAC,MAAM;IACH;IACA,OAAOF,2BAA2B,CAACC,OAAO,CAACW,UAAU,EAAEV,KAAK,EAAEC,IAAI,CAAC;EACvE;AACJ;;AAEA;;AAEA,eAAeU,UAAUA,CAACC,GAAG,EAAE;EAC3B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;EACjC,IAAIC,QAAQ,CAACE,EAAE,EAAE;IACb,OAAO,IAAI;EACf,CAAC,MAAM;IACH,OAAO,KAAK;EAChB;AACJ;;AAEA;;AAEA,SAASC,WAAWA,CAACC,IAAI,EAAE;EACvB,IAAIC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,GAAG,IAAI,CAAC;EACnC,IAAII,IAAI,GAAGF,IAAI,CAACC,KAAK,CAAEH,IAAI,GAAG,IAAI,GAAI,EAAE,CAAC;EACzC,IAAIK,IAAI,GAAGH,IAAI,CAACC,KAAK,CAACH,IAAI,GAAG,EAAE,CAAC;EAChC,IAAIK,IAAI,GAAG,EAAE,EAAE;IACXA,IAAI,GAAG,GAAG,GAAGA,IAAI;EACrB;EACA,IAAIJ,KAAK,EAAE;IACP,IAAIG,IAAI,GAAG,EAAE,EAAE;MACXA,IAAI,GAAG,GAAG,GAAGA,IAAI;IACrB;IACA,OAAOH,KAAK,GAAG,GAAG,GAAGG,IAAI,GAAG,GAAG,GAAGC,IAAI,CAAC,CAAC;EAC5C,CAAC,MAAM;IACH,OAAOD,IAAI,GAAG,GAAG,GAAGC,IAAI,CAAC,CAAC;EAC9B;AACJ;;AAEA;;AAEA,SAASC,wBAAwBA,CAACC,IAAI,EAAE;EACpCC,SAAS,CAACC,SAAS,CAACC,SAAS,CAACH,IAAI,CAAC;AACvC;;AAEA,SAASI,yBAAyBA,CAAA,EAAG;EACjC,OAAOH,SAAS,CAACC,SAAS,CAACG,QAAQ,CAAC,CAAC;AACzC;;AAEA;;AAEA,SAASC,oBAAoBA,CAACC,KAAK,EAAEP,IAAI,EAAEZ,GAAG,EAAE;EAC5Ca,SAAS,CAACO,KAAK,CAAC;IACZD,KAAK,EAAEA,KAAK;IACZP,IAAI,EAAEA,IAAI;IACVZ,GAAG,EAAEA;EACT,CAAC,CAAC;AACN;;AAEA;;AAEA,SAASqB,0BAA0BA,CAAA,EAAG;EAClC,MAAMC,MAAM,GAAG7C,QAAQ,CAAC8C,eAAe,CAACC,YAAY,CAAC,qBAAqB,CAAC;EAC3E,IAAIF,MAAM,KAAK,MAAM,EAAE;IACnB,OAAO,IAAI;EACf,CAAC,MAAM;IACH,OAAO,KAAK;EAChB;AACJ;;AAEA,SAASG,0BAA0BA,CAAA,EAAG;EAClC;EACAhD,QAAQ,CAACC,gBAAgB,CAAC,6BAA6B,CAAC,CAACC,OAAO,CAAC,CAAC+C,MAAM,KAAK;IACzE,IAAIL,0BAA0B,CAAC,CAAC,EAAE;MAC9B5C,QAAQ,CAAC8C,eAAe,CAAC1C,YAAY,CAAC,qBAAqB,EAAE,OAAO,CAAC;MACrE6C,MAAM,CAACC,SAAS,CAACC,OAAO,CAAC,SAAS,EAAE,QAAQ,CAAC;IACjD,CAAC,MAAM;MACHnD,QAAQ,CAAC8C,eAAe,CAAC1C,YAAY,CAAC,qBAAqB,EAAE,MAAM,CAAC;MACpE6C,MAAM,CAACC,SAAS,CAACC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC;IACjD;EACJ,CAAC,CAAC;;EAEF;EACA,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;EACvBD,IAAI,CAACE,OAAO,CAACF,IAAI,CAACG,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;EACxC,MAAMC,OAAO,GAAG,UAAU,GAAGJ,IAAI,CAACK,WAAW,CAAC,CAAC;EAC/C,MAAMC,MAAM;EACR,6BAA6B,GAAGd,0BAA0B,CAAC,CAAC,GAAG,GAAG,GAAGY,OAAO,GAAG,uBAAuB;EAC1GxD,QAAQ,CAAC0D,MAAM,GAAGA,MAAM;AAC5B;;AAEA,SAASC,2BAA2BA,CAAA,EAAG;EACnC,MAAMC,YAAY,GAAGC,MAAM,CAACC,UAAU,IAAID,MAAM,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO;EACnG,IAAIH,YAAY,EAAE;IACdZ,0BAA0B,CAAC,CAAC;IAC5BzC,OAAO,CAACC,IAAI,CAAC,wDAAwD,CAAC;IACtE,OAAO,IAAI;EACf;EACA,MAAMwD,OAAO,GAAGhE,QAAQ,CAAC0D,MAAM,CAACO,KAAK,CAAC,GAAG,CAAC;EAC1C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,OAAO,CAAClD,MAAM,EAAEoD,CAAC,EAAE,EAAE;IACrC,MAAMR,MAAM,GAAGM,OAAO,CAACE,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAChC,IAAIT,MAAM,CAACU,UAAU,CAAC,6BAA6B,CAAC,EAAE;MAClD,MAAMC,YAAY,GAAGX,MAAM,CAACY,SAAS,CAAC,6BAA6B,CAACxD,MAAM,EAAE4C,MAAM,CAAC5C,MAAM,CAAC;MAC1F,IAAIuD,YAAY,KAAK,MAAM,EAAE;QACzBrB,0BAA0B,CAAC,CAAC;QAC5BzC,OAAO,CAACC,IAAI,CAAC,6CAA6C,CAAC;MAC/D;MACA,OAAO6D,YAAY,KAAK,MAAM;IAClC;EACJ;EACA,OAAO,KAAK;AAChB;AACAV,2BAA2B,CAAC,CAAC;;AAE7B3D,QAAQ,CAACC,gBAAgB,CAAC,6BAA6B,CAAC,CAACC,OAAO,CAAC,CAAC+C,MAAM,KAAK;EACzEA,MAAM,CAACsB,gBAAgB,CAAC,OAAO,EAAE,MAAM;IACnCvB,0BAA0B,CAAC,CAAC;EAChC,CAAC,CAAC;AACN,CAAC,CAAC;;AAEF;;AAEA,SAASwB,6BAA6BA,CAAA,EAAG;EACrC,IAAIC,OAAO,GAAGzE,QAAQ,CAACgB,aAAa,CAAC,kCAAkC,CAAC;EACxE,IAAI,CAACyD,OAAO,EAAE;IACVA,OAAO,GAAGzE,QAAQ,CAAC0E,aAAa,CAAC,MAAM,CAAC;IACxCD,OAAO,CAACrE,YAAY,CAAC,MAAM,EAAE,aAAa,CAAC;IAC3CJ,QAAQ,CAAC2E,IAAI,CAACC,WAAW,CAACH,OAAO,CAAC;EACtC;EACAA,OAAO,CAACrE,YAAY;IAChB,SAAS;IACR,OAAMyE,gBAAgB,CAAC7E,QAAQ,CAAC8C,eAAe,CAAC,CAACgC,gBAAgB,CAAC,wBAAwB,CAAE;EACjG,CAAC;AACL;;AAEA;;AAEA,SAASC,qBAAqBA,CAACC,QAAQ,EAAE;EACrC,MAAMC,KAAK,GAAGxE,2BAA2B,CAACuE,QAAQ,EAAEA,QAAQ,CAACjC,YAAY,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAAC;;EAErG,IAAImC,OAAO,GAAG;IACVC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAE,WAAW;IACzBC,QAAQ,EAAE;EACd,CAAC;;EAED,IAAIJ,KAAK,CAAC/B,SAAS,CAACoC,QAAQ,CAAC,6BAA6B,CAAC,EAAE;IACzDJ,OAAO,CAACC,IAAI,GAAG,cAAc;EACjC;;EAEA,IAAIH,QAAQ,CAAC9B,SAAS,CAACoC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;IACjDJ,OAAO,CAACE,YAAY,GAAG,aAAa;EACxC;;EAEAJ,QAAQ,CAACT,gBAAgB,CAACW,OAAO,CAACE,YAAY,EAAE,CAACG,KAAK,KAAK;IACvD;IACA,IAAIL,OAAO,CAACE,YAAY,KAAK,aAAa,EAAE;MACxCG,KAAK,CAACC,cAAc,CAAC,CAAC;IAC1B;;IAEA;IACAxF,QAAQ;IACHC,gBAAgB,CAAC,sFAAsF,CAAC;IACxGC,OAAO,CAAC,CAAC+E,KAAK,KAAK;MAChBQ,oBAAoB,CAACR,KAAK,CAAC;IAC/B,CAAC,CAAC;;IAENS,wBAAwB,CAACV,QAAQ,EAAEC,KAAK,EAAEC,OAAO,CAAC;IAClDS,uBAAuB,CAACV,KAAK,CAAC;IAC9BjF,QAAQ,CAACuE,gBAAgB,CAAC,QAAQ,EAAEqB,sBAAsB,CAAC;IAC3D/B,MAAM,CAACU,gBAAgB,CAAC,QAAQ,EAAEqB,sBAAsB,CAAC;;IAEzD5F,QAAQ,CAACuE,gBAAgB,CAACW,OAAO,CAACG,QAAQ,EAAE,CAACE,KAAK,KAAK;MACnDM,kBAAkB,CAACN,KAAK,CAAC;IAC7B,CAAC,CAAC;EACN,CAAC,CAAC;;EAEF,SAASM,kBAAkBA,CAACN,KAAK,EAAE;IAC/B,IAAI,CAACN,KAAK,CAACK,QAAQ,CAACC,KAAK,CAACO,MAAM,CAAC,IAAI,CAACd,QAAQ,CAACM,QAAQ,CAACC,KAAK,CAACO,MAAM,CAAC,EAAE;MACnEL,oBAAoB,CAACR,KAAK,CAAC;IAC/B;EACJ;;EAEA,SAASW,sBAAsBA,CAAA,EAAG;IAC9BF,wBAAwB,CAACV,QAAQ,EAAEC,KAAK,EAAEC,OAAO,CAAC;EACtD;;EAEA,SAASO,oBAAoBA,CAACR,KAAK,EAAE;IACjCjF,QAAQ,CAAC+F,mBAAmB,CAAC,QAAQ,EAAEH,sBAAsB,CAAC;IAC9D/B,MAAM,CAACkC,mBAAmB,CAAC,QAAQ,EAAEH,sBAAsB,CAAC;IAC5D5F,QAAQ,CAAC+F,mBAAmB,CAAC,OAAO,EAAEF,kBAAkB,CAAC;IACzDZ,KAAK,CAACe,KAAK,CAACC,UAAU,GAAG,QAAQ;EACrC;;EAEA,SAASN,uBAAuBA,CAACV,KAAK,EAAE;IACpCA,KAAK,CAACe,KAAK,CAACC,UAAU,GAAG,SAAS;EACtC;;EAEA,SAASP,wBAAwBA,CAACV,QAAQ,EAAEC,KAAK,EAAEC,OAAO,EAAE;IACxD,MAAMgB,GAAG,GAAG,CAAC;;IAEb;IACAjB,KAAK,CAACe,KAAK,CAACG,IAAI,GAAG,GAAG;IACtBlB,KAAK,CAACe,KAAK,CAACI,GAAG,GAAG,GAAG;;IAErB;IACA,MAAMC,gBAAgB,GAAG;MACrBC,KAAK,EAAEtG,QAAQ,CAAC8C,eAAe,CAACyD,WAAW;MAC3CC,MAAM,EAAExG,QAAQ,CAAC8C,eAAe,CAAC2D;IACrC,CAAC;IACD;IACA,MAAMC,gBAAgB,GAAG1B,QAAQ,CAAC2B,qBAAqB,CAAC,CAAC;IACzD,MAAMC,aAAa,GAAG3B,KAAK,CAAC0B,qBAAqB,CAAC,CAAC;;IAEnD,MAAME,aAAa,GAAGH,gBAAgB,CAACP,IAAI,GAAGS,aAAa,CAACN,KAAK,GAAGD,gBAAgB,CAACC,KAAK;IAC1F,MAAMQ,cAAc,GAAGJ,gBAAgB,CAACN,GAAG,GAAGQ,aAAa,CAACJ,MAAM,GAAGH,gBAAgB,CAACG,MAAM;;IAE5F,IAAIO,kBAAkB,GAAG;MACrBZ,IAAI,EAAE,CAAC;MACPC,GAAG,EAAE;IACT,CAAC;;IAED,IAAIlB,OAAO,CAACC,IAAI,KAAK,UAAU,IAAID,OAAO,CAACC,IAAI,KAAK,cAAc,EAAE;MAChE4B,kBAAkB,CAACZ,IAAI,GAAG,CAACE,gBAAgB,CAACC,KAAK,GAAGM,aAAa,CAACN,KAAK,IAAI,CAAC;IAChF,CAAC,MAAM,IAAIO,aAAa,EAAE;MACtBE,kBAAkB,CAACZ,IAAI,GAAGO,gBAAgB,CAACM,KAAK,GAAGJ,aAAa,CAACT,IAAI,GAAGS,aAAa,CAACN,KAAK,GAAGJ,GAAG;IACrG,CAAC,MAAM;MACHa,kBAAkB,CAACZ,IAAI,GAAGO,gBAAgB,CAACP,IAAI,GAAGS,aAAa,CAACT,IAAI,GAAGD,GAAG;IAC9E;;IAEA,IAAIhB,OAAO,CAACC,IAAI,KAAK,UAAU,IAAID,OAAO,CAACC,IAAI,KAAK,cAAc,EAAE;MAChE4B,kBAAkB,CAACX,GAAG,GAAG,CAACC,gBAAgB,CAACG,MAAM,GAAGI,aAAa,CAACJ,MAAM,IAAI,CAAC;IACjF,CAAC,MAAM,IAAIM,cAAc,EAAE;MACvBC,kBAAkB,CAACX,GAAG,GAAGM,gBAAgB,CAACN,GAAG,GAAGQ,aAAa,CAACR,GAAG,GAAGQ,aAAa,CAACJ,MAAM,GAAGN,GAAG;IAClG,CAAC,MAAM;MACHa,kBAAkB,CAACX,GAAG,GAAGM,gBAAgB,CAACO,MAAM,GAAGL,aAAa,CAACR,GAAG,GAAGF,GAAG;IAC9E;;IAEAjB,KAAK,CAACe,KAAK,CAACG,IAAI,GAAGY,kBAAkB,CAACZ,IAAI,GAAG,IAAI;IACjDlB,KAAK,CAACe,KAAK,CAACI,GAAG,GAAGW,kBAAkB,CAACX,GAAG,GAAG,IAAI;EACnD;AACJ;AACApG,QAAQ,CAACC,gBAAgB,CAAC,wBAAwB,CAAC,CAACC,OAAO,CAAC,CAAC8E,QAAQ,KAAK;EACtED,qBAAqB,CAACC,QAAQ,CAAC;AACnC,CAAC,CAAC;;AAEF;;AAEA,SAASkC,2BAA2BA,CAAChC,OAAO,EAAE;EAC1C,SAASiC,UAAUA,CAAA,EAAG;IAClB,MAAMC,YAAY,GAAG,IAAIC,YAAY,CAACnC,OAAO,CAACxC,KAAK,EAAE;MACjD4E,IAAI,EAAEpC,OAAO,CAAC/C,IAAI,IAAI,EAAE;MACxBoF,IAAI,EAAErC,OAAO,CAACsC,KAAK;MACbtC,OAAO,CAACsC,KAAK;MACbtC,OAAO,CAACqC,IAAI;MACX,oDAAmDrC,OAAO,CAACqC,IAAK,MAAK;MACtE;IACV,CAAC,CAAC;IACFH,YAAY,CAACK,OAAO,GAAG,CAAClC,KAAK,KAAK;MAC9B,IAAIL,OAAO,CAAC/E,IAAI,IAAI+E,OAAO,CAAC/E,IAAI,KAAK,EAAE,EAAE;QACrCoF,KAAK,CAACC,cAAc,CAAC,CAAC;QACtB3B,MAAM,CAAC6D,IAAI,CAACxC,OAAO,CAAC/E,IAAI,CAAC;MAC7B;IACJ,CAAC;EACL;;EAEA,SAASwH,UAAUA,CAAA,EAAG;IAClB;IACA,MAAMP,YAAY,GAAGpH,QAAQ,CAAC0E,aAAa,CAAC,KAAK,CAAC;IAClD0C,YAAY,CAAClE,SAAS,CAAC0E,GAAG,CAAC,yBAAyB,CAAC;IACrD,IAAI1C,OAAO,CAACC,IAAI,KAAK,WAAW,EAAEiC,YAAY,CAAClE,SAAS,CAAC0E,GAAG,CAAC,YAAY,CAAC;;IAE1E;IACA,MAAMC,MAAM,GAAG7H,QAAQ,CAAC0E,aAAa,CAAC,QAAQ,CAAC;IAC/C,IAAI6C,IAAI;IACR,IAAIrC,OAAO,CAACsC,KAAK,IAAItC,OAAO,CAACqC,IAAI,EAAE;MAC/B,IAAIrC,OAAO,CAACsC,KAAK,EAAE;QACfD,IAAI,GAAGvH,QAAQ,CAAC0E,aAAa,CAAC,KAAK,CAAC;QACpC6C,IAAI,CAACnH,YAAY,CAAC,KAAK,EAAE8E,OAAO,CAACsC,KAAK,CAAC;MAC3C,CAAC,MAAM,IAAItC,OAAO,CAACqC,IAAI,EAAE;QACrBA,IAAI,GAAGvH,QAAQ,CAAC0E,aAAa,CAAC,GAAG,CAAC;QAClC6C,IAAI,CAACrE,SAAS,CAAC0E,GAAG,CAAC,IAAI,EAAG,MAAK1C,OAAO,CAACqC,IAAK,EAAC,CAAC;MAClD;MACAM,MAAM,CAACjD,WAAW,CAAC2C,IAAI,CAAC;IAC5B;;IAEA;IACA,MAAM7E,KAAK,GAAG1C,QAAQ,CAAC0E,aAAa,CAAC,GAAG,CAAC;IACzChC,KAAK,CAACrC,WAAW,GAAG6E,OAAO,CAACC,IAAI,KAAK,WAAW,GAAGD,OAAO,CAAC/C,IAAI,GAAG+C,OAAO,CAACxC,KAAK;IAC/EmF,MAAM,CAACjD,WAAW,CAAClC,KAAK,CAAC;;IAEzB0E,YAAY,CAACxC,WAAW,CAACiD,MAAM,CAAC;;IAEhC,IAAI3C,OAAO,CAACC,IAAI,KAAK,WAAW,EAAE;MAC9B;MACA,MAAM2C,OAAO,GAAG9H,QAAQ,CAAC0E,aAAa,CAAC,SAAS,CAAC;MACjD,MAAMqD,OAAO,GAAG/H,QAAQ,CAAC0E,aAAa,CAAC,GAAG,CAAC;MAC3CqD,OAAO,CAACC,SAAS,GAAG9C,OAAO,CAAC/C,IAAI;MAChC2F,OAAO,CAAClD,WAAW,CAACmD,OAAO,CAAC;MAC5BX,YAAY,CAACxC,WAAW,CAACkD,OAAO,CAAC;IACrC;;IAEA;IACA,MAAMG,MAAM,GAAGjI,QAAQ,CAAC0E,aAAa,CAAC,QAAQ,CAAC;IAC/CQ,OAAO,CAACgD,OAAO,CAAChI,OAAO,CAAC,CAAC+C,MAAM,KAAK;MAChC,MAAMkF,aAAa,GAAGnI,QAAQ,CAAC0E,aAAa,CAAC,KAAK,CAAC;MACnDyD,aAAa,CAACjF,SAAS,CAAC0E,GAAG,CAAC,mBAAmB,EAAE,cAAc,CAAC;MAChE,IAAI3E,MAAM,CAACmF,MAAM,IAAInF,MAAM,CAACmF,MAAM,KAAK,EAAE,EAAED,aAAa,CAACjF,SAAS,CAAC0E,GAAG,CAAE,SAAQ3E,MAAM,CAACmF,MAAO,EAAC,CAAC;MAChG,MAAMC,iBAAiB,GAAGrI,QAAQ,CAAC0E,aAAa,CAAC,GAAG,CAAC;MACrD2D,iBAAiB,CAAChI,WAAW,GAAG4C,MAAM,CAACd,IAAI;MAC3CgG,aAAa,CAACvD,WAAW,CAACyD,iBAAiB,CAAC;MAC5CF,aAAa,CAAC5D,gBAAgB,CAAC,OAAO,EAAE,MAAM;QAC1CtB,MAAM,CAACqF,MAAM,CAAC,CAAC;QACflB,YAAY,CAACmB,MAAM,CAAC,CAAC;MACzB,CAAC,CAAC;MACFN,MAAM,CAACrD,WAAW,CAACuD,aAAa,CAAC;IACrC,CAAC,CAAC;IACFf,YAAY,CAACxC,WAAW,CAACqD,MAAM,CAAC;;IAEhC;IACA,IAAIO,SAAS,GAAGxI,QAAQ,CAACgB,aAAa,CAAC,mCAAmC,CAAC;IAC3E,IAAI,CAACwH,SAAS,EAAE;MACZA,SAAS,GAAGxI,QAAQ,CAAC0E,aAAa,CAAC,KAAK,CAAC;MACzC8D,SAAS,CAACtF,SAAS,CAAC0E,GAAG,CAAC,kCAAkC,CAAC;MAC3D5H,QAAQ,CAACsH,IAAI,CAAC1C,WAAW,CAAC4D,SAAS,CAAC;IACxC;IACAA,SAAS,CAACC,YAAY,CAACrB,YAAY,EAAEoB,SAAS,CAACE,UAAU,CAAC;;IAE1D,IAAIxD,OAAO,CAACyD,KAAK,KAAK,KAAK,EAAE;MACzB,IAAIC,SAAS,GAAG,KAAK;MACrBxB,YAAY,CAAC7C,gBAAgB,CAAC,YAAY,EAAE,MAAM;QAC9CqE,SAAS,GAAG,IAAI;MACpB,CAAC,CAAC;MACFxB,YAAY,CAAC7C,gBAAgB,CAAC,YAAY,EAAE,MAAM;QAC9CqE,SAAS,GAAG,KAAK;MACrB,CAAC,CAAC;;MAEFC,UAAU,CAAC,MAAM;QACb,IAAID,SAAS,EAAE;UACXxB,YAAY,CAAC7C,gBAAgB,CAAC,YAAY,EAAE,MAAM;YAC9CsE,UAAU,CAAC,MAAM;cACbzB,YAAY,CAACmB,MAAM,CAAC,CAAC;YACzB,CAAC,EAAE,IAAI,CAAC;UACZ,CAAC,CAAC;QACN,CAAC,MAAM;UACHnB,YAAY,CAACmB,MAAM,CAAC,CAAC;QACzB;MACJ,CAAC,EAAErD,OAAO,CAACyD,KAAK,IAAI,IAAI,CAAC;IAC7B;EACJ;;EAEA,eAAeG,gBAAgBA,CAAA,EAAG;IAC9B,IAAIzB,YAAY,CAAC0B,UAAU,KAAK,SAAS,EAAE;MACvC,OAAO,IAAI;IACf,CAAC,MAAM;MACH,MAAM1B,YAAY,CAAC2B,iBAAiB,CAAC,CAAC;MACtC,IAAI3B,YAAY,CAAC0B,UAAU,KAAK,SAAS,EAAE;QACvC,OAAO,IAAI;MACf,CAAC,MAAM;QACH,OAAO,KAAK;MAChB;IACJ;EACJ;;EAEAD,gBAAgB,CAAC,CAAC,CAACG,IAAI,CAAC,CAACF,UAAU,KAAK;IACpC;IACA,IAAI,CAACA,UAAU,EAAE;MACb,OAAOxI,OAAO,CAACa,KAAK,CAAC,sEAAsE,CAAC;IAChG;;IAEA;IACA,IAAI,CAAC,CAAC8D,OAAO,CAACxC,KAAK,IAAIwC,OAAO,CAACxC,KAAK,KAAK,EAAE,KAAKwC,OAAO,CAACC,IAAI,KAAK,WAAW,EAAE;MAC1E,OAAO5E,OAAO,CAACa,KAAK,CAAC,mCAAmC,CAAC;IAC7D;;IAEA;IACA,IAAI8D,OAAO,CAACC,IAAI,KAAK,QAAQ,EAAE;MAC3BgC,UAAU,CAAC,CAAC;IAChB,CAAC,MAAM,IAAIjC,OAAO,CAACC,IAAI,CAACf,UAAU,CAAC,MAAM,CAAC,EAAE;MACxCuD,UAAU,CAAC,CAAC;MACZ,IAAI,EAAE,OAAO,IAAIzC,OAAO,CAAC,EAAE;QACvB;QACA,MAAMgE,KAAK,GAAG,IAAIC,KAAK,CAACC,4BAA4B,CAAC;QACrDF,KAAK,CAACG,IAAI,CAAC,CAAC;MAChB,CAAC,MAAM,IAAInE,OAAO,CAACgE,KAAK,EAAE;QACtB;QACA,MAAMA,KAAK,GAAG,IAAIC,KAAK,CAACjE,OAAO,CAACgE,KAAK,CAAC;QACtCA,KAAK,CAACG,IAAI,CAAC,CAAC;MAChB;IACJ,CAAC,MAAM;MACH9I,OAAO,CAACa,KAAK,CAAE,qBAAoB8D,OAAO,CAACC,IAAK,iBAAgB,CAAC;IACrE;EACJ,CAAC,CAAC;AACN;AACA,IAAIiE,4BAA4B,GAAG,qCAAqC;;AAExE;;AAEA,MAAME,4BAA4B,GAAGA,CAAA,KAAM;EACvCtJ,QAAQ,CAACC,gBAAgB,CAAC,mCAAmC,CAAC,CAACC,OAAO,CAAC,CAAC2H,MAAM,KAAK;IAC/E,IAAI0B,QAAQ,GAAG9I,2BAA2B,CAACoH,MAAM,EAAE,sBAAsB,EAAE,yBAAyB,CAAC,CAAC,CAAC,CAAC;IACxG,IAAI2B,eAAe,GAAG/I,2BAA2B;MAC7CoH,MAAM;MACN,kCAAkC;MAClC;IACJ,CAAC;;IAED0B,QAAQ,CAACvD,KAAK,CAACyD,SAAS,GAAG5B,MAAM,CAAC6B,YAAY,GAAG,CAAC,GAAG,IAAI;IACzDF,eAAe,CAACtJ,OAAO,CAAC,CAACQ,OAAO,KAAK;MACjCA,OAAO,CAACsF,KAAK,CAAC2D,UAAU,GAAG9B,MAAM,CAAC6B,YAAY,GAAG,EAAE,GAAG,IAAI;IAC9D,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC;AACDJ,4BAA4B,CAAC,CAAC;AAC9BzF,MAAM,CAACU,gBAAgB,CAAC,QAAQ,EAAE+E,4BAA4B,CAAC;;AAE/D;;AAEA,SAASM,oBAAoBA,CAACC,OAAO,EAAE;EACnC,MAAMC,eAAe,GAAG9J,QAAQ,CAAC+J,cAAc,CAACF,OAAO,CAAC;EACxDC,eAAe,CAAC5G,SAAS,CAAC0E,GAAG,CAAC,YAAY,CAAC;;EAE3C,SAASoC,uBAAuBA,CAACzE,KAAK,EAAE;IACpC,IAAIA,KAAK,CAACO,MAAM,KAAKgE,eAAe,EAAE;MAClCA,eAAe,CAAC5G,SAAS,CAACqF,MAAM,CAAC,YAAY,CAAC;IAClD;EACJ;;EAEAvI,QAAQ,CAACuE,gBAAgB,CAAC,OAAO,EAAEyF,uBAAuB,CAAC;AAC/D;;AAEA;;AAEAhK,QAAQ,CAACC,gBAAgB,CAAC,yBAAyB,CAAC,CAACC,OAAO,CAAC,CAAC+J,aAAa,KAAK;EAC5E,MAAMC,UAAU,GAAGD,aAAa,CAACjJ,aAAa,CAAC,+BAA+B,CAAC;EAC/E,MAAMmJ,eAAe,GAAGD,UAAU,CAACjK,gBAAgB,CAAC,GAAG,CAAC;EACxD,MAAMmK,WAAW,GAAGH,aAAa,CAACjJ,aAAa,CAAC,gCAAgC,CAAC;EACjF,MAAMqJ,gBAAgB,GAAGD,WAAW,CAACnK,gBAAgB,CAAC,KAAK,CAAC;;EAE5DkK,eAAe,CAACjK,OAAO,CAAC,CAACC,IAAI,KAAK;IAC9BA,IAAI,CAACoE,gBAAgB,CAAC,OAAO,EAAE,MAAM;MACjC4F,eAAe,CAACjK,OAAO,CAAC,CAACoK,GAAG,KAAK;QAC7BA,GAAG,CAACpH,SAAS,CAACqF,MAAM,CAAC,cAAc,CAAC;MACxC,CAAC,CAAC;MACF8B,gBAAgB,CAACnK,OAAO,CAAC,CAAC6H,OAAO,KAAK;QAClCA,OAAO,CAAC7E,SAAS,CAACqF,MAAM,CAAC,cAAc,CAAC;MAC5C,CAAC,CAAC;;MAEFpI,IAAI,CAAC+C,SAAS,CAAC0E,GAAG,CAAC,cAAc,CAAC;MAClC5H,QAAQ,CAAC+J,cAAc,CAAC5J,IAAI,CAAC4C,YAAY,CAAC,kBAAkB,CAAC,CAAC,CAACG,SAAS,CAAC0E,GAAG,CAAC,cAAc,CAAC;IAChG,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC,CAAC;;AAEF;;AAEA5H,QAAQ,CAACC,gBAAgB,CAAC,8BAA8B,CAAC,CAACC,OAAO,CAAC,CAACqK,SAAS,KAAK;EAC7E,MAAM1C,MAAM,GAAG0C,SAAS,CAACvJ,aAAa,CAAC,QAAQ,CAAC;EAChD,MAAMiC,MAAM,GAAG4E,MAAM,CAAC7G,aAAa,CAAC,GAAG,CAAC;EACxC,MAAM+G,OAAO,GAAGwC,SAAS,CAACvJ,aAAa,CAAC,SAAS,CAAC;EAClD6G,MAAM,CAACtD,gBAAgB,CAAC,OAAO,EAAE,MAAM;IACnC,IAAIV,MAAM,CAACgB,gBAAgB,CAACkD,OAAO,CAAC,CAACyC,OAAO,KAAK,MAAM,EAAE;MACrDzC,OAAO,CAAC/B,KAAK,CAACwE,OAAO,GAAG,OAAO;MAC/BvH,MAAM,CAAC+C,KAAK,CAACyE,SAAS,GAAG,gBAAgB;IAC7C,CAAC,MAAM,IAAI5G,MAAM,CAACgB,gBAAgB,CAACkD,OAAO,CAAC,CAACyC,OAAO,KAAK,OAAO,EAAE;MAC7DzC,OAAO,CAAC/B,KAAK,CAACwE,OAAO,GAAG,MAAM;MAC9BvH,MAAM,CAAC+C,KAAK,CAACyE,SAAS,GAAG,cAAc;IAC3C,CAAC,MAAM;MACHlK,OAAO,CAACa,KAAK,CAAC,mCAAmC,CAAC;IACtD;EACJ,CAAC,CAAC;AACN,CAAC,CAAC;;AAEF;;AAEApB,QAAQ,CAACC,gBAAgB,CAAC,uBAAuB,CAAC,CAACC,OAAO,CAAC,CAAC+C,MAAM,KAAK;EACnEA,MAAM,CAACsB,gBAAgB,CAAC,OAAO,EAAE,MAAM;IACnCV,MAAM,CAAC6G,QAAQ,CAAC;MACZtE,GAAG,EAAE;IACT,CAAC,CAAC;EACN,CAAC,CAAC;;EAEFvC,MAAM,CAACU,gBAAgB,CAAC,QAAQ,EAAE,MAAM;IACpC,IAAIV,MAAM,CAAC8G,OAAO,GAAG9G,MAAM,CAAC+G,WAAW,EAAE;MACrC3H,MAAM,CAACC,SAAS,CAAC0E,GAAG,CAAC,cAAc,CAAC;IACxC,CAAC,MAAM;MACH3E,MAAM,CAACC,SAAS,CAACqF,MAAM,CAAC,cAAc,CAAC;IAC3C;EACJ,CAAC,CAAC;AACN,CAAC,CAAC"}