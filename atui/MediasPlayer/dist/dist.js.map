{
  "version": 3,
  "sources": ["../src/main.js"],
  "sourcesContent": ["/*!\n * ATUI v0.4.1 (https://github.com/alcapitan/atui)\n * This code is released under GNU General Public License (https://github.com/alcapitan/atui/blob/dev/LICENSE.md)\n */\n\n/* Close Audioplayer */\n\ndocument.querySelectorAll(\".atuiMediasplayer_Close\").forEach(function (button) {\n    button.addEventListener(\"click\", function () {\n        const player = atuiKernel_ToolsFindElement(\n            this,\n            \".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer\",\n            \".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer\"\n        )[0];\n        const media = player.querySelector(\"audio, video\");\n        media.pause();\n        player.style.display = \"none\";\n    });\n});\n\n/* Display error for broken media link */\n\nfunction atuiMediasplayer_BrokenLink(player, mediaLink) {\n    const alertBox = document.createElement(\"div\");\n    alertBox.classList.add(\"atuiKernel_SectionBox\", \"optionAlert\");\n    const alertIcon = document.createElement(\"i\");\n    alertIcon.classList.add(\"ti\", \"ti-circle-x\");\n    const alertText = document.createElement(\"p\");\n    if (mediaLink !== null) {\n        alertText.innerHTML = `ERROR : The media \"<code>${mediaLink}</code>\" is not reachable.`;\n    } else {\n        alertText.innerHTML = `ERROR : There is no media in this mediasplayer.`;\n    }\n    alertBox.appendChild(alertIcon);\n    alertBox.appendChild(alertText);\n    if (player.classList.contains(\"atuiMediasplayer_Videoplayer\")) {\n        player.querySelector(\"article\").prepend(alertBox);\n    } else {\n        player.prepend(alertBox);\n    }\n}\n\n/* Assign an audio to an audioplayer */\n\nfunction atuiMediasplayer_Assign(data) {\n    const player = document.getElementById(data.player);\n    const media = player.querySelector(\"audio, video\");\n    const cover = player.querySelector(\".atuiMediasplayer_Cover img, .atuiMediasplayer_Cover i\");\n    const title = player.querySelector(\".atuiMediasplayer_InformationTitle\");\n    const author = player.querySelector(\".atuiMediasplayer_InformationAuthor\");\n    const albumName = player.querySelector(\".atuiMediasplayer_InformationAlbumName\");\n    const releaseDate = player.querySelector(\".atuiMediasplayer_InformationReleaseDate\");\n    const origin = player.querySelector(\".atuiMediasplayer_InformationOrigin\");\n\n    media.setAttribute(\"src\", data.media);\n    if (data.cover !== undefined) {\n        cover.setAttribute(\"src\", data.cover);\n    }\n    if (data.title !== undefined) {\n        title.innerHTML = data.title;\n    }\n    if (data.author !== undefined) {\n        author.innerHTML = data.author;\n    }\n    if (data.albumName !== undefined) {\n        albumName.innerHTML = data.albumName;\n    }\n    if (data.releaseDate !== undefined) {\n        releaseDate.innerHTML = data.releaseDate;\n    }\n    if (data.origin !== undefined) {\n        origin.setAttribute(\"href\", data.origin);\n    }\n}\n\n/* Play and pause a media */\n\nfunction atuiMediasplayer_Run(player) {\n    player = document.getElementById(player);\n    const media = player.querySelector(\"audio, video\");\n    const button = player.querySelector(\".atuiMediasplayer_Run\");\n    if (media.paused === true) {\n        atuiMediasplayer_StopAllMedia();\n        player.querySelectorAll(\".atuiKernel_SectionBox.optionAlert\").forEach((alertBox) => {\n            alertBox.remove();\n        });\n        const mediaLink = media.getAttribute(\"src\");\n        const mediaLinkIsOk = verifyLink(mediaLink);\n        mediaLinkIsOk.then((response) => {\n            if (!response) {\n                atuiMediasplayer_BrokenLink(player, mediaLink);\n            }\n        });\n        media.play();\n        if (window.getComputedStyle(player).display === \"none\") {\n            player.style.display = \"block\";\n        }\n        button.classList.replace(\"ti-player-play\", \"ti-player-pause\");\n    } else if (media.paused === false) {\n        media.pause();\n        button.classList.replace(\"ti-player-pause\", \"ti-player-play\");\n    } else {\n        console.error(\"An unexpected error has occurred.\");\n    }\n}\n\ndocument.querySelectorAll(\".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer\").forEach((player) => {\n    player.querySelector(\".atuiMediasplayer_Run\").addEventListener(\"click\", () => {\n        atuiMediasplayer_Run(player.getAttribute(\"id\"));\n    });\n});\n\n/* Manage when audio ends */\n\ndocument.querySelectorAll(\".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer\").forEach((player) => {\n    const button = player.querySelector(\".atuiMediasplayer_Run\");\n    const media = player.querySelector(\"audio, video\");\n    media.addEventListener(\"ended\", () => {\n        button.classList.replace(\"ti-player-pause\", \"ti-player-play\");\n        if (player.classList.contains(\"optionFloating\")) {\n            player.style.display = \"none\";\n        }\n    });\n});\n\n/* Stop all others medias when playing a new one */\n\nfunction atuiMediasplayer_StopAllMedia() {\n    const medias = document.querySelectorAll(\"audio, video\");\n    medias.forEach(function (media) {\n        media.pause();\n    });\n    document.querySelectorAll(\".atuiMediasplayer_Run\").forEach(function (button) {\n        button.classList.replace(\"ti-player-pause\", \"ti-player-play\");\n    });\n}\n\n/* Update timer */\n\ndocument.querySelectorAll(\".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer\").forEach((player) => {\n    const media = player.querySelector(\"audio, video\");\n    const timer = player.querySelector(\".atuiMediasplayer_Timer\");\n    const progressBar = player.querySelector(\".atuiMediasplayer_ProgressbarInside\");\n    media.addEventListener(\"timeupdate\", () => {\n        let listened = media.currentTime;\n        let duration = media.duration;\n        if (isNaN(duration)) {\n            listened = duration = 0;\n        }\n        const percent = Math.round((listened / duration) * 100);\n        timer.innerText = `${convertTime(listened)} - ${convertTime(duration)}`;\n        progressBar.style.width = `${percent}%`;\n    });\n});\n\n/* Go forward or backward */\n\ndocument.querySelectorAll(\".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer\").forEach((player) => {\n    const backward = player.querySelector(\".atuiMediasplayer_Backward\");\n    const forward = player.querySelector(\".atuiMediasplayer_Forward\");\n    const media = player.querySelector(\"audio, video\");\n    backward.addEventListener(\"click\", () => {\n        media.currentTime -= 10;\n    });\n    forward.addEventListener(\"click\", () => {\n        media.currentTime += 10;\n    });\n});\n\n/* Change playback */\n\ndocument.querySelectorAll(\".atuiMediasplayer_Progressbar\").forEach((progressbar) => {\n    progressbar.addEventListener(\"click\", (event) => {\n        const media = atuiKernel_ToolsFindElement(\n            progressbar,\n            \"audio, video\",\n            \".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer\"\n        )[0];\n        const percent = (event.offsetX / progressbar.offsetWidth) * 100;\n        media.currentTime = (media.duration * percent) / 100;\n        progressbar.querySelector(\".atuiMediasplayer_ProgressbarInside\").style.width = `${percent}%`;\n    });\n});\n\n/* Loop */\n\ndocument.querySelectorAll(\".atuiMediasplayer_Loop\").forEach(function (button) {\n    button.addEventListener(\"click\", function () {\n        const media = atuiKernel_ToolsFindElement(\n            this,\n            \"audio, video\",\n            \".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer\"\n        )[0];\n        if (media.loop === false) {\n            media.loop = true;\n            this.classList.replace(\"ti-repeat\", \"ti-repeat-off\");\n        } else if (media.loop === true) {\n            media.loop = false;\n            this.classList.replace(\"ti-repeat-off\", \"ti-repeat\");\n        } else {\n            console.error(\"An unexpected error has occurred.\");\n        }\n    });\n});\n\n/* Sound */\n\ndocument.querySelectorAll(\".atuiMediasplayer_Sound\").forEach(function (button) {\n    button.addEventListener(\"click\", function () {\n        const media = atuiKernel_ToolsFindElement(\n            this,\n            \"audio, video\",\n            \".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer\"\n        )[0];\n        if (media.muted === false) {\n            media.muted = true;\n            this.classList.replace(\"ti-volume\", \"ti-volume-off\");\n        } else if (media.muted === true) {\n            media.muted = false;\n            this.classList.replace(\"ti-volume-off\", \"ti-volume\");\n        } else {\n            console.error(\"An unexpected error has occurred.\");\n        }\n    });\n});\n\n/* Fullscreen */\n\ndocument.querySelectorAll(\".atuiMediasplayer_Fullscreen\").forEach((button) => {\n    button.addEventListener(\"click\", () => {\n        const media = atuiKernel_ToolsFindElement(button, \"video\", \".atuiMediasplayer_Videoplayer\")[0];\n        if (media.requestFullscreen) {\n            media.requestFullscreen();\n        } else if (media.webkitRequestFullscreen) {\n            media.webkitRequestFullscreen();\n        } else {\n            console.error(\"The browser does not support fullscreen mode.\");\n        }\n    });\n});\n\n/* Picture in picture */\n\ndocument.querySelectorAll(\".atuiMediasplayer_Pip\").forEach((button) => {\n    button.addEventListener(\"click\", () => {\n        const media = atuiKernel_ToolsFindElement(button, \"video\", \".atuiMediasplayer_Videoplayer\")[0];\n        if (media !== document.pictureInPictureElement) {\n            media.requestPictureInPicture();\n        } else {\n            document.exitPictureInPicture();\n        }\n    });\n});\n"],
  "mappings": "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",
  "names": ["document", "querySelectorAll", "forEach", "button", "addEventListener", "player", "atuiKernel_ToolsFindElement", "querySelector", "pause", "style", "display", "atuiMediasplayer_BrokenLink", "mediaLink", "alertBox", "createElement", "classList", "add", "alertIcon", "alertText", "innerHTML", "appendChild", "contains", "prepend", "atuiMediasplayer_Assign", "data", "getElementById", "media", "cover", "title", "author", "albumName", "releaseDate", "origin", "setAttribute", "undefined", "atuiMediasplayer_Run", "paused", "atuiMediasplayer_StopAllMedia", "remove", "getAttribute", "verifyLink", "then", "response", "play", "window", "getComputedStyle", "replace", "console", "error", "timer", "progressBar", "listened", "currentTime", "duration", "isNaN", "percent", "Math", "round", "innerText", "convertTime", "width", "backward", "forward", "progressbar", "event", "offsetX", "offsetWidth", "loop", "muted", "requestFullscreen", "webkitRequestFullscreen", "pictureInPictureElement", "requestPictureInPicture", "exitPictureInPicture"]
}
