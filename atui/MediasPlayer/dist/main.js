"use strict";function mpAssign(a){if(void 0===a.player)return console.error("The player attribute is required."),!1;const b=document.querySelector(a.player);if(null===b)return console.error(`The player "${a.player}" has not been found in this webpage.`),!1;if(b.querySelectorAll(".vkBox.styleDanger").forEach(a=>{a.remove()}),b.classList.contains("mpVideo")&&b.classList.contains("styleOverlay")&&(b.querySelector(".mpDashboard").style.opacity="1"),b.querySelector(".mpRun").classList.replace("ti-player-pause","ti-player-play"),b.querySelector(".mpTimer").innerText="00:00 - 00:00",b.querySelector(".mpProgressInside").style.width="0%",void 0===a.media)return console.error("The media attribute is required."),!1;const c=b.querySelector("audio, video");if(null===c)return console.error(`The player ${a.player} does not have any audio or video tag.`),!1;if(c.setAttribute("src",a.media),"AUDIO"===c.tagName){const c=b.querySelector(".mpMediaPicture, .mpMediaPicture");if(null===c&&void 0!==a.picture)return console.error(`The player ${a.player} does not have any album cover element.`),!1;c.setAttribute("src",void 0===a.picture?"https://unpkg.com/@tabler/icons/icons/disc.svg":a.picture)}else"VIDEO"===c.tagName&&c.setAttribute("poster",void 0===a.picture?"":a.picture);const d=b.querySelector(".mpMediaTitle");if(null===d&&void 0!==a.title)return console.error(`The player ${a.player} does not have any title element.`),!1;null!==d&&(d.innerHTML=void 0===a.title?"":a.title);const e=b.querySelector(".mpMediaDescription");if(null===e&&void 0!==a.description)return console.error(`The player ${a.player} does not have any description element.`),!1;null!==e&&(e.innerHTML=void 0===a.description?"":a.description);const f=b.querySelector(".mpMediaSource");if(null===f&&void 0!==a.source)return console.error(`The player ${a.player} does not have any source element.`),!1;null!==f&&(void 0===a.source?f.style.display="none":(f.setAttribute("href",a.source),f.style.display="inherit"));const g=b.querySelector(".mpMediaDate");if(null===g&&void 0!==a.date)return console.error(`The player ${a.player} does not have any date element.`),!1;null!==g&&(void 0===a.date?g.style.display="none":(g.innerHTML=a.date,g.style.display="inherit"));const h=b.querySelector(".mpMediaPlaylist");if(null===h&&void 0!==a.playlist)return console.error(`The player ${a.player} does not have any playlist element.`),!1;null!==h&&(void 0===a.playlist?h.style.display="none":(h.setAttribute("href",a.playlist),h.style.display="inherit"));const i=b.querySelector(".mpMediaAuthor");return null===i&&void 0!==a.author?(console.error(`The player ${a.player} does not have any author element.`),!1):(null!==i&&(void 0===a.author?i.style.display="none":(i.innerHTML=a.author,i.style.display="inherit")),!0)}function mpRaiseError(a,b){a.querySelectorAll(".vkBox.styleDanger").forEach(a=>{a.remove()});const c=document.createElement("div");c.classList.add("vkBox","styleDanger");const d=document.createElement("i");d.classList.add("ti","ti-circle-x"),c.appendChild(d);const e=document.createElement("p");e.innerHTML=b,c.appendChild(e),a.classList.contains("mpVideo")?(a.querySelector("video").setAttribute("poster",""),a.querySelector("video").before(c)):a.prepend(c),"none"===window.getComputedStyle(a).display&&(a.style.display="block")}function mpStop(){const a=document.querySelectorAll("audio, video");a.forEach(a=>{a.pause()}),document.querySelectorAll(".mpRun").forEach(a=>{a.classList.replace("ti-player-pause","ti-player-play")})}function toggleDashboardOpacity(a){const b=a.querySelector("video"),c=a.querySelector(".mpDashboard");c.style.opacity="1",!1===b.paused&&(clearTimeout(b.period),b.addEventListener("mouseleave",()=>{b.period=setTimeout(()=>{c.style.opacity="0.2"},2e3)}))}document.querySelectorAll(".mpVideo.styleOverlay").forEach(a=>{const b=a.querySelector("video"),c=a.querySelector(".mpDashboard");c.addEventListener("mouseover",()=>{toggleDashboardOpacity(a)});const d=0<navigator.maxTouchPoints;d?b.addEventListener("dblclick",()=>{mpRun(`#${a.getAttribute("id")}`)}):(b.addEventListener("click",()=>{mpRun(`#${a.getAttribute("id")}`)}),b.addEventListener("dblclick",()=>{mpToggleFullscreen(a)}))}),document.querySelectorAll(".mpAudio, .mpVideo").forEach(a=>{const b=a.querySelector("audio, video");b.addEventListener("timeupdate",()=>{mpUpdateTimer(a)}),b.addEventListener("ended",()=>{mpMediaEnded(a)}),b.addEventListener("error",b=>{mpLoadingError(a,b)}),mpChangePlaybackByButtons(a),mpChangePlaybackByProgressBar(a),a.querySelector(".mpRun").addEventListener("click",()=>{mpRun(`#${a.getAttribute("id")}`)}),a.querySelector(".mpLoop")?.addEventListener("click",()=>{mpToggleLoop(a)}),a.querySelector(".mpSound")?.addEventListener("click",()=>{mpToggleSound(a)}),a.querySelector(".mpClose")?.addEventListener("click",()=>{mpClose(a)}),a.querySelector(".mpFullscreen")?.addEventListener("click",()=>{mpToggleFullscreen(a)}),a.querySelector(".mpPip")?.addEventListener("click",()=>{mpTogglePip(a)})});function mpUpdateTimer(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpTimer"),d=a.querySelector(".mpProgressInside");b.addEventListener("timeupdate",()=>{let a=b.currentTime,e=b.duration;isNaN(e)&&(a=e=0);const f=Math.round(100*(a/e));c.innerText=`${convertTime(a)} - ${convertTime(e)}`,d.style.width=`${f}%`})}function mpMediaEnded(a){a.querySelector(".mpRun").classList.replace("ti-player-pause","ti-player-play"),a.classList.contains("styleFloating")&&(a.style.display="none")}function mpLoadingError(a){let b=`ERROR : `;b+=`The media cannot be loaded. `;let c=a.querySelector("audio, video").getAttribute("src");""===c&&(c="undefined"),b+=`<hr /><small>Media link : <code>${c}</code></small>`,mpRaiseError(a,b)}function mpChangePlaybackByButtons(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpBackward"),d=a.querySelector(".mpForward");c.addEventListener("click",()=>{b.currentTime-=10}),d.addEventListener("click",()=>{b.currentTime+=10})}function mpChangePlaybackByProgressBar(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpProgress");c.addEventListener("click",a=>{if(isNaN(b.duration))return!1;const d=100*(a.offsetX/c.offsetWidth);return b.currentTime=b.duration*d/100,c.querySelector(".mpProgressInside").style.width=`${d}%`,!0})}function mpRun(a){const b=document.querySelector(a),c=b.querySelector("audio, video"),d=b.querySelector(".mpRun");return!0===c.paused?(mpStop(),"none"===window.getComputedStyle(b).display&&(b.style.display="block"),c.play(),d.classList.replace("ti-player-play","ti-player-pause")):!1===c.paused&&(c.pause(),d.classList.replace("ti-player-pause","ti-player-play"),b.classList.contains("mpVideo")&&b.classList.contains("styleOverlay")&&(b.querySelector(".mpDashboard").style.opacity="1")),!0}function mpToggleLoop(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpLoop");!1===b.loop?(b.loop=!0,c.classList.replace("ti-repeat","ti-repeat-off")):!0===b.loop&&(b.loop=!1,c.classList.replace("ti-repeat-off","ti-repeat"))}function mpToggleSound(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpSound");!1===b.muted?(b.muted=!0,c.classList.replace("ti-volume","ti-volume-off")):!0===b.muted&&(b.muted=!1,c.classList.replace("ti-volume-off","ti-volume"))}function mpClose(a){a.querySelector("audio, video").pause(),a.style.display="none"}function mpToggleFullscreen(a){const b=a.querySelector("video");return""===b.src?0:void(b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():console.error("The browser does not support fullscreen mode."))}function mpTogglePip(a){const b=a.querySelector("video");return""===b.src?0:void(b===document.pictureInPictureElement?document.exitPictureInPicture?document.exitPictureInPicture():console.error("The browser does not support picture in picture mode."):b.requestPictureInPicture())}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtcEFzc2lnbiIsImRhdGEiLCJwbGF5ZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFsZXJ0Qm94IiwicmVtb3ZlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJzdHlsZSIsIm9wYWNpdHkiLCJyZXBsYWNlIiwiaW5uZXJUZXh0Iiwid2lkdGgiLCJtZWRpYSIsInNldEF0dHJpYnV0ZSIsInRhZ05hbWUiLCJwaWN0dXJlIiwidGl0bGUiLCJpbm5lckhUTUwiLCJkZXNjcmlwdGlvbiIsInNvdXJjZSIsImRpc3BsYXkiLCJkYXRlIiwicGxheWxpc3QiLCJhdXRob3IiLCJtcFJhaXNlRXJyb3IiLCJ0ZXh0IiwiY3JlYXRlRWxlbWVudCIsImFkZCIsImFsZXJ0SWNvbiIsImFwcGVuZENoaWxkIiwiYWxlcnRUZXh0IiwiYmVmb3JlIiwicHJlcGVuZCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJtcFN0b3AiLCJtZWRpYXMiLCJwYXVzZSIsImJ1dHRvbiIsInRvZ2dsZURhc2hib2FyZE9wYWNpdHkiLCJkYXNoYm9hcmQiLCJwYXVzZWQiLCJjbGVhclRpbWVvdXQiLCJwZXJpb2QiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0VGltZW91dCIsImlzVG91Y2hzY3JlZW4iLCJuYXZpZ2F0b3IiLCJtYXhUb3VjaFBvaW50cyIsIm1wUnVuIiwiZ2V0QXR0cmlidXRlIiwibXBUb2dnbGVGdWxsc2NyZWVuIiwibXBVcGRhdGVUaW1lciIsIm1wTWVkaWFFbmRlZCIsIm1wTG9hZGluZ0Vycm9yIiwibXBDaGFuZ2VQbGF5YmFja0J5QnV0dG9ucyIsIm1wQ2hhbmdlUGxheWJhY2tCeVByb2dyZXNzQmFyIiwibXBUb2dnbGVMb29wIiwibXBUb2dnbGVTb3VuZCIsIm1wQ2xvc2UiLCJtcFRvZ2dsZVBpcCIsInRpbWVyIiwicHJvZ3Jlc3NCYXIiLCJsaXN0ZW5lZCIsImN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJpc05hTiIsInBlcmNlbnQiLCJNYXRoIiwicm91bmQiLCJjb252ZXJ0VGltZSIsIm1lZGlhTGluayIsImJhY2t3YXJkIiwiZm9yd2FyZCIsImV2ZW50Iiwib2Zmc2V0WCIsIm9mZnNldFdpZHRoIiwicGxheWVyU2VsZWN0b3IiLCJwbGF5IiwibG9vcCIsIm11dGVkIiwic3JjIiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiIsInBpY3R1cmVJblBpY3R1cmVFbGVtZW50IiwiZXhpdFBpY3R1cmVJblBpY3R1cmUiLCJyZXF1ZXN0UGljdHVyZUluUGljdHVyZSJdLCJzb3VyY2VzIjpbIi4uL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEFzc2lnbiBhbiBhdWRpbyB0byBhbiBhdWRpb3BsYXllciAqL1xuXG5mdW5jdGlvbiBtcEFzc2lnbihkYXRhKSB7XG4gICAgLyoqIHBvc3NpYmxlIGF0dHJpYnV0ZXMgb2YgZGF0YSA6XG4gICAgIC0gcGxheWVyIChyZXF1aXJlZClcbiAgICAgLSBtZWRpYSAocmVxdWlyZWQpXG4gICAgIC0gcGljdHVyZVxuICAgICAtIHRpdGxlXG4gICAgIC0gZGVzY3JpcHRpb25cbiAgICAgLSBzb3VyY2VcbiAgICAgLSBkYXRlXG4gICAgIC0gcGxheWxpc3RcbiAgICAgLSBhdXRob3JcbiAgICAgKi9cblxuICAgIC8vIFBsYXllclxuICAgIGlmIChkYXRhLnBsYXllciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgcGxheWVyIGF0dHJpYnV0ZSBpcyByZXF1aXJlZC5cIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLnBsYXllcik7XG4gICAgaWYgKHBsYXllciA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBUaGUgcGxheWVyIFwiJHtkYXRhLnBsYXllcn1cIiBoYXMgbm90IGJlZW4gZm91bmQgaW4gdGhpcyB3ZWJwYWdlLmApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgbWVkaWEgcGxheWVyXG4gICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudmtCb3guc3R5bGVEYW5nZXJcIikuZm9yRWFjaCgoYWxlcnRCb3gpID0+IHtcbiAgICAgICAgYWxlcnRCb3gucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgaWYgKHBsYXllci5jbGFzc0xpc3QuY29udGFpbnMoXCJtcFZpZGVvXCIpICYmIHBsYXllci5jbGFzc0xpc3QuY29udGFpbnMoXCJzdHlsZU92ZXJsYXlcIikpIHtcbiAgICAgICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBEYXNoYm9hcmRcIikuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgIH1cbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFJ1blwiKS5jbGFzc0xpc3QucmVwbGFjZShcInRpLXBsYXllci1wYXVzZVwiLCBcInRpLXBsYXllci1wbGF5XCIpO1xuICAgIHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wVGltZXJcIikuaW5uZXJUZXh0ID0gXCIwMDowMCAtIDAwOjAwXCI7XG4gICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBQcm9ncmVzc0luc2lkZVwiKS5zdHlsZS53aWR0aCA9IFwiMCVcIjtcblxuICAgIC8vIE1lZGlhXG4gICAgaWYgKGRhdGEubWVkaWEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlIG1lZGlhIGF0dHJpYnV0ZSBpcyByZXF1aXJlZC5cIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgbWVkaWEgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcImF1ZGlvLCB2aWRlb1wiKTtcbiAgICBpZiAobWVkaWEgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETzogd2UgY291bGQgY2FsbCBtcFJhaXNlRXJyb3IoKSBoZXJlIHdpdGggYW4gdW5kZXJzdGFuZGFibGUgbWVzc2FnZSBmb3IgdGhlIHVzZXIgKHdobyBpcyBub3QgZGV2ZWxvcGVyICEpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBwbGF5ZXIgJHtkYXRhLnBsYXllcn0gZG9lcyBub3QgaGF2ZSBhbnkgYXVkaW8gb3IgdmlkZW8gdGFnLmApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWVkaWEuc2V0QXR0cmlidXRlKFwic3JjXCIsIGRhdGEubWVkaWEpO1xuICAgIH1cblxuICAgIC8vIFBpY3R1cmVcbiAgICBpZiAobWVkaWEudGFnTmFtZSA9PT0gXCJBVURJT1wiKSB7XG4gICAgICAgIGNvbnN0IHBpY3R1cmUgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcE1lZGlhUGljdHVyZSwgLm1wTWVkaWFQaWN0dXJlXCIpO1xuICAgICAgICBpZiAocGljdHVyZSA9PT0gbnVsbCAmJiBkYXRhLnBpY3R1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVGhlIHBsYXllciAke2RhdGEucGxheWVyfSBkb2VzIG5vdCBoYXZlIGFueSBhbGJ1bSBjb3ZlciBlbGVtZW50LmApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHBpY3R1cmUuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgXCJzcmNcIixcbiAgICAgICAgICAgIGRhdGEucGljdHVyZSAhPT0gdW5kZWZpbmVkID8gZGF0YS5waWN0dXJlIDogXCJodHRwczovL3VucGtnLmNvbS9AdGFibGVyL2ljb25zL2ljb25zL2Rpc2Muc3ZnXCIsXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmIChtZWRpYS50YWdOYW1lID09PSBcIlZJREVPXCIpIHtcbiAgICAgICAgbWVkaWEuc2V0QXR0cmlidXRlKFwicG9zdGVyXCIsIGRhdGEucGljdHVyZSAhPT0gdW5kZWZpbmVkID8gZGF0YS5waWN0dXJlIDogXCJcIik7XG4gICAgICAgIC8vIFRPRE86IHRoZXJlIGlzIG5vIGRlZmF1bHQgcG9zdGVyIGZvciB2aWRlb1xuICAgIH1cblxuICAgIC8vIFRpdGxlXG4gICAgY29uc3QgdGl0bGUgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcE1lZGlhVGl0bGVcIik7XG4gICAgaWYgKHRpdGxlID09PSBudWxsICYmIGRhdGEudGl0bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBUaGUgcGxheWVyICR7ZGF0YS5wbGF5ZXJ9IGRvZXMgbm90IGhhdmUgYW55IHRpdGxlIGVsZW1lbnQuYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRpdGxlICE9PSBudWxsKSB0aXRsZS5pbm5lckhUTUwgPSBkYXRhLnRpdGxlICE9PSB1bmRlZmluZWQgPyBkYXRhLnRpdGxlIDogXCJcIjtcblxuICAgIC8vIERlc2NyaXB0aW9uXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcE1lZGlhRGVzY3JpcHRpb25cIik7XG4gICAgaWYgKGRlc2NyaXB0aW9uID09PSBudWxsICYmIGRhdGEuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBUaGUgcGxheWVyICR7ZGF0YS5wbGF5ZXJ9IGRvZXMgbm90IGhhdmUgYW55IGRlc2NyaXB0aW9uIGVsZW1lbnQuYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGRlc2NyaXB0aW9uICE9PSBudWxsKSBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBkYXRhLmRlc2NyaXB0aW9uICE9PSB1bmRlZmluZWQgPyBkYXRhLmRlc2NyaXB0aW9uIDogXCJcIjtcblxuICAgIC8vIFNvdXJjZVxuICAgIGNvbnN0IHNvdXJjZSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wTWVkaWFTb3VyY2VcIik7XG4gICAgaWYgKHNvdXJjZSA9PT0gbnVsbCAmJiBkYXRhLnNvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBwbGF5ZXIgJHtkYXRhLnBsYXllcn0gZG9lcyBub3QgaGF2ZSBhbnkgc291cmNlIGVsZW1lbnQuYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoZGF0YS5zb3VyY2UgPT09IHVuZGVmaW5lZCkgc291cmNlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBkYXRhLnNvdXJjZSk7XG4gICAgICAgICAgICBzb3VyY2Uuc3R5bGUuZGlzcGxheSA9IFwiaW5oZXJpdFwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGF0ZVxuICAgIGNvbnN0IGRhdGUgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcE1lZGlhRGF0ZVwiKTtcbiAgICBpZiAoZGF0ZSA9PT0gbnVsbCAmJiBkYXRhLmRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBUaGUgcGxheWVyICR7ZGF0YS5wbGF5ZXJ9IGRvZXMgbm90IGhhdmUgYW55IGRhdGUgZWxlbWVudC5gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoZGF0YS5kYXRlID09PSB1bmRlZmluZWQpIGRhdGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRhdGUuaW5uZXJIVE1MID0gZGF0YS5kYXRlO1xuICAgICAgICAgICAgZGF0ZS5zdHlsZS5kaXNwbGF5ID0gXCJpbmhlcml0XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQbGF5bGlzdFxuICAgIGNvbnN0IHBsYXlsaXN0ID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBNZWRpYVBsYXlsaXN0XCIpO1xuICAgIGlmIChwbGF5bGlzdCA9PT0gbnVsbCAmJiBkYXRhLnBsYXlsaXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVGhlIHBsYXllciAke2RhdGEucGxheWVyfSBkb2VzIG5vdCBoYXZlIGFueSBwbGF5bGlzdCBlbGVtZW50LmApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChwbGF5bGlzdCAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoZGF0YS5wbGF5bGlzdCA9PT0gdW5kZWZpbmVkKSBwbGF5bGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGxheWxpc3Quc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBkYXRhLnBsYXlsaXN0KTtcbiAgICAgICAgICAgIHBsYXlsaXN0LnN0eWxlLmRpc3BsYXkgPSBcImluaGVyaXRcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEF1dGhvclxuICAgIGNvbnN0IGF1dGhvciA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wTWVkaWFBdXRob3JcIik7XG4gICAgaWYgKGF1dGhvciA9PT0gbnVsbCAmJiBkYXRhLmF1dGhvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBwbGF5ZXIgJHtkYXRhLnBsYXllcn0gZG9lcyBub3QgaGF2ZSBhbnkgYXV0aG9yIGVsZW1lbnQuYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGF1dGhvciAhPT0gbnVsbCkge1xuICAgICAgICBpZiAoZGF0YS5hdXRob3IgPT09IHVuZGVmaW5lZCkgYXV0aG9yLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdXRob3IuaW5uZXJIVE1MID0gZGF0YS5hdXRob3I7XG4gICAgICAgICAgICBhdXRob3Iuc3R5bGUuZGlzcGxheSA9IFwiaW5oZXJpdFwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qIFJhaXNlIGVycm9yIGJveGVzIGluc2lkZSB0aGUgcGxheWVyICovXG5cbmZ1bmN0aW9uIG1wUmFpc2VFcnJvcihwbGF5ZXIsIHRleHQpIHtcbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvckFsbChcIi52a0JveC5zdHlsZURhbmdlclwiKS5mb3JFYWNoKChhbGVydEJveCkgPT4ge1xuICAgICAgICBhbGVydEJveC5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGFsZXJ0Qm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBhbGVydEJveC5jbGFzc0xpc3QuYWRkKFwidmtCb3hcIiwgXCJzdHlsZURhbmdlclwiKTtcblxuICAgIGNvbnN0IGFsZXJ0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgIGFsZXJ0SWNvbi5jbGFzc0xpc3QuYWRkKFwidGlcIiwgXCJ0aS1jaXJjbGUteFwiKTtcbiAgICBhbGVydEJveC5hcHBlbmRDaGlsZChhbGVydEljb24pO1xuXG4gICAgY29uc3QgYWxlcnRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgYWxlcnRUZXh0LmlubmVySFRNTCA9IHRleHQ7XG4gICAgYWxlcnRCb3guYXBwZW5kQ2hpbGQoYWxlcnRUZXh0KTtcblxuICAgIGlmIChwbGF5ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwibXBWaWRlb1wiKSkge1xuICAgICAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpLnNldEF0dHJpYnV0ZShcInBvc3RlclwiLCBcIlwiKTtcbiAgICAgICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJ2aWRlb1wiKS5iZWZvcmUoYWxlcnRCb3gpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHBsYXllci5wcmVwZW5kKGFsZXJ0Qm94KTtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBsYXllcikuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgcGxheWVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxufVxuXG4vKiBTdG9wIGFsbCBvdGhlcnMgbWVkaWFzIHdoZW4gcGxheWluZyBhIG5ldyBvbmUgKi9cblxuZnVuY3Rpb24gbXBTdG9wKCkge1xuICAgIGNvbnN0IG1lZGlhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJhdWRpbywgdmlkZW9cIik7XG4gICAgbWVkaWFzLmZvckVhY2goKG1lZGlhKSA9PiB7XG4gICAgICAgIG1lZGlhLnBhdXNlKCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tcFJ1blwiKS5mb3JFYWNoKChidXR0b24pID0+IHtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZXBsYWNlKFwidGktcGxheWVyLXBhdXNlXCIsIFwidGktcGxheWVyLXBsYXlcIik7XG4gICAgfSk7XG59XG5cbi8qIFRvdWNoIGFuZCBjbGljayBpbnRlcmFjdGlvbnMgZm9yIHZpZGVvIHBsYXllciAqL1xuXG5mdW5jdGlvbiB0b2dnbGVEYXNoYm9hcmRPcGFjaXR5KHBsYXllcikge1xuICAgIGNvbnN0IG1lZGlhID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJ2aWRlb1wiKTtcbiAgICBjb25zdCBkYXNoYm9hcmQgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcERhc2hib2FyZFwiKTtcblxuICAgIGRhc2hib2FyZC5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgaWYgKG1lZGlhLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KG1lZGlhLnBlcmlvZCk7XG4gICAgICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcbiAgICAgICAgICAgIG1lZGlhLnBlcmlvZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRhc2hib2FyZC5zdHlsZS5vcGFjaXR5ID0gXCIwLjJcIjtcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubXBWaWRlby5zdHlsZU92ZXJsYXlcIikuZm9yRWFjaCgocGxheWVyKSA9PiB7XG4gICAgY29uc3QgbWVkaWEgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpO1xuICAgIGNvbnN0IGRhc2hib2FyZCA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wRGFzaGJvYXJkXCIpO1xuXG4gICAgZGFzaGJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgICB0b2dnbGVEYXNoYm9hcmRPcGFjaXR5KHBsYXllcik7XG4gICAgfSk7XG5cbiAgICBjb25zdCBpc1RvdWNoc2NyZWVuID0gbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMDtcbiAgICBpZiAoaXNUb3VjaHNjcmVlbikge1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbXBSdW4oYCMke3BsYXllci5nZXRBdHRyaWJ1dGUoXCJpZFwiKX1gKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIG1wUnVuKGAjJHtwbGF5ZXIuZ2V0QXR0cmlidXRlKFwiaWRcIil9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbXBUb2dnbGVGdWxsc2NyZWVuKHBsYXllcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKiBJbml0aWFsaXplIG1lZGlhIHBsYXllciBmZWF0dXJlcyAqL1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1wQXVkaW8sIC5tcFZpZGVvXCIpLmZvckVhY2goKHBsYXllcikgPT4ge1xuICAgIGNvbnN0IG1lZGlhID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJhdWRpbywgdmlkZW9cIik7XG5cbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCAoKSA9PiB7XG4gICAgICAgIG1wVXBkYXRlVGltZXIocGxheWVyKTtcbiAgICB9KTtcblxuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCAoKSA9PiB7XG4gICAgICAgIG1wTWVkaWFFbmRlZChwbGF5ZXIpO1xuICAgIH0pO1xuXG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIChlcnJvcikgPT4ge1xuICAgICAgICBtcExvYWRpbmdFcnJvcihwbGF5ZXIsIGVycm9yKTtcbiAgICB9KTtcblxuICAgIG1wQ2hhbmdlUGxheWJhY2tCeUJ1dHRvbnMocGxheWVyKTtcblxuICAgIG1wQ2hhbmdlUGxheWJhY2tCeVByb2dyZXNzQmFyKHBsYXllcik7XG5cbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFJ1blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBtcFJ1bihgIyR7cGxheWVyLmdldEF0dHJpYnV0ZShcImlkXCIpfWApO1xuICAgICAgICAvLyogVGhpcyBjb21wbGV4IHByZXZpb3VzIGxpbmUgc2hvdWxkIGJlIGtlcHQgYmVjYXVzZSBtcFJ1biBuZWVkcyBwbGF5ZXIncyBzZWxlY3RvciBpZCAhXG4gICAgfSk7XG5cbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcExvb3BcIik/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG1wVG9nZ2xlTG9vcChwbGF5ZXIpO1xuICAgIH0pO1xuXG4gICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBTb3VuZFwiKT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgbXBUb2dnbGVTb3VuZChwbGF5ZXIpO1xuICAgIH0pO1xuXG4gICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBDbG9zZVwiKT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgbXBDbG9zZShwbGF5ZXIpO1xuICAgIH0pO1xuXG4gICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBGdWxsc2NyZWVuXCIpPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBtcFRvZ2dsZUZ1bGxzY3JlZW4ocGxheWVyKTtcbiAgICB9KTtcblxuICAgIHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wUGlwXCIpPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBtcFRvZ2dsZVBpcChwbGF5ZXIpO1xuICAgIH0pO1xufSk7XG5cbi8qIFVwZGF0ZSB0aW1lciAqL1xuXG5mdW5jdGlvbiBtcFVwZGF0ZVRpbWVyKHBsYXllcikge1xuICAgIGNvbnN0IG1lZGlhID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJhdWRpbywgdmlkZW9cIik7XG4gICAgY29uc3QgdGltZXIgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFRpbWVyXCIpO1xuICAgIGNvbnN0IHByb2dyZXNzQmFyID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBQcm9ncmVzc0luc2lkZVwiKTtcbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKFwidGltZXVwZGF0ZVwiLCAoKSA9PiB7XG4gICAgICAgIGxldCBsaXN0ZW5lZCA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICBsZXQgZHVyYXRpb24gPSBtZWRpYS5kdXJhdGlvbjtcbiAgICAgICAgaWYgKGlzTmFOKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgbGlzdGVuZWQgPSBkdXJhdGlvbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGVyY2VudCA9IE1hdGgucm91bmQoKGxpc3RlbmVkIC8gZHVyYXRpb24pICogMTAwKTtcbiAgICAgICAgdGltZXIuaW5uZXJUZXh0ID0gYCR7Y29udmVydFRpbWUobGlzdGVuZWQpfSAtICR7Y29udmVydFRpbWUoZHVyYXRpb24pfWA7XG4gICAgICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudH0lYDtcbiAgICB9KTtcbn1cblxuLyogTWFuYWdlIHdoZW4gYXVkaW8gZW5kcyAqL1xuXG5mdW5jdGlvbiBtcE1lZGlhRW5kZWQocGxheWVyKSB7XG4gICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBSdW5cIikuY2xhc3NMaXN0LnJlcGxhY2UoXCJ0aS1wbGF5ZXItcGF1c2VcIiwgXCJ0aS1wbGF5ZXItcGxheVwiKTtcbiAgICBpZiAocGxheWVyLmNsYXNzTGlzdC5jb250YWlucyhcInN0eWxlRmxvYXRpbmdcIikpIHtcbiAgICAgICAgcGxheWVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG59XG5cbi8qIE1hbmFnZSBtZWRpYSBsb2FkaW5nIGVycm9ycyAqL1xuXG4vLyogVGhpcyBmdW5jdGlvbiBpcyBhbG1vc3QgdXNlbGVzcyBhbmQgY291bGQgYmUgcmVtb3ZlZCBzb29uXG5mdW5jdGlvbiBtcExvYWRpbmdFcnJvcihwbGF5ZXIsIGVycm9yKSB7XG4gICAgbGV0IHRleHQgPSBgRVJST1IgOiBgO1xuICAgIHRleHQgKz0gYFRoZSBtZWRpYSBjYW5ub3QgYmUgbG9hZGVkLiBgO1xuICAgIC8qIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICB0ZXh0ICs9IGBNZWRpYSBsb2FkaW5nIGhhcyBiZWVuIGludGVycnVwdGVkIGJ5IHRoZSB1c2VyLiBgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHRleHQgKz0gYE1lZGlhIGxvYWRpbmcgd2FzIGludGVycnVwdGVkIGR1ZSB0byBhIG5ldHdvcmsgcHJvYmxlbS4gYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB0ZXh0ICs9IGBNZWRpYSBjYW5ub3QgYmUgcmVhZCBkdWUgdG8gYSBmaWxlIGRlY29kaW5nIGVycm9yLiBgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHRleHQgKz0gYE1lZGlhIGhhcyBub3QgYmVlbiBmb3VuZC4gYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICB0ZXh0ICs9IGBNZWRpYSBjYW5ub3QgYmUgcGxheWVkIGR1ZSB0byBhIG5ldHdvcmsgZXJyb3IuIGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRleHQgKz0gYEFuIHVuZXhwZWN0ZWQgZXJyb3IgaGFzIG9jY3VycmVkLiBgO1xuICAgIH0gKi9cbiAgICBsZXQgbWVkaWFMaW5rID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJhdWRpbywgdmlkZW9cIikuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xuICAgIGlmIChtZWRpYUxpbmsgPT09IFwiXCIpIG1lZGlhTGluayA9IFwidW5kZWZpbmVkXCI7XG4gICAgdGV4dCArPSBgPGhyIC8+PHNtYWxsPk1lZGlhIGxpbmsgOiA8Y29kZT4ke21lZGlhTGlua308L2NvZGU+PC9zbWFsbD5gO1xuICAgIC8qIHRleHQgKz0gYDxiciAvPjxzbWFsbD5UZWNobmljYWwgZXJyb3I6IDxjb2RlPiR7ZXJyb3J9PC9jb2RlPjwvc21hbGw+YDtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yLmV2ZW50UGhhc2UpOyAqL1xuICAgIG1wUmFpc2VFcnJvcihwbGF5ZXIsIHRleHQpO1xufVxuXG4vKiBDaGFuZ2UgcGxheWJhY2sgYnkgYnV0dG9ucyAqL1xuXG5mdW5jdGlvbiBtcENoYW5nZVBsYXliYWNrQnlCdXR0b25zKHBsYXllcikge1xuICAgIGNvbnN0IG1lZGlhID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJhdWRpbywgdmlkZW9cIik7XG4gICAgY29uc3QgYmFja3dhcmQgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcEJhY2t3YXJkXCIpO1xuICAgIGNvbnN0IGZvcndhcmQgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcEZvcndhcmRcIik7XG4gICAgYmFja3dhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgLT0gMTA7XG4gICAgfSk7XG4gICAgZm9yd2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBtZWRpYS5jdXJyZW50VGltZSArPSAxMDtcbiAgICB9KTtcbn1cblxuLyogQ2hhbmdlIHBsYXliYWNrIGJ5IHByb2dyZXNzIGJhciAqL1xuXG5mdW5jdGlvbiBtcENoYW5nZVBsYXliYWNrQnlQcm9ncmVzc0JhcihwbGF5ZXIpIHtcbiAgICBjb25zdCBtZWRpYSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiYXVkaW8sIHZpZGVvXCIpO1xuICAgIGNvbnN0IHByb2dyZXNzQmFyID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBQcm9ncmVzc1wiKTtcbiAgICBwcm9ncmVzc0Jhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChpc05hTihtZWRpYS5kdXJhdGlvbikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgcGVyY2VudCA9IChldmVudC5vZmZzZXRYIC8gcHJvZ3Jlc3NCYXIub2Zmc2V0V2lkdGgpICogMTAwO1xuICAgICAgICBtZWRpYS5jdXJyZW50VGltZSA9IChtZWRpYS5kdXJhdGlvbiAqIHBlcmNlbnQpIC8gMTAwO1xuICAgICAgICBwcm9ncmVzc0Jhci5xdWVyeVNlbGVjdG9yKFwiLm1wUHJvZ3Jlc3NJbnNpZGVcIikuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xufVxuXG4vKiBQbGF5IGFuZCBwYXVzZSBhIG1lZGlhICovXG5cbmZ1bmN0aW9uIG1wUnVuKHBsYXllclNlbGVjdG9yKSB7XG4gICAgY29uc3QgcGxheWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwbGF5ZXJTZWxlY3Rvcik7XG4gICAgY29uc3QgbWVkaWEgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcImF1ZGlvLCB2aWRlb1wiKTtcbiAgICBjb25zdCBidXR0b24gPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFJ1blwiKTtcblxuICAgIGlmIChtZWRpYS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgbXBTdG9wKCk7XG4gICAgICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwbGF5ZXIpLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICBwbGF5ZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfVxuICAgICAgICBtZWRpYS5wbGF5KCk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVwbGFjZShcInRpLXBsYXllci1wbGF5XCIsIFwidGktcGxheWVyLXBhdXNlXCIpO1xuICAgIH0gZWxzZSBpZiAobWVkaWEucGF1c2VkID09PSBmYWxzZSkge1xuICAgICAgICBtZWRpYS5wYXVzZSgpO1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoXCJ0aS1wbGF5ZXItcGF1c2VcIiwgXCJ0aS1wbGF5ZXItcGxheVwiKTtcbiAgICAgICAgaWYgKHBsYXllci5jbGFzc0xpc3QuY29udGFpbnMoXCJtcFZpZGVvXCIpICYmIHBsYXllci5jbGFzc0xpc3QuY29udGFpbnMoXCJzdHlsZU92ZXJsYXlcIikpIHtcbiAgICAgICAgICAgIHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wRGFzaGJvYXJkXCIpLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjsgLy8gUmVzZXQgZGFzaGJvYXJkIG9wYWNpdHlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKiBMb29wICovXG5cbmZ1bmN0aW9uIG1wVG9nZ2xlTG9vcChwbGF5ZXIpIHtcbiAgICBjb25zdCBtZWRpYSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiYXVkaW8sIHZpZGVvXCIpO1xuICAgIGNvbnN0IGJ1dHRvbiA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wTG9vcFwiKTtcbiAgICBpZiAobWVkaWEubG9vcCA9PT0gZmFsc2UpIHtcbiAgICAgICAgbWVkaWEubG9vcCA9IHRydWU7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVwbGFjZShcInRpLXJlcGVhdFwiLCBcInRpLXJlcGVhdC1vZmZcIik7XG4gICAgfSBlbHNlIGlmIChtZWRpYS5sb29wID09PSB0cnVlKSB7XG4gICAgICAgIG1lZGlhLmxvb3AgPSBmYWxzZTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZXBsYWNlKFwidGktcmVwZWF0LW9mZlwiLCBcInRpLXJlcGVhdFwiKTtcbiAgICB9XG59XG5cbi8qIFNvdW5kICovXG5cbmZ1bmN0aW9uIG1wVG9nZ2xlU291bmQocGxheWVyKSB7XG4gICAgY29uc3QgbWVkaWEgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcImF1ZGlvLCB2aWRlb1wiKTtcbiAgICBjb25zdCBidXR0b24gPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFNvdW5kXCIpO1xuICAgIGlmIChtZWRpYS5tdXRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgbWVkaWEubXV0ZWQgPSB0cnVlO1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoXCJ0aS12b2x1bWVcIiwgXCJ0aS12b2x1bWUtb2ZmXCIpO1xuICAgIH0gZWxzZSBpZiAobWVkaWEubXV0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgbWVkaWEubXV0ZWQgPSBmYWxzZTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZXBsYWNlKFwidGktdm9sdW1lLW9mZlwiLCBcInRpLXZvbHVtZVwiKTtcbiAgICB9XG59XG5cbi8qIENsb3NlIEF1ZGlvcGxheWVyICovXG5cbmZ1bmN0aW9uIG1wQ2xvc2UocGxheWVyKSB7XG4gICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJhdWRpbywgdmlkZW9cIikucGF1c2UoKTtcbiAgICBwbGF5ZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xufVxuXG4vKiBGdWxsc2NyZWVuICovXG5cbmZ1bmN0aW9uIG1wVG9nZ2xlRnVsbHNjcmVlbihwbGF5ZXIpIHtcbiAgICBjb25zdCBtZWRpYSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIik7XG4gICAgaWYgKG1lZGlhLnNyYyA9PT0gXCJcIikgcmV0dXJuIDA7IC8vIGRvbid0IHRvZ2dsZSBmdWxsc2NyZWVuIGlmIG5vIG1lZGlhIGlzIGFzc2lnbmVkXG4gICAgaWYgKG1lZGlhLnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIG1lZGlhLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgfSBlbHNlIGlmIChtZWRpYS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBtZWRpYS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS5cIik7XG4gICAgfVxufVxuXG4vKiBQaWN0dXJlIGluIHBpY3R1cmUgKi9cblxuZnVuY3Rpb24gbXBUb2dnbGVQaXAocGxheWVyKSB7XG4gICAgY29uc3QgbWVkaWEgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpO1xuICAgIGlmIChtZWRpYS5zcmMgPT09IFwiXCIpIHJldHVybiAwOyAvLyBkb24ndCB0b2dnbGUgZnVsbHNjcmVlbiBpZiBubyBtZWRpYSBpcyBhc3NpZ25lZFxuICAgIGlmIChtZWRpYSAhPT0gZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVsZW1lbnQpIHtcbiAgICAgICAgbWVkaWEucmVxdWVzdFBpY3R1cmVJblBpY3R1cmUoKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmV4aXRQaWN0dXJlSW5QaWN0dXJlKSB7XG4gICAgICAgIGRvY3VtZW50LmV4aXRQaWN0dXJlSW5QaWN0dXJlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgcGljdHVyZSBpbiBwaWN0dXJlIG1vZGUuXCIpO1xuICAgIH1cbn1cbiJdLCJtYXBwaW5ncyI6ImFBRUEsUUFBUyxDQUFBQSxRQUFRQSxDQUFDQyxDQUFJLENBQUUsQ0FjcEIsR0FBSSxTQUFBQSxDQUFJLENBQUNDLE1BQW9CLENBRXpCLE1BREEsQ0FBQUMsT0FBTyxDQUFDQyxLQUFLLENBQUMsbUNBQW1DLENBQUMsSUFHdEQsS0FBTSxDQUFBRixDQUFNLENBQUdHLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDTCxDQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUNsRCxHQUFlLElBQUksR0FBZkEsQ0FBZSxDQUVmLE1BREEsQ0FBQUMsT0FBTyxDQUFDQyxLQUFLLENBQUUsZUFBY0gsQ0FBSSxDQUFDQyxNQUFPLHVDQUFzQyxDQUFDLElBZ0JwRixHQVhBQSxDQUFNLENBQUNLLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLENBQUNDLE9BQU8sQ0FBRUMsQ0FBUSxFQUFLLENBQ2hFQSxDQUFRLENBQUNDLE1BQU0sQ0FBQyxDQUNwQixDQUFDLENBQUMsQ0FDRVIsQ0FBTSxDQUFDUyxTQUFTLENBQUNDLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBSVYsQ0FBTSxDQUFDUyxTQUFTLENBQUNDLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FDakZWLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDTyxLQUFLLENBQUNDLE9BQU8sQ0FBRyxHQUFH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