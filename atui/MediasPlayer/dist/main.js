"use strict";function mpAssign(a){if(void 0===a.player)return console.error("The player attribute is required."),!1;const b=document.querySelector(a.player);if(null===b)return console.error(`The player "${a.player}" has not been found in this webpage.`),!1;if(b.querySelectorAll(".vkBox.styleDanger").forEach(a=>{a.remove()}),b.classList.contains("mpVideo")&&b.classList.contains("styleOverlay")&&(b.querySelector(".mpDashboard").style.opacity="1"),b.querySelector(".mpRun").classList.replace("ti-player-pause","ti-player-play"),b.querySelector(".mpTimer").innerText="00:00 - 00:00",b.querySelector(".mpProgressInside").style.width="0%",void 0===a.media)return console.error("The media attribute is required."),!1;const c=b.querySelector("audio, video");if(null===c)return console.error(`The player ${a.player} does not have any audio or video tag.`),!1;if(c.setAttribute("src",a.media),"AUDIO"===c.tagName){const c=b.querySelector(".mpMediaPicture img, .mpMediaPicture i");if(null===c&&void 0!==a.picture)return console.error(`The player ${a.player} does not have any album cover element.`),!1;c.setAttribute("src",void 0===a.picture?"https://unpkg.com/@tabler/icons/icons/disc.svg":a.picture)}else"VIDEO"===c.tagName&&c.setAttribute("poster",void 0===a.picture?"":a.picture);const d=b.querySelector(".mpMediaTitle");if(null===d&&void 0!==a.title)return console.error(`The player ${a.player} does not have any title element.`),!1;null!==d&&(d.innerHTML=void 0===a.title?"":a.title);const e=b.querySelector(".mpMediaDescription");if(null===e&&void 0!==a.description)return console.error(`The player ${a.player} does not have any description element.`),!1;null!==e&&(e.innerHTML=void 0===a.description?"":a.description);const f=b.querySelector(".mpMediaSource");if(null===f&&void 0!==a.source)return console.error(`The player ${a.player} does not have any source element.`),!1;null!==f&&(void 0===a.source?f.style.display="none":(f.setAttribute("href",a.source),f.style.display="inherit"));const g=b.querySelector(".mpMediaDate");if(null===g&&void 0!==a.date)return console.error(`The player ${a.player} does not have any date element.`),!1;null!==g&&(void 0===a.date?g.style.display="none":(g.innerHTML=a.date,g.style.display="inherit"));const h=b.querySelector(".mpMediaPlaylist");if(null===h&&void 0!==a.playlist)return console.error(`The player ${a.player} does not have any playlist element.`),!1;null!==h&&(void 0===a.playlist?h.style.display="none":(h.setAttribute("href",a.playlist),h.style.display="inherit"));const i=b.querySelector(".mpMediaAuthor");return null===i&&void 0!==a.author?(console.error(`The player ${a.player} does not have any author element.`),!1):(null!==i&&(void 0===a.author?i.style.display="none":(i.innerHTML=a.author,i.style.display="inherit")),!0)}function mpRaiseError(a,b){a.querySelectorAll(".vkBox.styleDanger").forEach(a=>{a.remove()});const c=document.createElement("div");c.classList.add("vkBox","styleDanger");const d=document.createElement("i");d.classList.add("ti","ti-circle-x"),c.appendChild(d);const e=document.createElement("p");e.innerHTML=b,c.appendChild(e),a.classList.contains("mpVideo")?(a.querySelector("article").prepend(c),a.querySelector("video").setAttribute("poster","")):a.prepend(c),"none"===window.getComputedStyle(a).display&&(a.style.display="block")}function mpStop(){const a=document.querySelectorAll("audio, video");a.forEach(a=>{a.pause()}),document.querySelectorAll(".mpRun").forEach(a=>{a.classList.replace("ti-player-pause","ti-player-play")})}function toggleDashboardOpacity(a){const b=a.querySelector("video"),c=a.querySelector(".mpDashboard");c.style.opacity="1",!1===b.paused&&(clearTimeout(b.period),b.addEventListener("mouseleave",()=>{b.period=setTimeout(()=>{c.style.opacity="0.2"},2e3)}))}document.querySelectorAll(".mpVideo.styleOverlay").forEach(a=>{const b=a.querySelector("video"),c=a.querySelector(".mpDashboard");c.addEventListener("mouseover",()=>{toggleDashboardOpacity(a)});const d=0<navigator.maxTouchPoints;d?b.addEventListener("dblclick",()=>{mpRun(`#${a.getAttribute("id")}`)}):(b.addEventListener("click",()=>{mpRun(`#${a.getAttribute("id")}`)}),b.addEventListener("dblclick",()=>{mpToggleFullscreen(a)}))}),document.querySelectorAll(".mpAudio, .mpVideo").forEach(a=>{const b=a.querySelector("audio, video");b.addEventListener("timeupdate",()=>{mpUpdateTimer(a)}),b.addEventListener("ended",()=>{mpMediaEnded(a)}),b.addEventListener("error",b=>{mpLoadingError(a,b)}),mpChangePlaybackByButtons(a),mpChangePlaybackByProgressBar(a),a.querySelector(".mpRun").addEventListener("click",()=>{mpRun(`#${a.getAttribute("id")}`)}),a.querySelector(".mpLoop")?.addEventListener("click",()=>{mpToggleLoop(a)}),a.querySelector(".mpSound")?.addEventListener("click",()=>{mpToggleSound(a)}),a.querySelector(".mpClose")?.addEventListener("click",()=>{mpClose(a)}),a.querySelector(".mpFullscreen")?.addEventListener("click",()=>{mpToggleFullscreen(a)}),a.querySelector(".mpPip")?.addEventListener("click",()=>{mpTogglePip(a)})});function mpUpdateTimer(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpTimer"),d=a.querySelector(".mpProgressInside");b.addEventListener("timeupdate",()=>{let a=b.currentTime,e=b.duration;isNaN(e)&&(a=e=0);const f=Math.round(100*(a/e));c.innerText=`${convertTime(a)} - ${convertTime(e)}`,d.style.width=`${f}%`})}function mpMediaEnded(a){a.querySelector(".mpRun").classList.replace("ti-player-pause","ti-player-play"),a.classList.contains("styleFloating")&&(a.style.display="none")}function mpLoadingError(a,b){let c=`ERROR : `;c+=`The media cannot be loaded. `;const d=a.querySelector("audio, video").getAttribute("src");c+=`<hr /><small>Media link : <code>${d}</code></small>`,c+=`<br /><small>Technical error: <code>${b.code} - ${b.message}</code></small>`,console.error(c),mpRaiseError(a,c)}function mpChangePlaybackByButtons(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpBackward"),d=a.querySelector(".mpForward");c.addEventListener("click",()=>{b.currentTime-=10}),d.addEventListener("click",()=>{b.currentTime+=10})}function mpChangePlaybackByProgressBar(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpProgress");c.addEventListener("click",a=>{if(isNaN(b.duration))return!1;const d=100*(a.offsetX/c.offsetWidth);return b.currentTime=b.duration*d/100,c.querySelector(".mpProgressInside").style.width=`${d}%`,!0})}function mpRun(a){const b=document.querySelector(a),c=b.querySelector("audio, video"),d=b.querySelector(".mpRun");return!0===c.paused?(mpStop(),"none"===window.getComputedStyle(b).display&&(b.style.display="block"),c.play(),d.classList.replace("ti-player-play","ti-player-pause")):!1===c.paused&&(c.pause(),d.classList.replace("ti-player-pause","ti-player-play"),b.classList.contains("mpVideo")&&b.classList.contains("styleOverlay")&&(b.querySelector(".mpDashboard").style.opacity="1")),!0}function mpToggleLoop(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpLoop");!1===b.loop?(b.loop=!0,c.classList.replace("ti-repeat","ti-repeat-off")):!0===b.loop&&(b.loop=!1,c.classList.replace("ti-repeat-off","ti-repeat"))}function mpToggleSound(a){const b=a.querySelector("audio, video"),c=a.querySelector(".mpSound");!1===b.muted?(b.muted=!0,c.classList.replace("ti-volume","ti-volume-off")):!0===b.muted&&(b.muted=!1,c.classList.replace("ti-volume-off","ti-volume"))}function mpClose(a){a.querySelector("audio, video").pause(),a.style.display="none"}function mpToggleFullscreen(a){const b=a.querySelector("video");return""===b.src?0:void(b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():console.error("The browser does not support fullscreen mode."))}function mpTogglePip(a){const b=a.querySelector("video");return""===b.src?0:void(b===document.pictureInPictureElement?document.exitPictureInPicture?document.exitPictureInPicture():console.error("The browser does not support picture in picture mode."):b.requestPictureInPicture())}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtcEFzc2lnbiIsImRhdGEiLCJwbGF5ZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFsZXJ0Qm94IiwicmVtb3ZlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJzdHlsZSIsIm9wYWNpdHkiLCJyZXBsYWNlIiwiaW5uZXJUZXh0Iiwid2lkdGgiLCJtZWRpYSIsInNldEF0dHJpYnV0ZSIsInRhZ05hbWUiLCJwaWN0dXJlIiwidGl0bGUiLCJpbm5lckhUTUwiLCJkZXNjcmlwdGlvbiIsInNvdXJjZSIsImRpc3BsYXkiLCJkYXRlIiwicGxheWxpc3QiLCJhdXRob3IiLCJtcFJhaXNlRXJyb3IiLCJ0ZXh0IiwiY3JlYXRlRWxlbWVudCIsImFkZCIsImFsZXJ0SWNvbiIsImFwcGVuZENoaWxkIiwiYWxlcnRUZXh0IiwicHJlcGVuZCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJtcFN0b3AiLCJtZWRpYXMiLCJwYXVzZSIsImJ1dHRvbiIsInRvZ2dsZURhc2hib2FyZE9wYWNpdHkiLCJkYXNoYm9hcmQiLCJwYXVzZWQiLCJjbGVhclRpbWVvdXQiLCJwZXJpb2QiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0VGltZW91dCIsImlzVG91Y2hzY3JlZW4iLCJuYXZpZ2F0b3IiLCJtYXhUb3VjaFBvaW50cyIsIm1wUnVuIiwiZ2V0QXR0cmlidXRlIiwibXBUb2dnbGVGdWxsc2NyZWVuIiwibXBVcGRhdGVUaW1lciIsIm1wTWVkaWFFbmRlZCIsIm1wTG9hZGluZ0Vycm9yIiwibXBDaGFuZ2VQbGF5YmFja0J5QnV0dG9ucyIsIm1wQ2hhbmdlUGxheWJhY2tCeVByb2dyZXNzQmFyIiwibXBUb2dnbGVMb29wIiwibXBUb2dnbGVTb3VuZCIsIm1wQ2xvc2UiLCJtcFRvZ2dsZVBpcCIsInRpbWVyIiwicHJvZ3Jlc3NCYXIiLCJsaXN0ZW5lZCIsImN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJpc05hTiIsInBlcmNlbnQiLCJNYXRoIiwicm91bmQiLCJjb252ZXJ0VGltZSIsIm1lZGlhTGluayIsImNvZGUiLCJtZXNzYWdlIiwiYmFja3dhcmQiLCJmb3J3YXJkIiwiZXZlbnQiLCJvZmZzZXRYIiwib2Zmc2V0V2lkdGgiLCJwbGF5ZXJTZWxlY3RvciIsInBsYXkiLCJsb29wIiwibXV0ZWQiLCJzcmMiLCJyZXF1ZXN0RnVsbHNjcmVlbiIsIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwicGljdHVyZUluUGljdHVyZUVsZW1lbnQiLCJleGl0UGljdHVyZUluUGljdHVyZSIsInJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlIl0sInNvdXJjZXMiOlsiLi4vc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQXNzaWduIGFuIGF1ZGlvIHRvIGFuIGF1ZGlvcGxheWVyICovXG5cbmZ1bmN0aW9uIG1wQXNzaWduKGRhdGEpIHtcbiAgICAvKiogcG9zc2libGUgYXR0cmlidXRlcyBvZiBkYXRhIDpcbiAgICAgLSBwbGF5ZXIgKHJlcXVpcmVkKVxuICAgICAtIG1lZGlhIChyZXF1aXJlZClcbiAgICAgLSBwaWN0dXJlXG4gICAgIC0gdGl0bGVcbiAgICAgLSBkZXNjcmlwdGlvblxuICAgICAtIHNvdXJjZVxuICAgICAtIGRhdGVcbiAgICAgLSBwbGF5bGlzdFxuICAgICAtIGF1dGhvclxuICAgICAqL1xuXG4gICAgLy8gUGxheWVyXG4gICAgaWYgKGRhdGEucGxheWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZSBwbGF5ZXIgYXR0cmlidXRlIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEucGxheWVyKTtcbiAgICBpZiAocGxheWVyID09PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBwbGF5ZXIgXCIke2RhdGEucGxheWVyfVwiIGhhcyBub3QgYmVlbiBmb3VuZCBpbiB0aGlzIHdlYnBhZ2UuYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBtZWRpYSBwbGF5ZXJcbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvckFsbChcIi52a0JveC5zdHlsZURhbmdlclwiKS5mb3JFYWNoKChhbGVydEJveCkgPT4ge1xuICAgICAgICBhbGVydEJveC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICBpZiAocGxheWVyLmNsYXNzTGlzdC5jb250YWlucyhcIm1wVmlkZW9cIikgJiYgcGxheWVyLmNsYXNzTGlzdC5jb250YWlucyhcInN0eWxlT3ZlcmxheVwiKSkge1xuICAgICAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcERhc2hib2FyZFwiKS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG4gICAgfVxuICAgIHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wUnVuXCIpLmNsYXNzTGlzdC5yZXBsYWNlKFwidGktcGxheWVyLXBhdXNlXCIsIFwidGktcGxheWVyLXBsYXlcIik7XG4gICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBUaW1lclwiKS5pbm5lclRleHQgPSBcIjAwOjAwIC0gMDA6MDBcIjtcbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFByb2dyZXNzSW5zaWRlXCIpLnN0eWxlLndpZHRoID0gXCIwJVwiO1xuXG4gICAgLy8gTWVkaWFcbiAgICBpZiAoZGF0YS5tZWRpYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUaGUgbWVkaWEgYXR0cmlidXRlIGlzIHJlcXVpcmVkLlwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBtZWRpYSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiYXVkaW8sIHZpZGVvXCIpO1xuICAgIGlmIChtZWRpYSA9PT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiB3ZSBjb3VsZCBjYWxsIG1wUmFpc2VFcnJvcigpIGhlcmUgd2l0aCBhbiB1bmRlcnN0YW5kYWJsZSBtZXNzYWdlIGZvciB0aGUgdXNlciAod2hvIGlzIG5vdCBkZXZlbG9wZXIgISlcbiAgICAgICAgY29uc29sZS5lcnJvcihgVGhlIHBsYXllciAke2RhdGEucGxheWVyfSBkb2VzIG5vdCBoYXZlIGFueSBhdWRpbyBvciB2aWRlbyB0YWcuYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBtZWRpYS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgZGF0YS5tZWRpYSk7XG4gICAgfVxuXG4gICAgLy8gUGljdHVyZVxuICAgIGlmIChtZWRpYS50YWdOYW1lID09PSBcIkFVRElPXCIpIHtcbiAgICAgICAgY29uc3QgcGljdHVyZSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wTWVkaWFQaWN0dXJlIGltZywgLm1wTWVkaWFQaWN0dXJlIGlcIik7XG4gICAgICAgIGlmIChwaWN0dXJlID09PSBudWxsICYmIGRhdGEucGljdHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBUaGUgcGxheWVyICR7ZGF0YS5wbGF5ZXJ9IGRvZXMgbm90IGhhdmUgYW55IGFsYnVtIGNvdmVyIGVsZW1lbnQuYCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcGljdHVyZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBcInNyY1wiLFxuICAgICAgICAgICAgZGF0YS5waWN0dXJlICE9PSB1bmRlZmluZWQgPyBkYXRhLnBpY3R1cmUgOiBcImh0dHBzOi8vdW5wa2cuY29tL0B0YWJsZXIvaWNvbnMvaWNvbnMvZGlzYy5zdmdcIixcbiAgICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKG1lZGlhLnRhZ05hbWUgPT09IFwiVklERU9cIikge1xuICAgICAgICBtZWRpYS5zZXRBdHRyaWJ1dGUoXCJwb3N0ZXJcIiwgZGF0YS5waWN0dXJlICE9PSB1bmRlZmluZWQgPyBkYXRhLnBpY3R1cmUgOiBcIlwiKTtcbiAgICAgICAgLy8gVE9ETzogdGhlcmUgaXMgbm8gZGVmYXVsdCBwb3N0ZXIgZm9yIHZpZGVvXG4gICAgfVxuXG4gICAgLy8gVGl0bGVcbiAgICBjb25zdCB0aXRsZSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wTWVkaWFUaXRsZVwiKTtcbiAgICBpZiAodGl0bGUgPT09IG51bGwgJiYgZGF0YS50aXRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBwbGF5ZXIgJHtkYXRhLnBsYXllcn0gZG9lcyBub3QgaGF2ZSBhbnkgdGl0bGUgZWxlbWVudC5gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGl0bGUgIT09IG51bGwpIHRpdGxlLmlubmVySFRNTCA9IGRhdGEudGl0bGUgIT09IHVuZGVmaW5lZCA/IGRhdGEudGl0bGUgOiBcIlwiO1xuXG4gICAgLy8gRGVzY3JpcHRpb25cbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wTWVkaWFEZXNjcmlwdGlvblwiKTtcbiAgICBpZiAoZGVzY3JpcHRpb24gPT09IG51bGwgJiYgZGF0YS5kZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBwbGF5ZXIgJHtkYXRhLnBsYXllcn0gZG9lcyBub3QgaGF2ZSBhbnkgZGVzY3JpcHRpb24gZWxlbWVudC5gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZGVzY3JpcHRpb24gIT09IG51bGwpIGRlc2NyaXB0aW9uLmlubmVySFRNTCA9IGRhdGEuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCA/IGRhdGEuZGVzY3JpcHRpb24gOiBcIlwiO1xuXG4gICAgLy8gU291cmNlXG4gICAgY29uc3Qgc291cmNlID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBNZWRpYVNvdXJjZVwiKTtcbiAgICBpZiAoc291cmNlID09PSBudWxsICYmIGRhdGEuc291cmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVGhlIHBsYXllciAke2RhdGEucGxheWVyfSBkb2VzIG5vdCBoYXZlIGFueSBzb3VyY2UgZWxlbWVudC5gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChkYXRhLnNvdXJjZSA9PT0gdW5kZWZpbmVkKSBzb3VyY2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGRhdGEuc291cmNlKTtcbiAgICAgICAgICAgIHNvdXJjZS5zdHlsZS5kaXNwbGF5ID0gXCJpbmhlcml0XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEYXRlXG4gICAgY29uc3QgZGF0ZSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wTWVkaWFEYXRlXCIpO1xuICAgIGlmIChkYXRlID09PSBudWxsICYmIGRhdGEuZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBwbGF5ZXIgJHtkYXRhLnBsYXllcn0gZG9lcyBub3QgaGF2ZSBhbnkgZGF0ZSBlbGVtZW50LmApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkYXRlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChkYXRhLmRhdGUgPT09IHVuZGVmaW5lZCkgZGF0ZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGF0ZS5pbm5lckhUTUwgPSBkYXRhLmRhdGU7XG4gICAgICAgICAgICBkYXRlLnN0eWxlLmRpc3BsYXkgPSBcImluaGVyaXRcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBsYXlsaXN0XG4gICAgY29uc3QgcGxheWxpc3QgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcE1lZGlhUGxheWxpc3RcIik7XG4gICAgaWYgKHBsYXlsaXN0ID09PSBudWxsICYmIGRhdGEucGxheWxpc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBUaGUgcGxheWVyICR7ZGF0YS5wbGF5ZXJ9IGRvZXMgbm90IGhhdmUgYW55IHBsYXlsaXN0IGVsZW1lbnQuYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHBsYXlsaXN0ICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChkYXRhLnBsYXlsaXN0ID09PSB1bmRlZmluZWQpIHBsYXlsaXN0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwbGF5bGlzdC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGRhdGEucGxheWxpc3QpO1xuICAgICAgICAgICAgcGxheWxpc3Quc3R5bGUuZGlzcGxheSA9IFwiaW5oZXJpdFwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQXV0aG9yXG4gICAgY29uc3QgYXV0aG9yID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBNZWRpYUF1dGhvclwiKTtcbiAgICBpZiAoYXV0aG9yID09PSBudWxsICYmIGRhdGEuYXV0aG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVGhlIHBsYXllciAke2RhdGEucGxheWVyfSBkb2VzIG5vdCBoYXZlIGFueSBhdXRob3IgZWxlbWVudC5gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXV0aG9yICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChkYXRhLmF1dGhvciA9PT0gdW5kZWZpbmVkKSBhdXRob3Iuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF1dGhvci5pbm5lckhUTUwgPSBkYXRhLmF1dGhvcjtcbiAgICAgICAgICAgIGF1dGhvci5zdHlsZS5kaXNwbGF5ID0gXCJpbmhlcml0XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyogUmFpc2UgZXJyb3IgYm94ZXMgaW5zaWRlIHRoZSBwbGF5ZXIgKi9cblxuZnVuY3Rpb24gbXBSYWlzZUVycm9yKHBsYXllciwgdGV4dCkge1xuICAgIHBsYXllci5xdWVyeVNlbGVjdG9yQWxsKFwiLnZrQm94LnN0eWxlRGFuZ2VyXCIpLmZvckVhY2goKGFsZXJ0Qm94KSA9PiB7XG4gICAgICAgIGFsZXJ0Qm94LnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgYWxlcnRCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFsZXJ0Qm94LmNsYXNzTGlzdC5hZGQoXCJ2a0JveFwiLCBcInN0eWxlRGFuZ2VyXCIpO1xuXG4gICAgY29uc3QgYWxlcnRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgYWxlcnRJY29uLmNsYXNzTGlzdC5hZGQoXCJ0aVwiLCBcInRpLWNpcmNsZS14XCIpO1xuICAgIGFsZXJ0Qm94LmFwcGVuZENoaWxkKGFsZXJ0SWNvbik7XG5cbiAgICBjb25zdCBhbGVydFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBhbGVydFRleHQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICBhbGVydEJveC5hcHBlbmRDaGlsZChhbGVydFRleHQpO1xuXG4gICAgaWYgKHBsYXllci5jbGFzc0xpc3QuY29udGFpbnMoXCJtcFZpZGVvXCIpKSB7XG4gICAgICAgIHBsYXllci5xdWVyeVNlbGVjdG9yKFwiYXJ0aWNsZVwiKS5wcmVwZW5kKGFsZXJ0Qm94KTtcbiAgICAgICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJ2aWRlb1wiKS5zZXRBdHRyaWJ1dGUoXCJwb3N0ZXJcIiwgXCJcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcGxheWVyLnByZXBlbmQoYWxlcnRCb3gpO1xuICAgIH1cbiAgICBpZiAod2luZG93LmdldENvbXB1dGVkU3R5bGUocGxheWVyKS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICBwbGF5ZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG59XG5cbi8qIFN0b3AgYWxsIG90aGVycyBtZWRpYXMgd2hlbiBwbGF5aW5nIGEgbmV3IG9uZSAqL1xuXG5mdW5jdGlvbiBtcFN0b3AoKSB7XG4gICAgY29uc3QgbWVkaWFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImF1ZGlvLCB2aWRlb1wiKTtcbiAgICBtZWRpYXMuZm9yRWFjaCgobWVkaWEpID0+IHtcbiAgICAgICAgbWVkaWEucGF1c2UoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1wUnVuXCIpLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoXCJ0aS1wbGF5ZXItcGF1c2VcIiwgXCJ0aS1wbGF5ZXItcGxheVwiKTtcbiAgICB9KTtcbn1cblxuLyogVG91Y2ggYW5kIGNsaWNrIGludGVyYWN0aW9ucyBmb3IgdmlkZW8gcGxheWVyICovXG5cbmZ1bmN0aW9uIHRvZ2dsZURhc2hib2FyZE9wYWNpdHkocGxheWVyKSB7XG4gICAgY29uc3QgbWVkaWEgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpO1xuICAgIGNvbnN0IGRhc2hib2FyZCA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wRGFzaGJvYXJkXCIpO1xuXG4gICAgZGFzaGJvYXJkLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICBpZiAobWVkaWEucGF1c2VkID09PSBmYWxzZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQobWVkaWEucGVyaW9kKTtcbiAgICAgICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbWVkaWEucGVyaW9kID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGFzaGJvYXJkLnN0eWxlLm9wYWNpdHkgPSBcIjAuMlwiO1xuICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tcFZpZGVvLnN0eWxlT3ZlcmxheVwiKS5mb3JFYWNoKChwbGF5ZXIpID0+IHtcbiAgICBjb25zdCBtZWRpYSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIik7XG4gICAgY29uc3QgZGFzaGJvYXJkID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBEYXNoYm9hcmRcIik7XG5cbiAgICBkYXNoYm9hcmQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgIHRvZ2dsZURhc2hib2FyZE9wYWNpdHkocGxheWVyKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGlzVG91Y2hzY3JlZW4gPSBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwO1xuICAgIGlmIChpc1RvdWNoc2NyZWVuKSB7XG4gICAgICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBtcFJ1bihgIyR7cGxheWVyLmdldEF0dHJpYnV0ZShcImlkXCIpfWApO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbXBSdW4oYCMke3BsYXllci5nZXRBdHRyaWJ1dGUoXCJpZFwiKX1gKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBtcFRvZ2dsZUZ1bGxzY3JlZW4ocGxheWVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qIEluaXRpYWxpemUgbWVkaWEgcGxheWVyIGZlYXR1cmVzICovXG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubXBBdWRpbywgLm1wVmlkZW9cIikuZm9yRWFjaCgocGxheWVyKSA9PiB7XG4gICAgY29uc3QgbWVkaWEgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcImF1ZGlvLCB2aWRlb1wiKTtcblxuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aW1ldXBkYXRlXCIsICgpID0+IHtcbiAgICAgICAgbXBVcGRhdGVUaW1lcihwbGF5ZXIpO1xuICAgIH0pO1xuXG4gICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsICgpID0+IHtcbiAgICAgICAgbXBNZWRpYUVuZGVkKHBsYXllcik7XG4gICAgfSk7XG5cbiAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGVycm9yKSA9PiB7XG4gICAgICAgIG1wTG9hZGluZ0Vycm9yKHBsYXllciwgZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgbXBDaGFuZ2VQbGF5YmFja0J5QnV0dG9ucyhwbGF5ZXIpO1xuXG4gICAgbXBDaGFuZ2VQbGF5YmFja0J5UHJvZ3Jlc3NCYXIocGxheWVyKTtcblxuICAgIHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wUnVuXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG1wUnVuKGAjJHtwbGF5ZXIuZ2V0QXR0cmlidXRlKFwiaWRcIil9YCk7XG4gICAgICAgIC8vKiBUaGlzIGNvbXBsZXggcHJldmlvdXMgbGluZSBzaG91bGQgYmUga2VwdCBiZWNhdXNlIG1wUnVuIG5lZWRzIHBsYXllcidzIHNlbGVjdG9yIGlkICFcbiAgICB9KTtcblxuICAgIHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wTG9vcFwiKT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgbXBUb2dnbGVMb29wKHBsYXllcik7XG4gICAgfSk7XG5cbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFNvdW5kXCIpPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBtcFRvZ2dsZVNvdW5kKHBsYXllcik7XG4gICAgfSk7XG5cbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcENsb3NlXCIpPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBtcENsb3NlKHBsYXllcik7XG4gICAgfSk7XG5cbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcEZ1bGxzY3JlZW5cIik/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG1wVG9nZ2xlRnVsbHNjcmVlbihwbGF5ZXIpO1xuICAgIH0pO1xuXG4gICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBQaXBcIik/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG1wVG9nZ2xlUGlwKHBsYXllcik7XG4gICAgfSk7XG59KTtcblxuLyogVXBkYXRlIHRpbWVyICovXG5cbmZ1bmN0aW9uIG1wVXBkYXRlVGltZXIocGxheWVyKSB7XG4gICAgY29uc3QgbWVkaWEgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcImF1ZGlvLCB2aWRlb1wiKTtcbiAgICBjb25zdCB0aW1lciA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wVGltZXJcIik7XG4gICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFByb2dyZXNzSW5zaWRlXCIpO1xuICAgIG1lZGlhLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aW1ldXBkYXRlXCIsICgpID0+IHtcbiAgICAgICAgbGV0IGxpc3RlbmVkID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgIGxldCBkdXJhdGlvbiA9IG1lZGlhLmR1cmF0aW9uO1xuICAgICAgICBpZiAoaXNOYU4oZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBsaXN0ZW5lZCA9IGR1cmF0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5yb3VuZCgobGlzdGVuZWQgLyBkdXJhdGlvbikgKiAxMDApO1xuICAgICAgICB0aW1lci5pbm5lclRleHQgPSBgJHtjb252ZXJ0VGltZShsaXN0ZW5lZCl9IC0gJHtjb252ZXJ0VGltZShkdXJhdGlvbil9YDtcbiAgICAgICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBgJHtwZXJjZW50fSVgO1xuICAgIH0pO1xufVxuXG4vKiBNYW5hZ2Ugd2hlbiBhdWRpbyBlbmRzICovXG5cbmZ1bmN0aW9uIG1wTWVkaWFFbmRlZChwbGF5ZXIpIHtcbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFJ1blwiKS5jbGFzc0xpc3QucmVwbGFjZShcInRpLXBsYXllci1wYXVzZVwiLCBcInRpLXBsYXllci1wbGF5XCIpO1xuICAgIGlmIChwbGF5ZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwic3R5bGVGbG9hdGluZ1wiKSkge1xuICAgICAgICBwbGF5ZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbn1cblxuLyogTWFuYWdlIG1lZGlhIGxvYWRpbmcgZXJyb3JzICovXG5cbi8vKiBUaGlzIGZ1bmN0aW9uIGlzIGFsbW9zdCB1c2VsZXNzIGFuZCBjb3VsZCBiZSByZW1vdmVkIHNvb25cbmZ1bmN0aW9uIG1wTG9hZGluZ0Vycm9yKHBsYXllciwgZXJyb3IpIHtcbiAgICBsZXQgdGV4dCA9IGBFUlJPUiA6IGA7XG4gICAgdGV4dCArPSBgVGhlIG1lZGlhIGNhbm5vdCBiZSBsb2FkZWQuIGA7XG4gICAgLyogc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRleHQgKz0gYE1lZGlhIGxvYWRpbmcgaGFzIGJlZW4gaW50ZXJydXB0ZWQgYnkgdGhlIHVzZXIuIGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgdGV4dCArPSBgTWVkaWEgbG9hZGluZyB3YXMgaW50ZXJydXB0ZWQgZHVlIHRvIGEgbmV0d29yayBwcm9ibGVtLiBgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHRleHQgKz0gYE1lZGlhIGNhbm5vdCBiZSByZWFkIGR1ZSB0byBhIGZpbGUgZGVjb2RpbmcgZXJyb3IuIGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgdGV4dCArPSBgTWVkaWEgaGFzIG5vdCBiZWVuIGZvdW5kLiBgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHRleHQgKz0gYE1lZGlhIGNhbm5vdCBiZSBwbGF5ZWQgZHVlIHRvIGEgbmV0d29yayBlcnJvci4gYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGV4dCArPSBgQW4gdW5leHBlY3RlZCBlcnJvciBoYXMgb2NjdXJyZWQuIGA7XG4gICAgfSAqL1xuICAgIGNvbnN0IG1lZGlhTGluayA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiYXVkaW8sIHZpZGVvXCIpLmdldEF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICB0ZXh0ICs9IGA8aHIgLz48c21hbGw+TWVkaWEgbGluayA6IDxjb2RlPiR7bWVkaWFMaW5rfTwvY29kZT48L3NtYWxsPmA7XG4gICAgdGV4dCArPSBgPGJyIC8+PHNtYWxsPlRlY2huaWNhbCBlcnJvcjogPGNvZGU+JHtlcnJvci5jb2RlfSAtICR7ZXJyb3IubWVzc2FnZX08L2NvZGU+PC9zbWFsbD5gO1xuICAgIGNvbnNvbGUuZXJyb3IodGV4dCk7XG4gICAgbXBSYWlzZUVycm9yKHBsYXllciwgdGV4dCk7XG59XG5cbi8qIENoYW5nZSBwbGF5YmFjayBieSBidXR0b25zICovXG5cbmZ1bmN0aW9uIG1wQ2hhbmdlUGxheWJhY2tCeUJ1dHRvbnMocGxheWVyKSB7XG4gICAgY29uc3QgbWVkaWEgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcImF1ZGlvLCB2aWRlb1wiKTtcbiAgICBjb25zdCBiYWNrd2FyZCA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wQmFja3dhcmRcIik7XG4gICAgY29uc3QgZm9yd2FyZCA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wRm9yd2FyZFwiKTtcbiAgICBiYWNrd2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBtZWRpYS5jdXJyZW50VGltZSAtPSAxMDtcbiAgICB9KTtcbiAgICBmb3J3YXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG1lZGlhLmN1cnJlbnRUaW1lICs9IDEwO1xuICAgIH0pO1xufVxuXG4vKiBDaGFuZ2UgcGxheWJhY2sgYnkgcHJvZ3Jlc3MgYmFyICovXG5cbmZ1bmN0aW9uIG1wQ2hhbmdlUGxheWJhY2tCeVByb2dyZXNzQmFyKHBsYXllcikge1xuICAgIGNvbnN0IG1lZGlhID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJhdWRpbywgdmlkZW9cIik7XG4gICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBwbGF5ZXIucXVlcnlTZWxlY3RvcihcIi5tcFByb2dyZXNzXCIpO1xuICAgIHByb2dyZXNzQmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGlzTmFOKG1lZGlhLmR1cmF0aW9uKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCBwZXJjZW50ID0gKGV2ZW50Lm9mZnNldFggLyBwcm9ncmVzc0Jhci5vZmZzZXRXaWR0aCkgKiAxMDA7XG4gICAgICAgIG1lZGlhLmN1cnJlbnRUaW1lID0gKG1lZGlhLmR1cmF0aW9uICogcGVyY2VudCkgLyAxMDA7XG4gICAgICAgIHByb2dyZXNzQmFyLnF1ZXJ5U2VsZWN0b3IoXCIubXBQcm9ncmVzc0luc2lkZVwiKS5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnR9JWA7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG59XG5cbi8qIFBsYXkgYW5kIHBhdXNlIGEgbWVkaWEgKi9cblxuZnVuY3Rpb24gbXBSdW4ocGxheWVyU2VsZWN0b3IpIHtcbiAgICBjb25zdCBwbGF5ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBsYXllclNlbGVjdG9yKTtcbiAgICBjb25zdCBtZWRpYSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiYXVkaW8sIHZpZGVvXCIpO1xuICAgIGNvbnN0IGJ1dHRvbiA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wUnVuXCIpO1xuXG4gICAgaWYgKG1lZGlhLnBhdXNlZCA9PT0gdHJ1ZSkge1xuICAgICAgICBtcFN0b3AoKTtcbiAgICAgICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBsYXllcikuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIHBsYXllci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB9XG4gICAgICAgIG1lZGlhLnBsYXkoKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZXBsYWNlKFwidGktcGxheWVyLXBsYXlcIiwgXCJ0aS1wbGF5ZXItcGF1c2VcIik7XG4gICAgfSBlbHNlIGlmIChtZWRpYS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgIG1lZGlhLnBhdXNlKCk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVwbGFjZShcInRpLXBsYXllci1wYXVzZVwiLCBcInRpLXBsYXllci1wbGF5XCIpO1xuICAgICAgICBpZiAocGxheWVyLmNsYXNzTGlzdC5jb250YWlucyhcIm1wVmlkZW9cIikgJiYgcGxheWVyLmNsYXNzTGlzdC5jb250YWlucyhcInN0eWxlT3ZlcmxheVwiKSkge1xuICAgICAgICAgICAgcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBEYXNoYm9hcmRcIikuc3R5bGUub3BhY2l0eSA9IFwiMVwiOyAvLyBSZXNldCBkYXNoYm9hcmQgb3BhY2l0eVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qIExvb3AgKi9cblxuZnVuY3Rpb24gbXBUb2dnbGVMb29wKHBsYXllcikge1xuICAgIGNvbnN0IG1lZGlhID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJhdWRpbywgdmlkZW9cIik7XG4gICAgY29uc3QgYnV0dG9uID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCIubXBMb29wXCIpO1xuICAgIGlmIChtZWRpYS5sb29wID09PSBmYWxzZSkge1xuICAgICAgICBtZWRpYS5sb29wID0gdHJ1ZTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZXBsYWNlKFwidGktcmVwZWF0XCIsIFwidGktcmVwZWF0LW9mZlwiKTtcbiAgICB9IGVsc2UgaWYgKG1lZGlhLmxvb3AgPT09IHRydWUpIHtcbiAgICAgICAgbWVkaWEubG9vcCA9IGZhbHNlO1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoXCJ0aS1yZXBlYXQtb2ZmXCIsIFwidGktcmVwZWF0XCIpO1xuICAgIH1cbn1cblxuLyogU291bmQgKi9cblxuZnVuY3Rpb24gbXBUb2dnbGVTb3VuZChwbGF5ZXIpIHtcbiAgICBjb25zdCBtZWRpYSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiYXVkaW8sIHZpZGVvXCIpO1xuICAgIGNvbnN0IGJ1dHRvbiA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwiLm1wU291bmRcIik7XG4gICAgaWYgKG1lZGlhLm11dGVkID09PSBmYWxzZSkge1xuICAgICAgICBtZWRpYS5tdXRlZCA9IHRydWU7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVwbGFjZShcInRpLXZvbHVtZVwiLCBcInRpLXZvbHVtZS1vZmZcIik7XG4gICAgfSBlbHNlIGlmIChtZWRpYS5tdXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICBtZWRpYS5tdXRlZCA9IGZhbHNlO1xuICAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlcGxhY2UoXCJ0aS12b2x1bWUtb2ZmXCIsIFwidGktdm9sdW1lXCIpO1xuICAgIH1cbn1cblxuLyogQ2xvc2UgQXVkaW9wbGF5ZXIgKi9cblxuZnVuY3Rpb24gbXBDbG9zZShwbGF5ZXIpIHtcbiAgICBwbGF5ZXIucXVlcnlTZWxlY3RvcihcImF1ZGlvLCB2aWRlb1wiKS5wYXVzZSgpO1xuICAgIHBsYXllci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG59XG5cbi8qIEZ1bGxzY3JlZW4gKi9cblxuZnVuY3Rpb24gbXBUb2dnbGVGdWxsc2NyZWVuKHBsYXllcikge1xuICAgIGNvbnN0IG1lZGlhID0gcGxheWVyLnF1ZXJ5U2VsZWN0b3IoXCJ2aWRlb1wiKTtcbiAgICBpZiAobWVkaWEuc3JjID09PSBcIlwiKSByZXR1cm4gMDsgLy8gZG9uJ3QgdG9nZ2xlIGZ1bGxzY3JlZW4gaWYgbm8gbWVkaWEgaXMgYXNzaWduZWRcbiAgICBpZiAobWVkaWEucmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgbWVkaWEucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKG1lZGlhLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIG1lZGlhLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgZnVsbHNjcmVlbiBtb2RlLlwiKTtcbiAgICB9XG59XG5cbi8qIFBpY3R1cmUgaW4gcGljdHVyZSAqL1xuXG5mdW5jdGlvbiBtcFRvZ2dsZVBpcChwbGF5ZXIpIHtcbiAgICBjb25zdCBtZWRpYSA9IHBsYXllci5xdWVyeVNlbGVjdG9yKFwidmlkZW9cIik7XG4gICAgaWYgKG1lZGlhLnNyYyA9PT0gXCJcIikgcmV0dXJuIDA7IC8vIGRvbid0IHRvZ2dsZSBmdWxsc2NyZWVuIGlmIG5vIG1lZGlhIGlzIGFzc2lnbmVkXG4gICAgaWYgKG1lZGlhICE9PSBkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCkge1xuICAgICAgICBtZWRpYS5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUpIHtcbiAgICAgICAgZG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiVGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBwaWN0dXJlIGluIHBpY3R1cmUgbW9kZS5cIik7XG4gICAgfVxufVxuIl0sIm1hcHBpbmdzIjoiYUFFQSxRQUFTLENBQUFBLFFBQVFBLENBQUNDLENBQUksQ0FBRSxDQWNwQixHQUFJLFNBQUFBLENBQUksQ0FBQ0MsTUFBb0IsQ0FFekIsTUFEQSxDQUFBQyxPQUFPLENBQUNDLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxJQUd0RCxLQUFNLENBQUFGLENBQU0sQ0FBR0csUUFBUSxDQUFDQyxhQUFhLENBQUNMLENBQUksQ0FBQ0MsTUFBTSxDQUFDLENBQ2xELEdBQWUsSUFBSSxHQUFmQSxDQUFlLENBRWYsTUFEQSxDQUFBQyxPQUFPLENBQUNDLEtBQUssQ0FBRSxlQUFjSCxDQUFJLENBQUNDLE1BQU8sdUNBQXNDLENBQUMsSUFnQnBGLEdBWEFBLENBQU0sQ0FBQ0ssZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsQ0FBQ0MsT0FBTyxDQUFFQyxDQUFRLEVBQUssQ0FDaEVBLENBQVEsQ0FBQ0MsTUFBTSxDQUFDLENBQ3BCLENBQUMsQ0FBQyxDQUNFUixDQUFNLENBQUNTLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFJVixDQUFNLENBQUNTLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDLGNBQWMsQ0FBQyxHQUNqRlYsQ0FBTSxDQUFDSSxhQUFhLENBQUMsY0FBYyxDQUFDLENBQUNPLEtBQUssQ0FBQ0MsT0FBTyxDQUFHLEdBQUcsRUFFNURaLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDSyxTQUFTLENBQUNJLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBRSxnQkFBZ0IsQ0FBQyxDQUNyRmIsQ0FBTSxDQUFDSSxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUNVLFNBQVMsQ0FBRyxlQUFlLENBQzVEZCxDQUFNLENBQUNJLGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDTyxLQUFLLENBQUNJLEtBQUssQ0FBRyxJQUFJLENBR3hELFNBQUFoQixDQUFJLENBQUNpQixLQUFtQixDQUV4QixNQURBLENBQUFmLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLGtDQUFrQyxDQUFDLElBR3JELEtBQU0sQ0FBQWMsQ0FBSyxDQUFHaEIsQ0FBTSxDQUFDSSxhQUFhLENBQUMsY0FBYyxDQUFDLENBQ2xELEdBQWMsSUFBSSxHQUFkWSxDQUFjLENBR2QsTUFEQSxDQUFBZixPQUFPLENBQUNDLEtBQUssQ0FBRSxjQUFhSCxDQUFJLENBQUNDLE1BQU8sd0NBQXVDLENBQUMsSUFPcEYsR0FKSWdCLENBQUssQ0FBQ0MsWUFBWSxDQUFDLEtBQUssQ0FBRWxCLENBQUksQ0FBQ2lCLEtBQUssQ0FBQyxDQUluQixPQUFPLEdBQXpCQSxDQUFLLENBQUNFLE9BQW1CLENBQUUsQ0FDM0IsS0FBTSxDQUFBQyxDQUFPLENBQUduQixDQUFNLENBQUNJLGFBQWEsQ0FBQyx3Q0FBd0MsQ0FBQyxDQUM5RSxHQUFnQixJQUFJLEdBQWhCZSxDQUFnQixFQUFJLFNBQUFwQixDQUFJLENBQUNvQixPQUFxQixDQUU5QyxNQURBLENBQUFsQixPQUFPLENBQUNDLEtBQUssQ0FBRSxjQUFhSCxDQUFJLENBQUNDLE1BQU8seUNBQXdDLENBQUMsSUFHckZtQixDQUFPLENBQUNGLFlBQVksQ0FDaEIsS0FBSyxDQUNMLFNBQUFsQixDQUFJLENBQUNvQixPQUFxQixDQUFrQixnREFBZ0QsQ0FBL0RwQixDQUFJLENBQUNvQixPQUN0QyxDQUNKLENBQUMsSUFBNEIsT0FBTyxHQUF6QkgsQ0FBSyxDQUFDRSxPQUFtQixFQUNoQ0YsQ0FBSyxDQUFDQyxZQUFZLENBQUMsUUFBUSxDQUFFLFNBQUFsQixDQUFJLENBQUNvQixPQUFxQixDQUFrQixFQUFFLENBQWpCcEIsQ0FBSSxDQUFDb0IsT0FBWSxDQUFDLENBS2hGLEtBQU0sQ0FBQUMsQ0FBSyxDQUFHcEIsQ0FBTSxDQUFDSSxhQUFhLENBQUMsZUFBZSxDQUFDLENBQ25ELEdBQWMsSUFBSSxHQUFkZ0IsQ0FBYyxFQUFJLFNBQUFyQixDQUFJLENBQUNxQixLQUFtQixDQUUxQyxNQURBLENBQUFuQixPQUFPLENBQUNDLEtBQUssQ0FBRSxjQUFhSCxDQUFJLENBQUNDLE1BQU8sbUNBQWtDLENBQUMsSUFHakUsSUFBSSxHQUFkb0IsQ0FBYyxHQUFFQSxDQUFLLENBQUNDLFNBQVMsQ0FBRyxTQUFBdEIsQ0FBSSxDQUFDcUIsS0FBbUIsQ0FBZ0IsRUFBRSxDQUFmckIsQ0FBSSxDQUFDcUIsS0FBVSxFQUdoRixLQUFNLENBQUFFLENBQVcsQ0FBR3RCLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLHFCQUFxQixDQUFDLENBQy9ELEdBQW9CLElBQUksR0FBcEJrQixDQUFvQixFQUFJLFNBQUF2QixDQUFJLENBQUN1QixXQUF5QixDQUV0RCxNQURBLENBQUFyQixPQUFPLENBQUNDLEtBQUssQ0FBRSxjQUFhSCxDQUFJLENBQUNDLE1BQU8seUNBQXdDLENBQUMsSUFHakUsSUFBSSxHQUFwQnNCLENBQW9CLEdBQUVBLENBQVcsQ0FBQ0QsU0FBUyxDQUFHLFNBQUF0QixDQUFJLENBQUN1QixXQUF5QixDQUFzQixFQUFFLENBQXJCdkIsQ0FBSSxDQUFDdUIsV0FBZ0IsRUFHeEcsS0FBTSxDQUFBQyxDQUFNLENBQUd2QixDQUFNLENBQUNJLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUNyRCxHQUFlLElBQUksR0FBZm1CLENBQWUsRUFBSSxTQUFBeEIsQ0FBSSxDQUFDd0IsTUFBb0IsQ0FFNUMsTUFEQSxDQUFBdEIsT0FBTyxDQUFDQyxLQUFLLENBQUUsY0FBYUgsQ0FBSSxDQUFDQyxNQUFPLG9DQUFtQyxDQUFDLElBR2pFLElBQUksR0FBZnVCLENBQWUsR0FDWCxTQUFBeEIsQ0FBSSxDQUFDd0IsTUFBb0IsQ0FBRUEsQ0FBTSxDQUFDWixLQUFLLENBQUNhLE9BQU8sQ0FBRyxNQUFNLEVBRXhERCxDQUFNLENBQUNOLFlBQVksQ0FBQyxNQUFNLENBQUVsQixDQUFJLENBQUN3QixNQUFNLENBQUMsQ0FDeENBLENBQU0sQ0FBQ1osS0FBSyxDQUFDYSxPQUFPLENBQUcsU0FBUyxHQUt4QyxLQUFNLENBQUFDLENBQUksQ0FBR3pCLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUNqRCxHQUFhLElBQUksR0FBYnFCLENBQWEsRUFBSSxTQUFBMUIsQ0FBSSxDQUFDMEIsSUFBa0IsQ0FFeEMsTUFEQSxDQUFBeEIsT0FBTyxDQUFDQyxLQUFLLENBQUUsY0FBYUgsQ0FBSSxDQUFDQyxNQUFPLGtDQUFpQyxDQUFDLElBR2pFLElBQUksR0FBYnlCLENBQWEsR0FDVCxTQUFBMUIsQ0FBSSxDQUFDMEIsSUFBa0IsQ0FBRUEsQ0FBSSxDQUFDZCxLQUFLLENBQUNhLE9BQU8sQ0FBRyxNQUFNLEVBRXBEQyxDQUFJLENBQUNKLFNBQVMsQ0FBR3RCLENBQUksQ0FBQzBCLElBQUksQ0FDMUJBLENBQUksQ0FBQ2QsS0FBSyxDQUFDYSxPQUFPLENBQUcsU0FBUyxHQUt0QyxLQUFNLENBQUFFLENBQVEsQ0FBRzFCLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLGtCQUFrQixDQUFDLENBQ3pELEdBQWlCLElBQUksR0FBakJzQixDQUFpQixFQUFJLFNBQUEzQixDQUFJLENBQUMyQixRQUFzQixDQUVoRCxNQURBLENBQUF6QixPQUFPLENBQUNDLEtBQUssQ0FBRSxjQUFhSCxDQUFJLENBQUNDLE1BQU8sc0NBQXFDLENBQUMsSUFHakUsSUFBSSxHQUFqQjBCLENBQWlCLEdBQ2IsU0FBQTNCLENBQUksQ0FBQzJCLFFBQXNCLENBQUVBLENBQVEsQ0FBQ2YsS0FBSyxDQUFDYSxPQUFPLENBQUcsTUFBTSxFQUU1REUsQ0FBUSxDQUFDVCxZQUFZLENBQUMsTUFBTSxDQUFFbEIsQ0FBSSxDQUFDMkIsUUFBUSxDQUFDLENBQzVDQSxDQUFRLENBQUNmLEtBQUssQ0FBQ2EsT0FBTyxDQUFHLFNBQVMsR0FLMUMsS0FBTSxDQUFBRyxDQUFNLENBQUczQixDQUFNLENBQUNJLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLE1BQ3ZDLEtBQUksR0FBZnVCLENBQWUsRUFBSSxTQUFBNUIsQ0FBSSxDQUFDNEIsTUFBb0IsRUFDNUMxQixPQUFPLENBQUNDLEtBQUssQ0FBRSxjQUFhSCxDQUFJLENBQUNDLE1BQU8sb0NBQW1DLENBQUMsTUFHakUsSUFBSSxHQUFmMkIsQ0FBZSxHQUNYLFNBQUE1QixDQUFJLENBQUM0QixNQUFvQixDQUFFQSxDQUFNLENBQUNoQixLQUFLLENBQUNhLE9BQU8sQ0FBRyxNQUFNLEVBRXhERyxDQUFNLENBQUNOLFNBQVMsQ0FBR3RCLENBQUksQ0FBQzRCLE1BQU0sQ0FDOUJBLENBQU0sQ0FBQ2hCLEtBQUssQ0FBQ2EsT0FBTyxDQUFHLFNBQVMsTUFLNUMsQ0FJQSxRQUFTLENBQUFJLFlBQVlBLENBQUM1QixDQUFNLENBQUU2QixDQUFJLENBQUUsQ0FDaEM3QixDQUFNLENBQUNLLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLENBQUNDLE9BQU8sQ0FBRUMsQ0FBUSxFQUFLLENBQ2hFQSxDQUFRLENBQUNDLE1BQU0sQ0FBQyxDQUNwQixDQUFDLENBQUMsQ0FFRixLQUFNLENBQUFELENBQVEsQ0FBR0osUUFBUSxDQUFDMkIsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUM5Q3ZCLENBQVEsQ0FBQ0UsU0FBUyxDQUFDc0IsR0FBRyxDQUFDLE9BQU8sQ0FBRSxhQUFhLENBQUMsQ0FFOUMsS0FBTSxDQUFBQyxDQUFTLENBQUc3QixRQUFRLENBQUMyQixhQUFhLENBQUMsR0FBRyxDQUFDLENBQzdDRSxDQUFTLENBQUN2QixTQUFTLENBQUNzQixHQUFHLENBQUMsSUFBSSxDQUFFLGFBQWEsQ0FBQyxDQUM1Q3hCLENBQVEsQ0FBQzBCLFdBQVcsQ0FBQ0QsQ0FBUyxDQUFDLENBRS9CLEtBQU0sQ0FBQUUsQ0FBUyxDQUFHL0IsUUFBUSxDQUFDMkIsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUM3Q0ksQ0FBUyxDQUFDYixTQUFTLENBQUdRLENBQUksQ0FDMUJ0QixDQUFRLENBQUMwQixXQUFXLENBQUNDLENBQVMsQ0FBQyxDQUUzQmxDLENBQU0sQ0FBQ1MsU0FBUyxDQUFDQyxRQUFRLENBQUMsU0FBUyxDQUFDLEVBQ3BDVixDQUFNLENBQUNJLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQytCLE9BQU8sQ0FBQzVCLENBQVEsQ0FBQyxDQUNqRFAsQ0FBTSxDQUFDSSxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUNhLFlBQVksQ0FBQyxRQUFRLENBQUUsRUFBRSxDQUFDLEVBRXhEakIsQ0FBTSxDQUFDbUMsT0FBTyxDQUFDNUIsQ0FBUSxDQUFDLENBRW9CLE1BQU0sR0FBbEQ2QixNQUFNLENBQUNDLGdCQUFnQixDQUFDckMsQ0FBTSxDQUFDLENBQUN3QixPQUFrQixHQUNsRHhCLENBQU0sQ0FBQ1csS0FBSyxDQUFDYSxPQUFPLENBQUcsT0FBTyxDQUV0QyxDQUlBLFFBQVMsQ0FBQWMsTUFBTUEsQ0FBQSxDQUFHLENBQ2QsS0FBTSxDQUFBQyxDQUFNLENBQUdwQyxRQUFRLENBQUNFLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxDQUN4RGtDLENBQU0sQ0FBQ2pDLE9BQU8sQ0FBRVUsQ0FBSyxFQUFLLENBQ3RCQSxDQUFLLENBQUN3QixLQUFLLENBQUMsQ0FDaEIsQ0FBQyxDQUFDLENBQ0ZyQyxRQUFRLENBQUNFLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDQyxPQUFPLENBQUVtQyxDQUFNLEVBQUssQ0FDcERBLENBQU0sQ0FBQ2hDLFNBQVMsQ0FBQ0ksT0FBTyxDQUFDLGlCQUFpQixDQUFFLGdCQUFnQixDQUNoRSxDQUFDLENBQ0wsQ0FJQSxRQUFTLENBQUE2QixzQkFBc0JBLENBQUMxQyxDQUFNLENBQUUsTUFDOUIsQ0FBQWdCLENBQUssQ0FBR2hCLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUNyQ3VDLENBQVMsQ0FBRzNDLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUV0RHVDLENBQVMsQ0FBQ2hDLEtBQUssQ0FBQ0MsT0FBTyxDQUFHLEdBQUcsQ0FDekIsS0FBQUksQ0FBSyxDQUFDNEIsTUFBZ0IsR0FDdEJDLFlBQVksQ0FBQzdCLENBQUssQ0FBQzhCLE1BQU0sQ0FBQyxDQUMxQjlCLENBQUssQ0FBQytCLGdCQUFnQixDQUFDLFlBQVksQ0FBRSxJQUFNLENBQ3ZDL0IsQ0FBSyxDQUFDOEIsTUFBTSxDQUFHRSxVQUFVLENBQUMsSUFBTSxDQUM1QkwsQ0FBUyxDQUFDaEMsS0FBSyxDQUFDQyxPQUFPLENBQUcsS0FDOUIsQ0FBQyxDQUFFLEdBQUksQ0FDWCxDQUFDLENBQUMsQ0FFVixDQUVBVCxRQUFRLENBQUNFLGdCQUFnQixDQUFDLHVCQUF1QixDQUFDLENBQUNDLE9BQU8sQ0FBRU4sQ0FBTSxFQUFLLE1BQzdELENBQUFnQixDQUFLLENBQUdoQixDQUFNLENBQUNJLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FDckN1QyxDQUFTLENBQUczQyxDQUFNLENBQUNJLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FFdER1QyxDQUFTLENBQUNJLGdCQUFnQixDQUFDLFdBQVcsQ0FBRSxJQUFNLENBQzFDTCxzQkFBc0IsQ0FBQzFDLENBQU0sQ0FDakMsQ0FBQyxDQUFDLENBRUYsS0FBTSxDQUFBaUQsQ0FBYSxDQUE4QixDQUFDLENBQTVCQyxTQUFTLENBQUNDLGNBQWtCLENBQzlDRixDQUFhLENBQ2JqQyxDQUFLLENBQUMrQixnQkFBZ0IsQ0FBQyxVQUFVLENBQUUsSUFBTSxDQUNyQ0ssS0FBSyxDQUFFLElBQUdwRCxDQUFNLENBQUNxRCxZQUFZLENBQUMsSUFBSSxDQUFFLEVBQUMsQ0FDekMsQ0FBQyxDQUFDLEVBRUZyQyxDQUFLLENBQUMrQixnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBTSxDQUNsQ0ssS0FBSyxDQUFFLElBQUdwRCxDQUFNLENBQUNxRCxZQUFZLENBQUMsSUFBSSxDQUFFLEVBQUMsQ0FDekMsQ0FBQyxDQUFDLENBQ0ZyQyxDQUFLLENBQUMrQixnQkFBZ0IsQ0FBQyxVQUFVLENBQUUsSUFBTSxDQUNyQ08sa0JBQWtCLENBQUN0RCxDQUFNLENBQzdCLENBQUMsQ0FBQyxDQUVWLENBQUMsQ0FBQyxDQUlGRyxRQUFRLENBQUNFLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLENBQUNDLE9BQU8sQ0FBRU4sQ0FBTSxFQUFLLENBQ2hFLEtBQU0sQ0FBQWdCLENBQUssQ0FBR2hCLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUVsRFksQ0FBSyxDQUFDK0IsZ0JBQWdCLENBQUMsWUFBWSxDQUFFLElBQU0sQ0FDdkNRLGFBQWEsQ0FBQ3ZELENBQU0sQ0FDeEIsQ0FBQyxDQUFDLENBRUZnQixDQUFLLENBQUMrQixnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBTSxDQUNsQ1MsWUFBWSxDQUFDeEQsQ0FBTSxDQUN2QixDQUFDLENBQUMsQ0FFRmdCLENBQUssQ0FBQytCLGdCQUFnQixDQUFDLE9BQU8sQ0FBRzdDLENBQUssRUFBSyxDQUN2Q3VELGNBQWMsQ0FBQ3pELENBQU0sQ0FBRUUsQ0FBSyxDQUNoQyxDQUFDLENBQUMsQ0FFRndELHlCQUF5QixDQUFDMUQsQ0FBTSxDQUFDLENBRWpDMkQsNkJBQTZCLENBQUMzRCxDQUFNLENBQUMsQ0FFckNBLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDMkMsZ0JBQWdCLENBQUMsT0FBTyxDQUFFLElBQU0sQ0FDM0RLLEtBQUssQ0FBRSxJQUFHcEQsQ0FBTSxDQUFDcUQsWUFBWSxDQUFDLElBQUksQ0FBRSxFQUFDLENBRXpDLENBQUMsQ0FBQyxDQUVGckQsQ0FBTSxDQUFDSSxhQUFhLENBQUMsU0FBUyxDQUFDLEVBQUUyQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBTSxDQUM3RGEsWUFBWSxDQUFDNUQsQ0FBTSxDQUN2QixDQUFDLENBQUMsQ0FFRkEsQ0FBTSxDQUFDSSxhQUFhLENBQUMsVUFBVSxDQUFDLEVBQUUyQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBTSxDQUM5RGMsYUFBYSxDQUFDN0QsQ0FBTSxDQUN4QixDQUFDLENBQUMsQ0FFRkEsQ0FBTSxDQUFDSSxhQUFhLENBQUMsVUFBVSxDQUFDLEVBQUUyQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBTSxDQUM5RGUsT0FBTyxDQUFDOUQsQ0FBTSxDQUNsQixDQUFDLENBQUMsQ0FFRkEsQ0FBTSxDQUFDSSxhQUFhLENBQUMsZUFBZSxDQUFDLEVBQUUyQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBTSxDQUNuRU8sa0JBQWtCLENBQUN0RCxDQUFNLENBQzdCLENBQUMsQ0FBQyxDQUVGQSxDQUFNLENBQUNJLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBRTJDLGdCQUFnQixDQUFDLE9BQU8sQ0FBRSxJQUFNLENBQzVEZ0IsV0FBVyxDQUFDL0QsQ0FBTSxDQUN0QixDQUFDLENBQ0wsQ0FBQyxDQUFDLENBSUYsUUFBUyxDQUFBdUQsYUFBYUEsQ0FBQ3ZELENBQU0sQ0FBRSxNQUNyQixDQUFBZ0IsQ0FBSyxDQUFHaEIsQ0FBTSxDQUFDSSxhQUFhLENBQUMsY0FBYyxDQUFDLENBQzVDNEQsQ0FBSyxDQUFHaEUsQ0FBTSxDQUFDSSxhQUFhLENBQUMsVUFBVSxDQUFDLENBQ3hDNkQsQ0FBVyxDQUFHakUsQ0FBTSxDQUFDSSxhQUFhLENBQUMsbUJBQW1CLENBQUMsQ0FDN0RZLENBQUssQ0FBQytCLGdCQUFnQixDQUFDLFlBQVksQ0FBRSxJQUFNLElBQ25DLENBQUFtQixDQUFRLENBQUdsRCxDQUFLLENBQUNtRCxXQUFXLENBQzVCQyxDQUFRLENBQUdwRCxDQUFLLENBQUNvRCxRQUFRLENBQ3pCQyxLQUFLLENBQUNELENBQVEsQ0FBQyxHQUNmRixDQUFRLENBQUdFLENBQVEsQ0FBRyxDQUFDLEVBRTNCLEtBQU0sQ0FBQUUsQ0FBTyxDQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBeUIsR0FBRyxFQUExQk4sQ0FBUSxDQUFHRSxDQUFRLENBQU8sQ0FBQyxDQUN2REosQ0FBSyxDQUFDbEQsU0FBUyxDQUFJLEdBQUUyRCxXQUFXLENBQUNQLENBQVEsQ0FBRSxNQUFLTyxXQUFXLENBQUNMLENBQVEsQ0FBRSxFQUFDLENBQ3ZFSCxDQUFXLENBQUN0RCxLQUFLLENBQUNJLEtBQUssQ0FBSSxHQUFFdUQsQ0FBUSxHQUN6QyxDQUFDLENBQ0wsQ0FJQSxRQUFTLENBQUFkLFlBQVlBLENBQUN4RCxDQUFNLENBQUUsQ0FDMUJBLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDSyxTQUFTLENBQUNJLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBRSxnQkFBZ0IsQ0FBQyxDQUNqRmIsQ0FBTSxDQUFDUyxTQUFTLENBQUNDLFFBQVEsQ0FBQyxlQUFlLENBQUMsR0FDMUNWLENBQU0sQ0FBQ1csS0FBSyxDQUFDYSxPQUFPLENBQUcsTUFBTSxDQUVyQyxDQUtBLFFBQVMsQ0FBQWlDLGNBQWNBLENBQUN6RCxDQUFNLENBQUVFLENBQUssQ0FBRSxDQUNuQyxHQUFJLENBQUEyQixDQUFJLENBQUksVUFBUyxDQUNyQkEsQ0FBSSxFQUFLLDhCQUE2QixDQW9CdEMsS0FBTSxDQUFBNkMsQ0FBUyxDQUFHMUUsQ0FBTSxDQUFDSSxhQUFhLENBQUMsY0FBYyxDQUFDLENBQUNpRCxZQUFZLENBQUMsS0FBSyxDQUFDLENBQzFFeEIsQ0FBSSxFQUFLLG1DQUFrQzZDLENBQVUsaUJBQWdCLENBQ3JFN0MsQ0FBSSxFQUFLLHVDQUFzQzNCLENBQUssQ0FBQ3lFLElBQUssTUFBS3pFLENBQUssQ0FBQzBFLE9BQVEsaUJBQWdCLENBQzdGM0UsT0FBTyxDQUFDQyxLQUFLLENBQUMyQixDQUFJLENBQUMsQ0FDbkJELFlBQVksQ0FBQzVCLENBQU0sQ0FBRTZCLENBQUksQ0FDN0IsQ0FJQSxRQUFTLENBQUE2Qix5QkFBeUJBLENBQUMxRCxDQUFNLENBQUUsTUFDakMsQ0FBQWdCLENBQUssQ0FBR2hCLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUM1Q3lFLENBQVEsQ0FBRzdFLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLGFBQWEsQ0FBQyxDQUM5QzBFLENBQU8sQ0FBRzlFLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLFlBQVksQ0FBQyxDQUNsRHlFLENBQVEsQ0FBQzlCLGdCQUFnQixDQUFDLE9BQU8sQ0FBRSxJQUFNLENBQ3JDL0IsQ0FBSyxDQUFDbUQsV0FBVyxFQUFJLEVBQ3pCLENBQUMsQ0FBQyxDQUNGVyxDQUFPLENBQUMvQixnQkFBZ0IsQ0FBQyxPQUFPLENBQUUsSUFBTSxDQUNwQy9CLENBQUssQ0FBQ21ELFdBQVcsRUFBSSxFQUN6QixDQUFDLENBQ0wsQ0FJQSxRQUFTLENBQUFSLDZCQUE2QkEsQ0FBQzNELENBQU0sQ0FBRSxNQUNyQyxDQUFBZ0IsQ0FBSyxDQUFHaEIsQ0FBTSxDQUFDSSxhQUFhLENBQUMsY0FBYyxDQUFDLENBQzVDNkQsQ0FBVyxDQUFHakUsQ0FBTSxDQUFDSSxhQUFhLENBQUMsYUFBYSxDQUFDLENBQ3ZENkQsQ0FBVyxDQUFDbEIsZ0JBQWdCLENBQUMsT0FBTyxDQUFHZ0MsQ0FBSyxFQUFLLENBQzdDLEdBQUlWLEtBQUssQ0FBQ3JELENBQUssQ0FBQ29ELFFBQVEsQ0FBQyxDQUFFLFNBQzNCLEtBQU0sQ0FBQUUsQ0FBTyxDQUErQyxHQUFHLEVBQTlDUyxDQUFLLENBQUNDLE9BQU8sQ0FBR2YsQ0FBVyxDQUFDZ0IsV0FBVyxDQUFPLENBSS9ELE1BSEEsQ0FBQWpFLENBQUssQ0FBQ21ELFdBQVcsQ0FBSW5ELENBQUssQ0FBQ29ELFFBQVEsQ0FBR0UsQ0FBTyxDQUFJLEdBQUcsQ0FDcERMLENBQVcsQ0FBQzdELGFBQWEsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDTyxLQUFLLENBQUNJLEtBQUssQ0FBSSxHQUFFdUQsQ0FBUSxHQUFFLEdBRzlFLENBQUMsQ0FDTCxDQUlBLFFBQVMsQ0FBQWxCLEtBQUtBLENBQUM4QixDQUFjLENBQUUsTUFDckIsQ0FBQWxGLENBQU0sQ0FBR0csUUFBUSxDQUFDQyxhQUFhLENBQUM4RSxDQUFjLENBQUMsQ0FDL0NsRSxDQUFLLENBQUdoQixDQUFNLENBQUNJLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FDNUNxQyxDQUFNLENBQUd6QyxDQUFNLENBQUNJLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FpQjdDLE1BZkksS0FBQVksQ0FBSyxDQUFDNEIsTUFBZSxFQUNyQk4sTUFBTSxDQUFDLENBQUMsQ0FDd0MsTUFBTSxHQUFsREYsTUFBTSxDQUFDQyxnQkFBZ0IsQ0FBQ3JDLENBQU0sQ0FBQyxDQUFDd0IsT0FBa0IsR0FDbER4QixDQUFNLENBQUNXLEtBQUssQ0FBQ2EsT0FBTyxDQUFHLE9BQU8sRUFFbENSLENBQUssQ0FBQ21FLElBQUksQ0FBQyxDQUFDLENBQ1oxQyxDQUFNLENBQUNoQyxTQUFTLENBQUNJLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBRSxpQkFBaUIsQ0FBQyxFQUN0RCxLQUFBRyxDQUFLLENBQUM0QixNQUFnQixHQUM3QjVCLENBQUssQ0FBQ3dCLEtBQUssQ0FBQyxDQUFDLENBQ2JDLENBQU0sQ0FBQ2hDLFNBQVMsQ0FBQ0ksT0FBTyxDQUFDLGlCQUFpQixDQUFFLGdCQUFnQixDQUFDLENBQ3pEYixDQUFNLENBQUNTLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFJVixDQUFNLENBQUNTLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDLGNBQWMsQ0FBQyxHQUNqRlYsQ0FBTSxDQUFDSSxhQUFhLENBQUMsY0FBYyxDQUFDLENBQUNPLEtBQUssQ0FBQ0MsT0FBTyxDQUFHLEdBQUcsS0FLcEUsQ0FJQSxRQUFTLENBQUFnRCxZQUFZQSxDQUFDNUQsQ0FBTSxDQUFFLE1BQ3BCLENBQUFnQixDQUFLLENBQUdoQixDQUFNLENBQUNJLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FDNUNxQyxDQUFNLENBQUd6QyxDQUFNLENBQUNJLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FDMUMsS0FBQVksQ0FBSyxDQUFDb0UsSUFBYyxFQUNwQnBFLENBQUssQ0FBQ29FLElBQUksR0FBTyxDQUNqQjNDLENBQU0sQ0FBQ2hDLFNBQVMsQ0FBQ0ksT0FBTyxDQUFDLFdBQVcsQ0FBRSxlQUFlLENBQUMsRUFDL0MsS0FBQUcsQ0FBSyxDQUFDb0UsSUFBYSxHQUMxQnBFLENBQUssQ0FBQ29FLElBQUksR0FBUSxDQUNsQjNDLENBQU0sQ0FBQ2hDLFNBQVMsQ0FBQ0ksT0FBTyxDQUFDLGVBQWUsQ0FBRSxXQUFXLENBQUMsQ0FFOUQsQ0FJQSxRQUFTLENBQUFnRCxhQUFhQSxDQUFDN0QsQ0FBTSxDQUFFLE1BQ3JCLENBQUFnQixDQUFLLENBQUdoQixDQUFNLENBQUNJLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FDNUNxQyxDQUFNLENBQUd6QyxDQUFNLENBQUNJLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FDM0MsS0FBQVksQ0FBSyxDQUFDcUUsS0FBZSxFQUNyQnJFLENBQUssQ0FBQ3FFLEtBQUssR0FBTyxDQUNsQjVDLENBQU0sQ0FBQ2hDLFNBQVMsQ0FBQ0ksT0FBTyxDQUFDLFdBQVcsQ0FBRSxlQUFlLENBQUMsRUFDL0MsS0FBQUcsQ0FBSyxDQUFDcUUsS0FBYyxHQUMzQnJFLENBQUssQ0FBQ3FFLEtBQUssR0FBUSxDQUNuQjVDLENBQU0sQ0FBQ2hDLFNBQVMsQ0FBQ0ksT0FBTyxDQUFDLGVBQWUsQ0FBRSxXQUFXLENBQUMsQ0FFOUQsQ0FJQSxRQUFTLENBQUFpRCxPQUFPQSxDQUFDOUQsQ0FBTSxDQUFFLENBQ3JCQSxDQUFNLENBQUNJLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FBQ29DLEtBQUssQ0FBQyxDQUFDLENBQzVDeEMsQ0FBTSxDQUFDVyxLQUFLLENBQUNhLE9BQU8sQ0FBRyxNQUMzQixDQUlBLFFBQVMsQ0FBQThCLGtCQUFrQkEsQ0FBQ3RELENBQU0sQ0FBRSxDQUNoQyxLQUFNLENBQUFnQixDQUFLLENBQUdoQixDQUFNLENBQUNJLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUMxQixFQUFFLEdBQWhCWSxDQUFLLENBQUNzRSxHQUFVLENBQVMsQ0FBQyxNQUMxQnRFLENBQUssQ0FBQ3VFLGlCQUFpQixDQUN2QnZFLENBQUssQ0FBQ3VFLGlCQUFpQixDQUFDLENBQUMsQ0FDbEJ2RSxDQUFLLENBQUN3RSx1QkFBdUIsQ0FDcEN4RSxDQUFLLENBQUN3RSx1QkFBdUIsQ0FBQyxDQUFDLENBRS9CdkYsT0FBTyxDQUFDQyxLQUFLLENBQUMsK0NBQStDLENBQUMsQ0FFdEUsQ0FJQSxRQUFTLENBQUE2RCxXQUFXQSxDQUFDL0QsQ0FBTSxDQUFFLENBQ3pCLEtBQU0sQ0FBQWdCLENBQUssQ0FBR2hCLENBQU0sQ0FBQ0ksYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQzFCLEVBQUUsR0FBaEJZLENBQUssQ0FBQ3NFLEdBQVUsQ0FBUyxDQUFDLE1BQzFCdEUsQ0FBSyxHQUFLYixRQUFRLENBQUNzRix1QkFBdUIsQ0FFbkN0RixRQUFRLENBQUN1RixvQkFBb0IsQ0FDcEN2RixRQUFRLENBQUN1RixvQkFBb0IsQ0FBQyxDQUFDLENBRS9CekYsT0FBTyxDQUFDQyxLQUFLLENBQUMsdURBQXVELENBQUMsQ0FKdEVjLENBQUssQ0FBQzJFLHVCQUF1QixDQUFDLENBQUMsQ0FNdkMifQ==