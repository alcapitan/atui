"use strict";var d=Object.defineProperty;var o=(e,t)=>d(e,"name",{value:t,configurable:!0});/*!
* ATUI v0.4.0 (https://github.com/alcapitan/atui)
* This code is released under GNU General Public License (https://github.com/alcapitan/atui/blob/dev/LICENSE.md)
*/const atuiMediasplayer_Metadata={name:"Medias Player",author:"alcapitan (on GitHub)",version:"v0.4.0",website:"https://github.com/alcapitan/atui",in_development:!0};document.querySelectorAll(".atuiMediasplayer_Close").forEach(function(e){e.addEventListener("click",function(){const t=findElement(this,".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer");t.querySelector("audio, video").pause(),t.style.display="none"})});function atuiMediasplayer_Assign(e){const t=document.getElementById(e.player),i=t.querySelector("audio, video"),a=t.querySelector(".atuiMediasplayer_Cover img"),s=t.querySelector(".atuiMediasplayer_InformationTitle"),r=t.querySelector(".atuiMediasplayer_InformationAuthor"),l=t.querySelector(".atuiMediasplayer_InformationAlbumName"),u=t.querySelector(".atuiMediasplayer_InformationReleaseDate"),n=t.querySelector(".atuiMediasplayer_InformationOrigin");i.setAttribute("src",e.media),e.cover!==void 0&&a.setAttribute("src",e.cover),e.title!==void 0&&(s.innerHTML=e.title),e.author!==void 0&&(r.innerHTML=e.author),e.albumName!==void 0&&(l.innerHTML=e.albumName),e.releaseDate!==void 0&&(u.innerHTML=e.releaseDate),e.origin!==void 0&&n.setAttribute("href",e.origin)}o(atuiMediasplayer_Assign,"atuiMediasplayer_Assign"),document.querySelectorAll(".atuiMediasplayer_Run").forEach(function(e){e.addEventListener("click",function(){let t;if(this.getAttribute("data-mp-target")!==null?(t=document.querySelector(`${this.getAttribute("data-mp-target")} audio, ${this.getAttribute("data-mp-target")} video`),e=findElement(t,".atuiMediasplayer_Run",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer"),this.getAttribute("data-mp-assign")!==null&&(data=JSON.parse(this.getAttribute("data-mp-assign")),atuiMediasplayer_Assign(data))):(t=findElement(this,"audio, video",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer"),e=this),t.paused===!0){stopAllMedia(),t.play();const i=findElement(t,".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer");window.getComputedStyle(i).display==="none"&&(i.style.display="block"),e.setAttribute("src","atui/MediasPlayer/assets/pause.png"),e.setAttribute("alt","Pause the media")}else t.paused===!1?(t.pause(),e.setAttribute("src","atui/MediasPlayer/assets/play.png"),e.setAttribute("alt","Play the media")):console.error("An unexpected error has occurred.")})}),document.querySelectorAll(".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer").forEach(e=>{const t=e.querySelector(".atuiMediasplayer_Run");e.querySelector("audio, video").addEventListener("ended",()=>{t.setAttribute("src","atui/MediasPlayer/assets/play.png"),t.setAttribute("alt","Play the media."),e.classList.contains("optionFloating")&&(e.style.display="none")})});function stopAllMedia(){document.querySelectorAll("audio, video").forEach(function(t){t.pause()}),document.querySelectorAll(".atuiMediasplayer_Run").forEach(function(t){t.setAttribute("src","atui/MediasPlayer/assets/play.png"),t.setAttribute("alt","Play the audio.")})}o(stopAllMedia,"stopAllMedia"),document.querySelectorAll(".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer").forEach(e=>{const t=e.querySelector("audio, video"),i=e.querySelector(".atuiMediasplayer_Timer"),a=e.querySelector(".atuiMediasplayer_ProgressbarInside");t.addEventListener("timeupdate",()=>{let s=t.currentTime,r=t.duration;isNaN(r)&&(s=0,r=0);const l=Math.round(s/r*100);i.innerText=`${convertTime(s)} - ${convertTime(r)}`,a.style.width=`${l}%`})}),document.querySelectorAll(".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer").forEach(e=>{const t=e.querySelector(".atuiMediasplayer_Backward"),i=e.querySelector(".atuiMediasplayer_Forward"),a=e.querySelector("audio, video");t.addEventListener("click",()=>{a.currentTime-=10}),i.addEventListener("click",()=>{a.currentTime+=10})}),document.querySelectorAll(".atuiMediasplayer_Progressbar").forEach(e=>{e.addEventListener("click",t=>{const i=findElement(e,"audio, video",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer"),a=t.offsetX/e.offsetWidth*100;i.currentTime=i.duration*a/100,e.querySelector(".atuiMediasplayer_ProgressbarInside").style.width=`${a}%`})}),document.querySelectorAll(".atuiMediasplayer_Infos").forEach(function(e){e.addEventListener("mouseenter",function(){atuiKernel_ToolsContextmenuDisplay(this,!0,!1)}),e.addEventListener("mouseleave",function(){atuiKernel_ToolsContextmenuDisplay(this,!1,void 0)})}),document.querySelectorAll(".atuiMediasplayer_Loop").forEach(function(e){e.addEventListener("click",function(){const t=findElement(this,"audio, video",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer");t.loop===!1?(t.loop=!0,this.setAttribute("src","atui/MediasPlayer/assets/no_loop.png"),this.setAttribute("alt","Stop playing the media in a loop")):t.loop===!0?(t.loop=!1,this.setAttribute("src","atui/MediasPlayer/assets/loop.png"),this.setAttribute("alt","Play the media in a loop")):console.error("An unexpected error has occurred.")})}),document.querySelectorAll(".atuiMediasplayer_Sound").forEach(function(e){e.addEventListener("click",function(){const t=findElement(this,"audio, video",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer");t.muted===!1?(t.muted=!0,this.setAttribute("src","atui/MediasPlayer/assets/no_sound.png"),this.setAttribute("alt","Mute sound.")):t.muted===!0?(t.muted=!1,this.setAttribute("src","atui/MediasPlayer/assets/sound.png"),this.setAttribute("alt","Enable sound.")):console.error("An unexpected error has occurred.")})}),document.querySelectorAll(".atuiMediasplayer_Fullscreen").forEach(e=>{e.addEventListener("click",()=>{const t=findElement(e,"video",".atuiMediasplayer_Videoplayer");if(t.requestFullscreen)t.requestFullscreen();else if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else{console.error("The browser does not support fullscreen mode.");return}})}),document.querySelectorAll(".atuiMediasplayer_Pip").forEach(e=>{e.addEventListener("click",()=>{const t=findElement(e,"video",".atuiMediasplayer_Videoplayer");t!==document.pictureInPictureElement?t.requestPictureInPicture():document.exitPictureInPicture()})});
//# sourceMappingURL=dist.js.map
