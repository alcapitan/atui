"use strict";var u=Object.defineProperty;var o=(e,i)=>u(e,"name",{value:i,configurable:!0});/*!
* ATUI v0.4.0 (https://github.com/alcapitan/atui)
* This code is released under GNU General Public License (https://github.com/alcapitan/atui/blob/dev/LICENSE.md)
*/const atuiMediasplayer_Metadata={name:"Medias Player",author:"alcapitan (on GitHub)",version:"v0.4.0",website:"https://github.com/alcapitan/atui",in_development:!0};document.querySelectorAll(".atuiMediasplayer_Close").forEach(function(e){e.addEventListener("click",function(){const i=findElement(this,".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer");i.querySelector("audio, video").pause(),i.style.display="none"})});function atuiMediasplayer_BrokenLink(e,i){const t=document.createElement("div");t.classList.add("atuiKernel_SectionBox","optionAlert");const a=document.createElement("i");a.classList.add("ti","ti-circle-x");const r=document.createElement("p");i!==null?r.innerHTML=`ERROR : The media "<code>${i}</code>" is not reachable.`:r.innerHTML="ERROR : There is no media in this mediasplayer.",t.appendChild(a),t.appendChild(r),e.classList.contains("atuiMediasplayer_Videoplayer")?e.querySelector("article").prepend(t):e.prepend(t)}o(atuiMediasplayer_BrokenLink,"atuiMediasplayer_BrokenLink");function atuiMediasplayer_Assign(e){const i=document.getElementById(e.player),t=i.querySelector("audio, video"),a=i.querySelector(".atuiMediasplayer_Cover img, .atuiMediasplayer_Cover i"),r=i.querySelector(".atuiMediasplayer_InformationTitle"),l=i.querySelector(".atuiMediasplayer_InformationAuthor"),n=i.querySelector(".atuiMediasplayer_InformationAlbumName"),s=i.querySelector(".atuiMediasplayer_InformationReleaseDate"),d=i.querySelector(".atuiMediasplayer_InformationOrigin");t.setAttribute("src",e.media),e.cover!==void 0&&a.setAttribute("src",e.cover),e.title!==void 0&&(r.innerHTML=e.title),e.author!==void 0&&(l.innerHTML=e.author),e.albumName!==void 0&&(n.innerHTML=e.albumName),e.releaseDate!==void 0&&(s.innerHTML=e.releaseDate),e.origin!==void 0&&d.setAttribute("href",e.origin)}o(atuiMediasplayer_Assign,"atuiMediasplayer_Assign"),document.querySelectorAll(".atuiMediasplayer_Run").forEach(function(e){e.addEventListener("click",function(){let i;if(this.getAttribute("data-mp-target")!==null){if(i=document.querySelector(`${this.getAttribute("data-mp-target")} audio, ${this.getAttribute("data-mp-target")} video`),e=findElement(i,".atuiMediasplayer_Run",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer"),this.getAttribute("data-mp-assign")!==null){const t=JSON.parse(this.getAttribute("data-mp-assign"));atuiMediasplayer_Assign(t)}}else i=findElement(this,"audio, video",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer"),e=this;if(i.paused===!0){stopAllMedia();const t=findElement(i,".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer");t.querySelectorAll(".atuiKernel_SectionBox.optionAlert").forEach(l=>{l.remove()});const a=i.getAttribute("src");verifyLink(a).then(l=>{l||atuiMediasplayer_BrokenLink(t,a)}),i.play(),window.getComputedStyle(t).display==="none"&&(t.style.display="block"),e.classList.replace("ti-player-play","ti-player-pause")}else i.paused===!1?(i.pause(),e.classList.replace("ti-player-pause","ti-player-play")):console.error("An unexpected error has occurred.")})}),document.querySelectorAll(".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer").forEach(e=>{const i=e.querySelector(".atuiMediasplayer_Run");e.querySelector("audio, video").addEventListener("ended",()=>{i.classList.replace("ti-player-pause","ti-player-play"),e.classList.contains("optionFloating")&&(e.style.display="none")})});function stopAllMedia(){document.querySelectorAll("audio, video").forEach(function(i){i.pause()}),document.querySelectorAll(".atuiMediasplayer_Run").forEach(function(i){i.classList.replace("ti-player-pause","ti-player-play")})}o(stopAllMedia,"stopAllMedia"),document.querySelectorAll(".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer").forEach(e=>{const i=e.querySelector("audio, video"),t=e.querySelector(".atuiMediasplayer_Timer"),a=e.querySelector(".atuiMediasplayer_ProgressbarInside");i.addEventListener("timeupdate",()=>{let r=i.currentTime,l=i.duration;isNaN(l)&&(r=0,l=0);const n=Math.round(r/l*100);t.innerText=`${convertTime(r)} - ${convertTime(l)}`,a.style.width=`${n}%`})}),document.querySelectorAll(".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer").forEach(e=>{const i=e.querySelector(".atuiMediasplayer_Backward"),t=e.querySelector(".atuiMediasplayer_Forward"),a=e.querySelector("audio, video");i.addEventListener("click",()=>{a.currentTime-=10}),t.addEventListener("click",()=>{a.currentTime+=10})}),document.querySelectorAll(".atuiMediasplayer_Progressbar").forEach(e=>{e.addEventListener("click",i=>{const t=findElement(e,"audio, video",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer"),a=i.offsetX/e.offsetWidth*100;t.currentTime=t.duration*a/100,e.querySelector(".atuiMediasplayer_ProgressbarInside").style.width=`${a}%`})}),document.querySelectorAll(".atuiMediasplayer_Infos").forEach(function(e){e.addEventListener("mouseenter",function(){atuiKernel_ToolsContextmenuDisplay(this,!0,!1)}),e.addEventListener("mouseleave",function(){atuiKernel_ToolsContextmenuDisplay(this,!1,void 0)})}),document.querySelectorAll(".atuiMediasplayer_Loop").forEach(function(e){e.addEventListener("click",function(){const i=findElement(this,"audio, video",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer");i.loop===!1?(i.loop=!0,this.classList.replace("ti-repeat","ti-repeat-off")):i.loop===!0?(i.loop=!1,this.classList.replace("ti-repeat-off","ti-repeat")):console.error("An unexpected error has occurred.")})}),document.querySelectorAll(".atuiMediasplayer_Sound").forEach(function(e){e.addEventListener("click",function(){const i=findElement(this,"audio, video",".atuiMediasplayer_Audioplayer, .atuiMediasplayer_Videoplayer");i.muted===!1?(i.muted=!0,this.classList.replace("ti-volume","ti-volume-off")):i.muted===!0?(i.muted=!1,this.classList.replace("ti-volume-off","ti-volume")):console.error("An unexpected error has occurred.")})}),document.querySelectorAll(".atuiMediasplayer_Fullscreen").forEach(e=>{e.addEventListener("click",()=>{const i=findElement(e,"video",".atuiMediasplayer_Videoplayer");if(i.requestFullscreen)i.requestFullscreen();else if(i.webkitRequestFullscreen)i.webkitRequestFullscreen();else{console.error("The browser does not support fullscreen mode.");return}})}),document.querySelectorAll(".atuiMediasplayer_Pip").forEach(e=>{e.addEventListener("click",()=>{const i=findElement(e,"video",".atuiMediasplayer_Videoplayer");i!==document.pictureInPictureElement?i.requestPictureInPicture():document.exitPictureInPicture()})});
//# sourceMappingURL=dist.js.map
